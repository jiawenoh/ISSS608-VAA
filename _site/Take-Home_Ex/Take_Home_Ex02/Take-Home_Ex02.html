<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.475">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Oh Jia Wen">
<meta name="dcterms.date" content="2023-05-24">

<title>Take Home Exercise 2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../Take-Home_Ex/Take_Home_Ex01/Take-Home_Ex01.html" rel="prev">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="../../site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="../../site_libs/plotly-binding-4.10.1/plotly.js"></script>
<script src="../../site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="../../site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="../../site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="../../site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="../../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="../../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<link href="../../site_libs/vis-9.1.0/vis-network.min.css" rel="stylesheet">
<script src="../../site_libs/vis-9.1.0/vis-network.min.js"></script>
<script src="../../site_libs/visNetwork-binding-2.1.2/visNetwork.js"></script>
<link href="../../site_libs/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet">
<script src="../../site_libs/d3-3.5.5/d3.min.js"></script>
<link href="../../site_libs/d3tree-0.1/d3tree.css" rel="stylesheet">
<script src="../../site_libs/d3tree-binding-0.1/d3tree.js"></script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Take Home Exercise 2</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">Welcome</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://isss608-ohjiawen.netlify.app/" title="" class="sidebar-tool px-1"><i class="bi bi-house-fill"></i></a>
    <a href="https://github.com/jiawenoh/ISSS608-VAA" title="" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
    <a href="https://www.linkedin.com/in/jia-wen-oh/" title="" class="sidebar-tool px-1"><i class="bi bi-linkedin"></i></a>
  <a href="" class="quarto-color-scheme-toggle sidebar-tool" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">About</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">Home</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../about_me.html" class="sidebar-item-text sidebar-link">About Me</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">Hands-on Exercise</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html" class="sidebar-item-text sidebar-link">Hands-on Exercise 1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html" class="sidebar-item-text sidebar-link">Hands-on Exercise 2</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03.html" class="sidebar-item-text sidebar-link">Hands-on Exercise 3</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04.html" class="sidebar-item-text sidebar-link">Hands-on Exercise 4</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05.html" class="sidebar-item-text sidebar-link">Hands-on Exercise 5</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Hands-on_Ex/Hands-on_Ex06/Hands-on_Ex06.html" class="sidebar-item-text sidebar-link">Hands-on Exercise 6 Part One</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Hands-on_Ex/Hands-on_Ex06/Hands_on_Ex06_PartTwo.html" class="sidebar-item-text sidebar-link">Hands-on Exercise 6 Part Two</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">In-class Exercise</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../In-class_Ex/In-class_Ex01/In-class_Ex01.html" class="sidebar-item-text sidebar-link">In-class Exercise 1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../In-class_Ex/In-class_Ex03/In-class_Ex03.html" class="sidebar-item-text sidebar-link">In-class Exercise 3</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../In-class_Ex/In-class_Ex04/In-class_Ex04.html" class="sidebar-item-text sidebar-link">In-class Exercise 4</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../In-class_Ex/In-class_Ex05/In-class_Ex05.html" class="sidebar-item-text sidebar-link">In-class Exercise 5</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../In-class_Ex/In-class_Ex06/In-class_Ex06.html" class="sidebar-item-text sidebar-link">In-class Exercise 6</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">Take Home Exercise</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Take-Home_Ex/Take_Home_Ex01/Take-Home_Ex01.html" class="sidebar-item-text sidebar-link">Take Home Exercise 1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Take-Home_Ex/Take_Home_Ex02/Take-Home_Ex02.html" class="sidebar-item-text sidebar-link active">Take Home Exercise 2</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">1. OVERVIEW</a>
  <ul class="collapse">
  <li><a href="#the-task" id="toc-the-task" class="nav-link" data-scroll-target="#the-task">1.1 The Task</a></li>
  </ul></li>
  <li><a href="#datasets" id="toc-datasets" class="nav-link" data-scroll-target="#datasets">2. Datasets</a></li>
  <li><a href="#data-preparation" id="toc-data-preparation" class="nav-link" data-scroll-target="#data-preparation">3. Data Preparation</a>
  <ul class="collapse">
  <li><a href="#install-r-packages" id="toc-install-r-packages" class="nav-link" data-scroll-target="#install-r-packages">3.1 Install R-packages</a></li>
  <li><a href="#importing-data" id="toc-importing-data" class="nav-link" data-scroll-target="#importing-data">3.2 Importing Data</a></li>
  <li><a href="#create-tibble-dataframe" id="toc-create-tibble-dataframe" class="nav-link" data-scroll-target="#create-tibble-dataframe">3.3 Create Tibble Dataframe</a></li>
  <li><a href="#concatenate-tibble-dataframe" id="toc-concatenate-tibble-dataframe" class="nav-link" data-scroll-target="#concatenate-tibble-dataframe">3.4 Concatenate Tibble Dataframe</a></li>
  <li><a href="#creating-a-master-id-data-frame" id="toc-creating-a-master-id-data-frame" class="nav-link" data-scroll-target="#creating-a-master-id-data-frame">Creating a Master ID data frame</a></li>
  <li><a href="#data-wrangling" id="toc-data-wrangling" class="nav-link" data-scroll-target="#data-wrangling">3.5 Data Wrangling</a></li>
  </ul></li>
  <li><a href="#distribution-of-transactions" id="toc-distribution-of-transactions" class="nav-link" data-scroll-target="#distribution-of-transactions">4. Distribution of transactions</a>
  <ul class="collapse">
  <li><a href="#number-of-transactions-by-year-and-month" id="toc-number-of-transactions-by-year-and-month" class="nav-link" data-scroll-target="#number-of-transactions-by-year-and-month">4.1 Number of Transactions by Year and Month</a></li>
  <li><a href="#trade-flow-of-organizations-with-above-30-transactions-in-mar-2023" id="toc-trade-flow-of-organizations-with-above-30-transactions-in-mar-2023" class="nav-link" data-scroll-target="#trade-flow-of-organizations-with-above-30-transactions-in-mar-2023">4.2 Trade flow of Organizations with above 30 transactions in Mar 2023</a></li>
  <li><a href="#statistical-plot-of-degree-centrality-against-trade-status" id="toc-statistical-plot-of-degree-centrality-against-trade-status" class="nav-link" data-scroll-target="#statistical-plot-of-degree-centrality-against-trade-status">Statistical Plot of Degree Centrality against Trade Status</a></li>
  </ul></li>
  <li><a href="#distribution-of-median-weight-by-hscode-and-year" id="toc-distribution-of-median-weight-by-hscode-and-year" class="nav-link" data-scroll-target="#distribution-of-median-weight-by-hscode-and-year">Distribution of Median Weight by hscode and year</a>
  <ul class="collapse">
  <li><a href="#network-graph-for-hscode-306170" id="toc-network-graph-for-hscode-306170" class="nav-link" data-scroll-target="#network-graph-for-hscode-306170">Network graph for Hscode (306170)</a></li>
  <li><a href="#network-graph-for-hscode-and-year" id="toc-network-graph-for-hscode-and-year" class="nav-link" data-scroll-target="#network-graph-for-hscode-and-year">Network graph for Hscode and year</a></li>
  <li><a href="#statistical-plot-of-hscode-against-years" id="toc-statistical-plot-of-hscode-against-years" class="nav-link" data-scroll-target="#statistical-plot-of-hscode-against-years">Statistical Plot of HScode against Years</a></li>
  <li><a href="#data-preparation-for-visnetwork" id="toc-data-preparation-for-visnetwork" class="nav-link" data-scroll-target="#data-preparation-for-visnetwork">Data Preparation for visNetwork</a>
  <ul class="collapse">
  <li><a href="#top-30-source-and-top-30-target" id="toc-top-30-source-and-top-30-target" class="nav-link" data-scroll-target="#top-30-source-and-top-30-target">TOP 30 SOURCE AND TOP 30 TARGET</a></li>
  </ul></li>
  <li><a href="#filter-unknown-status" id="toc-filter-unknown-status" class="nav-link" data-scroll-target="#filter-unknown-status">filter unknown status</a></li>
  </ul></li>
  <li><a href="#filter-for-companies-with-duplicated-entries" id="toc-filter-for-companies-with-duplicated-entries" class="nav-link" data-scroll-target="#filter-for-companies-with-duplicated-entries">filter for companies with duplicated entries</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References:</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Take Home Exercise 2</h1>
<p class="subtitle lead">Mini Case 2 of Vast Challenge 2023</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Oh Jia Wen </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 24, 2023</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">May 24, 2023</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="overview" class="level1">
<h1>1. OVERVIEW</h1>
<p>FishEye International is collaborating with the country of Oceanus to identify companies who could potentially engaged in illegal, unreported, and unregulated (IUU) fishing. FishEye has transformed import/export data into a knowledge graph.</p>
<p>The country of Oceanus has sought FishEye International’s help in identifying companies possibly engaged in illegal, unreported, and unregulated (IUU) fishing.</p>
<p>With reference to <a href="https://vast-challenge.github.io/2023/MC2.html">Mini-Challenge 2</a> of <a href="https://vast-challenge.github.io/2023/">VAST Challenge 2023</a> and by using appropriate <strong>static and interactive statistical graphics</strong> methods, you are required to help FishEye identify companies that may be engaged in illegal fishing?</p>
<section id="the-task" class="level2">
<h2 class="anchored" data-anchor-id="the-task">1.1 The Task</h2>
<p>In this take-home exercise…</p>
</section>
</section>
<section id="datasets" class="level1">
<h1>2. Datasets</h1>
<p>The trade data is stored in <em>mc2_challenge_graph.json</em> file with a time period of 7 years from the time period 2028 to 2024. It includes a bundles with 12 types of marine species, ranging from Carp, Shark, to Tuna.</p>
</section>
<section id="data-preparation" class="level1">
<h1>3. Data Preparation</h1>
<section id="install-r-packages" class="level2">
<h2 class="anchored" data-anchor-id="install-r-packages">3.1 Install R-packages</h2>
<p>Using p_load() of pacman package to load and install the following libraries:</p>
<ul>
<li><p><code>jsonlite</code> : To Import Data from JSON File into R</p></li>
<li><p><code>lubridate</code> : To Convert Date and Time</p></li>
<li><p><code>visNetwork</code>: For Network Visualization</p></li>
<li><p><code>tidyverse</code>: A collection of R packages use in everyday data analyses. It is able to support data science, data wrangling, and analysis.</p></li>
<li><p><code>ggplot2</code>:By</p></li>
<li><p><code>hrbrthemes</code>: For Additional Themes, and Utilities for ‘ggplot2’ (might not use)</p></li>
<li><p><code>heatmaply</code>:</p></li>
<li><p><code>treemap</code>:</p></li>
<li><p><code>devtools</code>: For the installing for <code>d3treeR</code></p></li>
</ul>
<p><code>igraph</code>: for exploring the network</p>
<p><code>ggstatsplot</code>: for creating graphics with details from statistical tests included and its plot</p>
<p><code>RColorBrewer</code>:</p>
<p><code>scales</code> : check at EOD</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman <span class="sc">::</span> <span class="fu">p_load</span> (jsonlite, lubridate, tidygraph, ggraph, visNetwork, tidyverse,</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>                  igraph,ggplot2,heatmaply,hrbrthemes,scales,treemap,devtools,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>                  ggstatsplot,RColorBrewer, knitr)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="importing-data" class="level2">
<h2 class="anchored" data-anchor-id="importing-data">3.2 Importing Data</h2>
<p>There are 13 JSON files that will be imported into R the <code>fromJSON</code> function from <code>jsonlite</code>. The code chunk below shows the knowledge graph FishEye created from trade records.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>MC2_challenge <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/mc2_challenge_graph.json"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>MC2_carp <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/bundles/carp.json"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>MC2_catfish <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/bundles/catfish.json"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>MC2_chub_mackerel <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/bundles/chub_mackerel.json"</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>MC2_cod2 <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/bundles/cod2.json"</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>MC2_herring <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/bundles/herring.json"</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>MC2_lichen <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/bundles/lichen.json"</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>MC2_mackerel <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/bundles/mackerel.json"</span>)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>MC2_pollock <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/bundles/pollock.json"</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>MC2_salmon_wgl <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/bundles/salmon_wgl.json"</span>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>MC2_salmon <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/bundles/salmon.json"</span>)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>MC2_shark <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/bundles/shark.json"</span>)</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>MC2_tuna <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/bundles/tuna.json"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="create-tibble-dataframe" class="level2">
<h2 class="anchored" data-anchor-id="create-tibble-dataframe">3.3 Create Tibble Dataframe</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>MC2_challenge_nodes <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_challenge<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,shpcountry,rcvcountry)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>MC2_challenge_edges <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_challenge<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(source,target,arrivaldate, hscode,valueofgoods_omu, </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>         volumeteu, weightkg, valueofgoodsusd)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">#1_fish type :carp</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>MC2_carp_nodes <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_carp<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,dataset,shpcountry,rcvcountry)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>MC2_carp_edges <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_carp<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">7</span>,<span class="dv">6</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co">#2_fish type: catfish</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>MC2_catfish_nodes <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_catfish<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,dataset,shpcountry,rcvcountry)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>MC2_catfish_edges <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_catfish<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">5</span>,<span class="dv">4</span>)</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="co">#3_fish type: chub_mackerel</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>MC2_chub_mackerel_nodes <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_chub_mackerel<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,dataset,shpcountry,rcvcountry)</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>MC2_chub_mackerel_edges <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_chub_mackerel<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">7</span>,<span class="dv">6</span>)</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="co">#4_fish type: cod2</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>MC2_cod2_nodes <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_cod2<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,dataset,shpcountry,rcvcountry)</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>MC2_cod2_edges <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_cod2<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">7</span>,<span class="dv">6</span>)</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a><span class="co">#5_fish type: herring</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>MC2_herring_nodes <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_herring<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,dataset,shpcountry,rcvcountry)</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>MC2_herring_edges <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_herring<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">6</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">9</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a><span class="co">#6_fish type: lichen</span></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>MC2_lichen_nodes <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_lichen<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,dataset,shpcountry,rcvcountry)</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>MC2_lichen_edges <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_lichen<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">relocate</span>(<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">6</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">9</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a><span class="co">#7_fish type: mackerel</span></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>MC2_mackerel_nodes <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_mackerel<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,dataset,shpcountry,rcvcountry)</span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>MC2_mackerel_edges <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_mackerel<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">relocate</span>(<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">5</span>,<span class="dv">4</span>)</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a><span class="co">#8_fish type: pollock</span></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>MC2_pollock_nodes <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_pollock<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,dataset,shpcountry,rcvcountry)</span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>MC2_pollock_edges <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_pollock<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">relocate</span>(<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">7</span>,<span class="dv">6</span>)</span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a><span class="co">#9_fish type: salmon_wgl</span></span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>MC2_salmon_wgl_nodes <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_salmon_wgl<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,dataset,shpcountry,rcvcountry)</span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>MC2_salmon_wgl_edges <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_salmon_wgl<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">6</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">9</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a><span class="co">#10_fish type: salmon</span></span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>MC2_salmon_nodes <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_salmon<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,dataset,shpcountry,rcvcountry)</span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>MC2_salmon_edges <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_salmon<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">7</span>,<span class="dv">6</span>)</span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a><span class="co">#11_fish type: shark</span></span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a>MC2_shark_nodes <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_shark<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,dataset,shpcountry,rcvcountry)</span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a>MC2_shark_edges <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_shark<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a>    <span class="fu">relocate</span>(<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">6</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">9</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a><span class="co">#12_fish type: tuna</span></span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a>MC2_tuna_nodes <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_tuna<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,dataset,shpcountry,rcvcountry)</span>
<span id="cb5-70"><a href="#cb5-70" aria-hidden="true" tabindex="-1"></a>MC2_tuna_edges <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_tuna<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb5-71"><a href="#cb5-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">4</span>,<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="concatenate-tibble-dataframe" class="level2">
<h2 class="anchored" data-anchor-id="concatenate-tibble-dataframe">3.4 Concatenate Tibble Dataframe</h2>
<p>Among the 12 files, there are 3 data frames which have 7 variables whereas the rest have 9 variables. As such, <code>bind_rows()</code> - a function from the <code>dplyr</code> package within the <code>tidyverse</code> is used.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>combined_edges <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(MC2_carp_edges,MC2_chub_mackerel_edges,</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>                        MC2_cod2_edges,MC2_herring_edges,MC2_lichen_edges,</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>                        MC2_pollock_edges,MC2_salmon_wgl_edges,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>                        MC2_salmon_edges,MC2_shark_edges, </span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>                        MC2_catfish_edges,MC2_mackerel_edges,MC2_tuna_edges)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout-Tip callout callout-style-default no-icon callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Catfish, Mackerel, and Tuna have 7 variables while other fishes have 9 variables. It is better to concatenate with the use <code>blind_rows</code> instead of <code>rbind()</code> as the latter requires an exact match in the numbers of columns.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>combined_nodes <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(MC2_carp_nodes,MC2_catfish_nodes,</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>                            MC2_chub_mackerel_nodes,MC2_cod2_nodes,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>                            MC2_herring_nodes, MC2_lichen_nodes,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>                            MC2_mackerel_nodes, MC2_pollock_nodes, </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>                            MC2_salmon_wgl_nodes,MC2_salmon_nodes,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>                            MC2_shark_nodes, MC2_tuna_nodes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="creating-a-master-id-data-frame" class="level2">
<h2 class="anchored" data-anchor-id="creating-a-master-id-data-frame">Creating a Master ID data frame</h2>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>MC2_id_list <span class="ot">&lt;-</span> MC2_challenge_nodes <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">label =</span> id) <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">trade_status =</span> <span class="fu">case_when</span>(</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(shpcountry) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(rcvcountry) <span class="sc">~</span> <span class="st">"Import &amp; Export"</span>,</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(shpcountry) <span class="sc">~</span> <span class="st">"Export"</span>,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(rcvcountry) <span class="sc">~</span> <span class="st">"Import"</span>,</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">is.na</span>(shpcountry) <span class="sc">|</span> <span class="fu">is.na</span>(rcvcountry) <span class="sc">~</span><span class="st">"Unknown"</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  )) </span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>MC2_id_list <span class="ot">&lt;-</span> MC2_id_list <span class="sc">%&gt;%</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(label,trade_status,shpcountry, rcvcountry)</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="co">#create new df and add new column called trade_status</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>MC2_id_list_vis <span class="ot">&lt;-</span> MC2_challenge_nodes <span class="sc">%&gt;%</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">label =</span> id) <span class="sc">%&gt;%</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">id =</span> <span class="fu">as.character</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(MC2_challenge_nodes)),</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">trade_status =</span> <span class="fu">case_when</span>(</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(shpcountry) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(rcvcountry) <span class="sc">~</span> <span class="st">"Import &amp; Export"</span>,</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(shpcountry) <span class="sc">~</span> <span class="st">"Export"</span>,</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(rcvcountry) <span class="sc">~</span> <span class="st">"Import"</span>,</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">is.na</span>(shpcountry) <span class="sc">|</span> <span class="fu">is.na</span>(rcvcountry) <span class="sc">~</span><span class="st">"Unknown"</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(trade_status))</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a><span class="co">#reorder the columns </span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>MC2_id_list_vis <span class="ot">&lt;-</span> MC2_id_list_vis <span class="sc">%&gt;%</span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,label, trade_status,shpcountry, rcvcountry)</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a><span class="co">#create df to identify companies in target column that are not in the nodes </span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>ID_target <span class="ot">&lt;-</span> MC2_challenge_edges <span class="sc">%&gt;%</span></span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(target <span class="sc">%in%</span> MC2_id_list<span class="sc">$</span>label)) <span class="sc">%&gt;%</span></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(target) <span class="sc">%&gt;%</span></span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>  <span class="co">#rename to match names in nodes df</span></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">id =</span> target) <span class="sc">%&gt;%</span></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>  <span class="co">#dummy columns are created to bind rows together</span></span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">dataset =</span> <span class="cn">NA</span>, <span class="at">shpcountry =</span> <span class="cn">NA</span>, <span class="at">rcvcountry =</span> <span class="cn">NA</span>)</span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a><span class="co">#create df to identify companies in source column that are not in the nodes </span></span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>ID_source <span class="ot">&lt;-</span> MC2_challenge_edges <span class="sc">%&gt;%</span></span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(source <span class="sc">%in%</span> MC2_id_list<span class="sc">$</span>label)) <span class="sc">%&gt;%</span></span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(source) <span class="sc">%&gt;%</span></span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">id =</span> source) <span class="sc">%&gt;%</span></span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">dataset =</span> <span class="cn">NA</span>, <span class="at">shpcountry =</span> <span class="cn">NA</span>, <span class="at">rcvcountry =</span> <span class="cn">NA</span>)</span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a><span class="co">#append the distinct companies into the nodes </span></span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>MC2_challenge_nodes <span class="ot">&lt;-</span> MC2_challenge_nodes <span class="sc">%&gt;%</span></span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rbind</span>(ID_target) <span class="sc">%&gt;%</span></span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rbind</span>(ID_source)</span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a><span class="co">#output of ID nodes that are not in Master list</span></span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(ID_source)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(ID_target)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
<p>There are 0 companies on the <code>target</code> column that are not included in the list. Meanwhile, there are no data available in the <code>source</code> column that are not in the list.</p>
<p>The <code>!is.na()</code> functions help to check for non-missing values in the specified column. In this combined_nodes data frame, the ID only corresponds to either the shipping country or the receiving country. Therefore, it is further segregated into import and export.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(<span class="fu">is.na</span>(MC2_id_list))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</section>
<section id="data-wrangling" class="level2">
<h2 class="anchored" data-anchor-id="data-wrangling">3.5 Data Wrangling</h2>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">#revise the data format for arrivaldate and hscode </span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>MC2_challenge_edges<span class="ot">&lt;-</span> MC2_challenge_edges <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">sourcelabel =</span> source, <span class="at">targetlabel =</span> target) <span class="sc">%&gt;%</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">arrivaldate =</span><span class="fu">ymd</span>(arrivaldate),</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">hscode =</span> <span class="fu">as.character</span>(hscode),</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">year =</span> <span class="fu">year</span>(arrivaldate))</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="co">#to append correspoinding id through left_join </span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>MC2_challenge_edges <span class="ot">&lt;-</span> MC2_challenge_edges <span class="sc">%&gt;%</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(MC2_id_list_vis, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"sourcelabel"</span> <span class="ot">=</span> <span class="st">"label"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">source =</span> id) <span class="sc">%&gt;%</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(MC2_id_list_vis, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"targetlabel"</span> <span class="ot">=</span> <span class="st">"label"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">target =</span> id) <span class="sc">%&gt;%</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(<span class="dv">10</span>,<span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>combined_edges_cleaned<span class="ot">&lt;-</span> combined_edges <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">arrivaldate =</span><span class="fu">ymd</span>(arrivaldate),</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">hscode =</span> <span class="fu">as.character</span>(hscode))</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>combined_edges_cleaned</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,569 × 9
   source        target dataset generated_by arrivaldate hscode valueofgoods_omu
   &lt;chr&gt;         &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;        &lt;date&gt;      &lt;chr&gt;             &lt;dbl&gt;
 1 Tshimbua Gmb… "Cara… MC2     carp         2034-03-20  80440             15915
 2 Marine Maste… "Play… MC2     carp         2034-08-01  940179               NA
 3 Marine Maste… "Salt… MC2     carp         2034-11-27  940161               NA
 4 Marine Maste… "Salt… MC2     carp         2034-10-10  940161               NA
 5 zhāng yú Ges… "Port… MC2     carp         2034-04-09  40729                NA
 6 Nile   S.A. … "Cara… MC2     carp         2034-03-30  700711               NA
 7 Nile   S.A. … "Play… MC2     carp         2034-03-12  701090               NA
 8 AquaBite Lim… "Mar … MC2     carp         2034-04-02  160419            63125
 9 Limpopo Rive… "Bu y… MC2     carp         2034-01-26  841950               NA
10 Bu yu wang NV "Lake… MC2     carp         2034-12-06  200600            57020
# ℹ 2,559 more rows
# ℹ 2 more variables: volumeteu &lt;dbl&gt;, weightkg &lt;int&gt;</code></pre>
</div>
</div>
<section id="data-wrangling-for-bundles" class="level4">
<h4 class="anchored" data-anchor-id="data-wrangling-for-bundles">3.5.1 Data Wrangling for Bundles</h4>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">#1_fish type: carp</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>MC2_carp_edges_cleaned <span class="ot">&lt;-</span> MC2_carp_edges <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">arrivaldate =</span><span class="fu">ymd</span>(arrivaldate),</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">hscode =</span> <span class="fu">as.character</span>(hscode))</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co">#2_fish type: catfish</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>MC2_catfish_edges_cleaned <span class="ot">&lt;-</span> MC2_catfish_edges <span class="sc">%&gt;%</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">arrivaldate =</span><span class="fu">ymd</span>(arrivaldate),</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">hscode =</span> <span class="fu">as.character</span>(hscode))</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="co">#3_fish type: chub_mackerel</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>MC2_chub_mackerel_edges_cleaned <span class="ot">&lt;-</span> MC2_chub_mackerel_edges <span class="sc">%&gt;%</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">arrivaldate =</span><span class="fu">ymd</span>(arrivaldate),</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>         <span class="at">hscode =</span> <span class="fu">as.character</span>(hscode))</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="co">#4_fish type: cod2</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>MC2_cod2_edges_cleaned <span class="ot">&lt;-</span> MC2_cod2_edges <span class="sc">%&gt;%</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">arrivaldate =</span><span class="fu">ymd</span>(arrivaldate),</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>         <span class="at">hscode =</span> <span class="fu">as.character</span>(hscode))</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a><span class="co">#5_fish type: herring</span></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>MC2_herring_edges_cleaned <span class="ot">&lt;-</span> MC2_herring_edges <span class="sc">%&gt;%</span></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">arrivaldate =</span><span class="fu">ymd</span>(arrivaldate),</span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>         <span class="at">hscode =</span> <span class="fu">as.character</span>(hscode))</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a><span class="co">#6_fish type: lichen</span></span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>MC2_lichen_edges_cleaned <span class="ot">&lt;-</span> MC2_lichen_edges <span class="sc">%&gt;%</span></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">arrivaldate =</span><span class="fu">ymd</span>(arrivaldate),</span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>         <span class="at">hscode =</span> <span class="fu">as.character</span>(hscode))</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a><span class="co">#7_fish type: mackerel</span></span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>MC2_mackerel_edges_cleaned <span class="ot">&lt;-</span> MC2_mackerel_edges <span class="sc">%&gt;%</span></span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">arrivaldate =</span><span class="fu">ymd</span>(arrivaldate),</span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a>         <span class="at">hscode =</span> <span class="fu">as.character</span>(hscode))</span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a><span class="co">#8_fish type: pollock</span></span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a>MC2_pollock_edges_cleaned <span class="ot">&lt;-</span> MC2_pollock_edges <span class="sc">%&gt;%</span></span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">arrivaldate =</span><span class="fu">ymd</span>(arrivaldate),</span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a>         <span class="at">hscode =</span> <span class="fu">as.character</span>(hscode))</span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a><span class="co">#9_fish type: salmon_wgl</span></span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a>MC2_salmon_wgl_edges_cleaned <span class="ot">&lt;-</span> MC2_salmon_wgl_edges <span class="sc">%&gt;%</span></span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">arrivaldate =</span><span class="fu">ymd</span>(arrivaldate),</span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a>         <span class="at">hscode =</span> <span class="fu">as.character</span>(hscode))</span>
<span id="cb17-44"><a href="#cb17-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-45"><a href="#cb17-45" aria-hidden="true" tabindex="-1"></a><span class="co">#10_fish type: salmon</span></span>
<span id="cb17-46"><a href="#cb17-46" aria-hidden="true" tabindex="-1"></a>MC2_salmon_edges_cleaned <span class="ot">&lt;-</span> MC2_salmon_edges <span class="sc">%&gt;%</span></span>
<span id="cb17-47"><a href="#cb17-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">arrivaldate =</span><span class="fu">ymd</span>(arrivaldate),</span>
<span id="cb17-48"><a href="#cb17-48" aria-hidden="true" tabindex="-1"></a>         <span class="at">hscode =</span> <span class="fu">as.character</span>(hscode))</span>
<span id="cb17-49"><a href="#cb17-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-50"><a href="#cb17-50" aria-hidden="true" tabindex="-1"></a><span class="co">#11_fish type: shark</span></span>
<span id="cb17-51"><a href="#cb17-51" aria-hidden="true" tabindex="-1"></a>MC2_shark_edges_cleaned <span class="ot">&lt;-</span> MC2_shark_edges <span class="sc">%&gt;%</span></span>
<span id="cb17-52"><a href="#cb17-52" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">arrivaldate =</span><span class="fu">ymd</span>(arrivaldate),</span>
<span id="cb17-53"><a href="#cb17-53" aria-hidden="true" tabindex="-1"></a>         <span class="at">hscode =</span> <span class="fu">as.character</span>(hscode))</span>
<span id="cb17-54"><a href="#cb17-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-55"><a href="#cb17-55" aria-hidden="true" tabindex="-1"></a><span class="co">#12_fish type: tuna</span></span>
<span id="cb17-56"><a href="#cb17-56" aria-hidden="true" tabindex="-1"></a>MC2_tuna_edges_cleaned <span class="ot">&lt;-</span> MC2_tuna_edges <span class="sc">%&gt;%</span></span>
<span id="cb17-57"><a href="#cb17-57" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">arrivaldate =</span><span class="fu">ymd</span>(arrivaldate),</span>
<span id="cb17-58"><a href="#cb17-58" aria-hidden="true" tabindex="-1"></a>         <span class="at">hscode =</span> <span class="fu">as.character</span>(hscode))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Danger
</div>
</div>
<div class="callout-body-container callout-body" title="Important">
<p>HS code, also known as The Harmonized System are alphanumeric codes used for classifying goods for international trade and customs purposes. In this exercise, the HS code does not correspond to the respective goods.</p>
</div>
</div>
<p>Weights: Median = 2 , Mean = 22 , Min = 1, Max, 47134</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>combined_edges_rev <span class="ot">&lt;-</span> combined_edges <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source,target,generated_by) <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">weight =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>( source<span class="sc">!=</span>target) <span class="sc">%&gt;%</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(weight <span class="sc">&gt;</span><span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span> ()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>combined_nodes_rev <span class="ot">&lt;-</span>MC2_id_list <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(label <span class="sc">%in%</span> combined_edges_rev<span class="sc">$</span>source <span class="sc">|</span> </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>           label <span class="sc">%in%</span> combined_edges_rev<span class="sc">$</span>target)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>MC2_import <span class="ot">&lt;-</span> <span class="fu">tbl_graph</span>(<span class="at">nodes =</span> combined_nodes_rev,</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">edges =</span> combined_edges_rev,</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>MC2_import</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tbl_graph: 253 nodes and 216 edges
#
# A directed acyclic multigraph with 70 components
#
# A tibble: 253 × 4
  label                            trade_status    shpcountry  rcvcountry
  &lt;chr&gt;                            &lt;chr&gt;           &lt;chr&gt;       &lt;chr&gt;     
1 French Crab S.p.A. Worldwide     Import &amp; Export Kondanovia  Utoporiana
2 hǎi dǎn Corporation Wharf        Import &amp; Export Marebak     Oceanus   
3 Sea Breezes GmbH &amp; Co. KG Shark  Import &amp; Export Oceanus     Oceanus   
4 Costa de la Felicidad Shipping   Import &amp; Export Alverossia  Oceanus   
5 Mar del Este CJSC                Import &amp; Export Merigrad    Oceanus   
6 Mandalore S.A. de C.V. Logistics Import &amp; Export Osterivaria Oceanus   
# ℹ 247 more rows
#
# A tibble: 216 × 4
   from    to generated_by  weight
  &lt;int&gt; &lt;int&gt; &lt;chr&gt;          &lt;int&gt;
1   131    15 chub_mackerel      2
2    69     5 chub_mackerel      6
3   167    29 salmon_wgl         3
# ℹ 213 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>MC2_import <span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">activate</span>(edges) <span class="sc">%&gt;%</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(weight))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tbl_graph: 253 nodes and 216 edges
#
# A directed acyclic multigraph with 70 components
#
# A tibble: 216 × 4
   from    to generated_by weight
  &lt;int&gt; &lt;int&gt; &lt;chr&gt;         &lt;int&gt;
1   160   235 cod2            105
2   178   196 tuna            104
3   184   111 shark            87
4   251    15 cod2             52
5   214    71 lichen           48
6   163   127 cod2             36
# ℹ 210 more rows
#
# A tibble: 253 × 4
  label                           trade_status    shpcountry rcvcountry
  &lt;chr&gt;                           &lt;chr&gt;           &lt;chr&gt;      &lt;chr&gt;     
1 French Crab S.p.A. Worldwide    Import &amp; Export Kondanovia Utoporiana
2 hǎi dǎn Corporation Wharf       Import &amp; Export Marebak    Oceanus   
3 Sea Breezes GmbH &amp; Co. KG Shark Import &amp; Export Oceanus    Oceanus   
# ℹ 250 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set_graph_style</span>()</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>fishes <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(MC2_import, <span class="at">layout =</span> <span class="st">"nicely"</span>) <span class="sc">+</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> trade_status), <span class="at">size =</span><span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_edge_width</span>(<span class="at">range =</span><span class="fu">c</span>(<span class="fl">0.1</span>,<span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">width =</span> weight, <span class="at">color =</span> generated_by), <span class="at">alpha =</span> <span class="fl">0.2</span>)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>fishes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-Home_Ex02_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
</section>
<section id="distribution-of-transactions" class="level1">
<h1>4. Distribution of transactions</h1>
<p>In this section, we will create plots with interactivity to study and explore the data from the knowledge graph. The plots are created with the use of <code>heatmaply</code>,<code>visNetwork</code>, and <code>igraph</code>packages.</p>
<section id="number-of-transactions-by-year-and-month" class="level2">
<h2 class="anchored" data-anchor-id="number-of-transactions-by-year-and-month">4.1 Number of Transactions by Year and Month</h2>
<p>Heatmap is created to provide a graphical representation to the transactions. It uses a system of color-coding to represent different values. <code>[RColorBrewer]</code> package is used to include sequential palettes <em>“Blues”</em> showing progress from low to high (gradient).</p>
<p>As fishing might occurs on a seasonality basis, we created an additional column called <em>month</em> before grouping it by <em>year and month</em>. To create an interactive heatmap, data frame are transpose through <code>pivot_wider</code> before converting it to matrix with the <code>as.matrix</code> function. Thereafter, <code>[heatmaply]</code> package is used.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">#aggregate to determine transactions count by year and month </span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>transaction_counts_by_year <span class="ot">&lt;-</span> MC2_challenge_edges <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month =</span> <span class="fu">round</span>(<span class="fu">month</span>(arrivaldate))) <span class="sc">%&gt;%</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, month) <span class="sc">%&gt;%</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>())</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="co">#transpose df by using pivot_wider</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>pivoted_data <span class="ot">&lt;-</span> transaction_counts_by_year <span class="sc">%&gt;%</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> year, <span class="at">values_from =</span> count) <span class="sc">%&gt;%</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>  <span class="co">#remove the month column</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">8</span>)</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a><span class="co">#convert pivoted_data into a matrix</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>heatmap_data <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(pivoted_data)</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a><span class="co">#create interactive heatmap without dendrogram</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a><span class="fu">heatmaply</span>(heatmap_data, <span class="at">dendrogram =</span> <span class="st">"none"</span>,</span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>          <span class="at">xlab =</span> <span class="st">"Year"</span>, <span class="at">ylab =</span> <span class="st">"Month"</span>,</span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>          <span class="at">main =</span> <span class="st">"Number of Transactions by Year and Month"</span>,</span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>          <span class="at">scale =</span> <span class="st">"none"</span>,</span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>          <span class="at">grid_color =</span> <span class="st">"white"</span>,</span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>          <span class="at">grid_width =</span> <span class="fl">0.00001</span>,</span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>          <span class="at">titleX =</span> <span class="cn">FALSE</span>,</span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>          <span class="at">hide_colorbar =</span>  <span class="cn">FALSE</span>,</span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>          <span class="at">label_names =</span> <span class="fu">c</span>(<span class="st">"Month:"</span>, <span class="st">"Year: "</span>, <span class="st">"No. of Transactions:"</span>),</span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a>          <span class="at">fontsize_row =</span> <span class="dv">10</span>, <span class="at">fontsize_col =</span> <span class="dv">10</span>,</span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a>          <span class="at">colors =</span> <span class="st">"Blues"</span>,</span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a>          <span class="at">labCol =</span> <span class="fu">colnames</span>(heatmap_data),</span>
<span id="cb25-29"><a href="#cb25-29" aria-hidden="true" tabindex="-1"></a>          <span class="at">labRow =</span> <span class="fu">rownames</span>(heatmap_data),</span>
<span id="cb25-30"><a href="#cb25-30" aria-hidden="true" tabindex="-1"></a>          <span class="at">plot_method =</span> <span class="st">"plotly"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-3f542a7ef02b73631ef4" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-3f542a7ef02b73631ef4">{"x":{"data":[{"colorbar":{"ticklen":2,"lenmode":"fraction","xanchor":"left","x":1.1,"y":0,"yanchor":"bottom","len":0.3,"thickness":30},"colorscale":[["0","rgba(247,251,255,1)"],["0.0416666666666667","rgba(239,246,252,1)"],["0.0833333333333333","rgba(230,240,250,1)"],["0.125","rgba(222,235,247,1)"],["0.166666666666667","rgba(214,230,244,1)"],["0.208333333333333","rgba(206,224,242,1)"],["0.25","rgba(198,219,239,1)"],["0.291666666666667","rgba(185,213,234,1)"],["0.333333333333333","rgba(172,208,230,1)"],["0.375","rgba(158,202,225,1)"],["0.416666666666667","rgba(142,193,221,1)"],["0.458333333333333","rgba(125,183,218,1)"],["0.5","rgba(107,174,214,1)"],["0.541666666666667","rgba(94,165,209,1)"],["0.583333333333333","rgba(81,155,203,1)"],["0.625","rgba(66,146,198,1)"],["0.666666666666667","rgba(57,135,192,1)"],["0.708333333333333","rgba(46,124,187,1)"],["0.75","rgba(33,113,181,1)"],["0.791666666666667","rgba(27,102,173,1)"],["0.833333333333333","rgba(19,91,164,1)"],["0.875","rgba(8,81,156,1)"],["0.916666666666667","rgba(9,70,139,1)"],["0.958333333333333","rgba(9,59,123,1)"],["1","rgba(8,48,107,1)"]],"showscale":true,"z":[[69088,69737,61575,61605,60394,67510,53017],[67989,71067,69048,62353,60699,65661,56243],[66761,76201,76324,64590,62169,73045,54978],[69955,75622,76863,61842,62485,69728,54384],[73039,73370,77035,71300,68459,68785,62945],[70132,71708,72825,65464,69296,68756,65069],[66806,69961,72990,62310,61645,65828,59874],[66320,71252,72710,64604,60793,63619,59962],[59944,67736,68325,59510,59654,56483,57771],[53412,63652,78775,55773,53639,52072,55030],[62051,60940,64087,62580,56742,57791,58061],[61943,72263,66766,68080,60280,64710,68518]],"x":[1,2,3,4,5,6,7],"y":[1,2,3,4,5,6,7,8,9,10,11,12],"text":[["Month:: 12<br>Year: : 2028<br>No. of Transactions:: 69088","Month:: 12<br>Year: : 2029<br>No. of Transactions:: 69737","Month:: 12<br>Year: : 2030<br>No. of Transactions:: 61575","Month:: 12<br>Year: : 2031<br>No. of Transactions:: 61605","Month:: 12<br>Year: : 2032<br>No. of Transactions:: 60394","Month:: 12<br>Year: : 2033<br>No. of Transactions:: 67510","Month:: 12<br>Year: : 2034<br>No. of Transactions:: 53017"],["Month:: 11<br>Year: : 2028<br>No. of Transactions:: 67989","Month:: 11<br>Year: : 2029<br>No. of Transactions:: 71067","Month:: 11<br>Year: : 2030<br>No. of Transactions:: 69048","Month:: 11<br>Year: : 2031<br>No. of Transactions:: 62353","Month:: 11<br>Year: : 2032<br>No. of Transactions:: 60699","Month:: 11<br>Year: : 2033<br>No. of Transactions:: 65661","Month:: 11<br>Year: : 2034<br>No. of Transactions:: 56243"],["Month:: 10<br>Year: : 2028<br>No. of Transactions:: 66761","Month:: 10<br>Year: : 2029<br>No. of Transactions:: 76201","Month:: 10<br>Year: : 2030<br>No. of Transactions:: 76324","Month:: 10<br>Year: : 2031<br>No. of Transactions:: 64590","Month:: 10<br>Year: : 2032<br>No. of Transactions:: 62169","Month:: 10<br>Year: : 2033<br>No. of Transactions:: 73045","Month:: 10<br>Year: : 2034<br>No. of Transactions:: 54978"],["Month:: 9<br>Year: : 2028<br>No. of Transactions:: 69955","Month:: 9<br>Year: : 2029<br>No. of Transactions:: 75622","Month:: 9<br>Year: : 2030<br>No. of Transactions:: 76863","Month:: 9<br>Year: : 2031<br>No. of Transactions:: 61842","Month:: 9<br>Year: : 2032<br>No. of Transactions:: 62485","Month:: 9<br>Year: : 2033<br>No. of Transactions:: 69728","Month:: 9<br>Year: : 2034<br>No. of Transactions:: 54384"],["Month:: 8<br>Year: : 2028<br>No. of Transactions:: 73039","Month:: 8<br>Year: : 2029<br>No. of Transactions:: 73370","Month:: 8<br>Year: : 2030<br>No. of Transactions:: 77035","Month:: 8<br>Year: : 2031<br>No. of Transactions:: 71300","Month:: 8<br>Year: : 2032<br>No. of Transactions:: 68459","Month:: 8<br>Year: : 2033<br>No. of Transactions:: 68785","Month:: 8<br>Year: : 2034<br>No. of Transactions:: 62945"],["Month:: 7<br>Year: : 2028<br>No. of Transactions:: 70132","Month:: 7<br>Year: : 2029<br>No. of Transactions:: 71708","Month:: 7<br>Year: : 2030<br>No. of Transactions:: 72825","Month:: 7<br>Year: : 2031<br>No. of Transactions:: 65464","Month:: 7<br>Year: : 2032<br>No. of Transactions:: 69296","Month:: 7<br>Year: : 2033<br>No. of Transactions:: 68756","Month:: 7<br>Year: : 2034<br>No. of Transactions:: 65069"],["Month:: 6<br>Year: : 2028<br>No. of Transactions:: 66806","Month:: 6<br>Year: : 2029<br>No. of Transactions:: 69961","Month:: 6<br>Year: : 2030<br>No. of Transactions:: 72990","Month:: 6<br>Year: : 2031<br>No. of Transactions:: 62310","Month:: 6<br>Year: : 2032<br>No. of Transactions:: 61645","Month:: 6<br>Year: : 2033<br>No. of Transactions:: 65828","Month:: 6<br>Year: : 2034<br>No. of Transactions:: 59874"],["Month:: 5<br>Year: : 2028<br>No. of Transactions:: 66320","Month:: 5<br>Year: : 2029<br>No. of Transactions:: 71252","Month:: 5<br>Year: : 2030<br>No. of Transactions:: 72710","Month:: 5<br>Year: : 2031<br>No. of Transactions:: 64604","Month:: 5<br>Year: : 2032<br>No. of Transactions:: 60793","Month:: 5<br>Year: : 2033<br>No. of Transactions:: 63619","Month:: 5<br>Year: : 2034<br>No. of Transactions:: 59962"],["Month:: 4<br>Year: : 2028<br>No. of Transactions:: 59944","Month:: 4<br>Year: : 2029<br>No. of Transactions:: 67736","Month:: 4<br>Year: : 2030<br>No. of Transactions:: 68325","Month:: 4<br>Year: : 2031<br>No. of Transactions:: 59510","Month:: 4<br>Year: : 2032<br>No. of Transactions:: 59654","Month:: 4<br>Year: : 2033<br>No. of Transactions:: 56483","Month:: 4<br>Year: : 2034<br>No. of Transactions:: 57771"],["Month:: 3<br>Year: : 2028<br>No. of Transactions:: 53412","Month:: 3<br>Year: : 2029<br>No. of Transactions:: 63652","Month:: 3<br>Year: : 2030<br>No. of Transactions:: 78775","Month:: 3<br>Year: : 2031<br>No. of Transactions:: 55773","Month:: 3<br>Year: : 2032<br>No. of Transactions:: 53639","Month:: 3<br>Year: : 2033<br>No. of Transactions:: 52072","Month:: 3<br>Year: : 2034<br>No. of Transactions:: 55030"],["Month:: 2<br>Year: : 2028<br>No. of Transactions:: 62051","Month:: 2<br>Year: : 2029<br>No. of Transactions:: 60940","Month:: 2<br>Year: : 2030<br>No. of Transactions:: 64087","Month:: 2<br>Year: : 2031<br>No. of Transactions:: 62580","Month:: 2<br>Year: : 2032<br>No. of Transactions:: 56742","Month:: 2<br>Year: : 2033<br>No. of Transactions:: 57791","Month:: 2<br>Year: : 2034<br>No. of Transactions:: 58061"],["Month:: 1<br>Year: : 2028<br>No. of Transactions:: 61943","Month:: 1<br>Year: : 2029<br>No. of Transactions:: 72263","Month:: 1<br>Year: : 2030<br>No. of Transactions:: 66766","Month:: 1<br>Year: : 2031<br>No. of Transactions:: 68080","Month:: 1<br>Year: : 2032<br>No. of Transactions:: 60280","Month:: 1<br>Year: : 2033<br>No. of Transactions:: 64710","Month:: 1<br>Year: : 2034<br>No. of Transactions:: 68518"]],"showlegend":false,"hoverinfo":"text","type":"heatmap","xaxis":"x","yaxis":"y","frame":null}],"layout":{"xaxis":{"domain":[0,1],"automargin":true,"tickfont":{"size":10},"tickangle":45,"tickvals":[1,2,3,4,5,6,7],"ticktext":["2028","2029","2030","2031","2032","2033","2034"],"linecolor":"#ffffff","range":[0.5,7.5],"showticklabels":true,"anchor":"y"},"yaxis":{"domain":[0,1],"automargin":true,"tickfont":{"size":10},"tickangle":0,"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12],"ticktext":["12","11","10","9","8","7","6","5","4","3","2","1"],"linecolor":"#ffffff","range":[0.5,12.5],"showticklabels":true,"title":"Month","anchor":"x"},"annotations":[],"shapes":[],"images":[],"margin":{"b":24,"l":12,"t":30,"r":null},"scene":{"zaxis":{"title":[]}},"hovermode":"closest","showlegend":false,"title":"Number of Transactions by Year and Month","legend":{"y":1,"yanchor":"top"}},"attrs":{"6e0918572580":{"z":[[69088,69737,61575,61605,60394,67510,53017],[67989,71067,69048,62353,60699,65661,56243],[66761,76201,76324,64590,62169,73045,54978],[69955,75622,76863,61842,62485,69728,54384],[73039,73370,77035,71300,68459,68785,62945],[70132,71708,72825,65464,69296,68756,65069],[66806,69961,72990,62310,61645,65828,59874],[66320,71252,72710,64604,60793,63619,59962],[59944,67736,68325,59510,59654,56483,57771],[53412,63652,78775,55773,53639,52072,55030],[62051,60940,64087,62580,56742,57791,58061],[61943,72263,66766,68080,60280,64710,68518]],"x":[1,2,3,4,5,6,7],"y":[1,2,3,4,5,6,7,8,9,10,11,12],"text":[["Month:: 12<br>Year: : 2028<br>No. of Transactions:: 69088","Month:: 12<br>Year: : 2029<br>No. of Transactions:: 69737","Month:: 12<br>Year: : 2030<br>No. of Transactions:: 61575","Month:: 12<br>Year: : 2031<br>No. of Transactions:: 61605","Month:: 12<br>Year: : 2032<br>No. of Transactions:: 60394","Month:: 12<br>Year: : 2033<br>No. of Transactions:: 67510","Month:: 12<br>Year: : 2034<br>No. of Transactions:: 53017"],["Month:: 11<br>Year: : 2028<br>No. of Transactions:: 67989","Month:: 11<br>Year: : 2029<br>No. of Transactions:: 71067","Month:: 11<br>Year: : 2030<br>No. of Transactions:: 69048","Month:: 11<br>Year: : 2031<br>No. of Transactions:: 62353","Month:: 11<br>Year: : 2032<br>No. of Transactions:: 60699","Month:: 11<br>Year: : 2033<br>No. of Transactions:: 65661","Month:: 11<br>Year: : 2034<br>No. of Transactions:: 56243"],["Month:: 10<br>Year: : 2028<br>No. of Transactions:: 66761","Month:: 10<br>Year: : 2029<br>No. of Transactions:: 76201","Month:: 10<br>Year: : 2030<br>No. of Transactions:: 76324","Month:: 10<br>Year: : 2031<br>No. of Transactions:: 64590","Month:: 10<br>Year: : 2032<br>No. of Transactions:: 62169","Month:: 10<br>Year: : 2033<br>No. of Transactions:: 73045","Month:: 10<br>Year: : 2034<br>No. of Transactions:: 54978"],["Month:: 9<br>Year: : 2028<br>No. of Transactions:: 69955","Month:: 9<br>Year: : 2029<br>No. of Transactions:: 75622","Month:: 9<br>Year: : 2030<br>No. of Transactions:: 76863","Month:: 9<br>Year: : 2031<br>No. of Transactions:: 61842","Month:: 9<br>Year: : 2032<br>No. of Transactions:: 62485","Month:: 9<br>Year: : 2033<br>No. of Transactions:: 69728","Month:: 9<br>Year: : 2034<br>No. of Transactions:: 54384"],["Month:: 8<br>Year: : 2028<br>No. of Transactions:: 73039","Month:: 8<br>Year: : 2029<br>No. of Transactions:: 73370","Month:: 8<br>Year: : 2030<br>No. of Transactions:: 77035","Month:: 8<br>Year: : 2031<br>No. of Transactions:: 71300","Month:: 8<br>Year: : 2032<br>No. of Transactions:: 68459","Month:: 8<br>Year: : 2033<br>No. of Transactions:: 68785","Month:: 8<br>Year: : 2034<br>No. of Transactions:: 62945"],["Month:: 7<br>Year: : 2028<br>No. of Transactions:: 70132","Month:: 7<br>Year: : 2029<br>No. of Transactions:: 71708","Month:: 7<br>Year: : 2030<br>No. of Transactions:: 72825","Month:: 7<br>Year: : 2031<br>No. of Transactions:: 65464","Month:: 7<br>Year: : 2032<br>No. of Transactions:: 69296","Month:: 7<br>Year: : 2033<br>No. of Transactions:: 68756","Month:: 7<br>Year: : 2034<br>No. of Transactions:: 65069"],["Month:: 6<br>Year: : 2028<br>No. of Transactions:: 66806","Month:: 6<br>Year: : 2029<br>No. of Transactions:: 69961","Month:: 6<br>Year: : 2030<br>No. of Transactions:: 72990","Month:: 6<br>Year: : 2031<br>No. of Transactions:: 62310","Month:: 6<br>Year: : 2032<br>No. of Transactions:: 61645","Month:: 6<br>Year: : 2033<br>No. of Transactions:: 65828","Month:: 6<br>Year: : 2034<br>No. of Transactions:: 59874"],["Month:: 5<br>Year: : 2028<br>No. of Transactions:: 66320","Month:: 5<br>Year: : 2029<br>No. of Transactions:: 71252","Month:: 5<br>Year: : 2030<br>No. of Transactions:: 72710","Month:: 5<br>Year: : 2031<br>No. of Transactions:: 64604","Month:: 5<br>Year: : 2032<br>No. of Transactions:: 60793","Month:: 5<br>Year: : 2033<br>No. of Transactions:: 63619","Month:: 5<br>Year: : 2034<br>No. of Transactions:: 59962"],["Month:: 4<br>Year: : 2028<br>No. of Transactions:: 59944","Month:: 4<br>Year: : 2029<br>No. of Transactions:: 67736","Month:: 4<br>Year: : 2030<br>No. of Transactions:: 68325","Month:: 4<br>Year: : 2031<br>No. of Transactions:: 59510","Month:: 4<br>Year: : 2032<br>No. of Transactions:: 59654","Month:: 4<br>Year: : 2033<br>No. of Transactions:: 56483","Month:: 4<br>Year: : 2034<br>No. of Transactions:: 57771"],["Month:: 3<br>Year: : 2028<br>No. of Transactions:: 53412","Month:: 3<br>Year: : 2029<br>No. of Transactions:: 63652","Month:: 3<br>Year: : 2030<br>No. of Transactions:: 78775","Month:: 3<br>Year: : 2031<br>No. of Transactions:: 55773","Month:: 3<br>Year: : 2032<br>No. of Transactions:: 53639","Month:: 3<br>Year: : 2033<br>No. of Transactions:: 52072","Month:: 3<br>Year: : 2034<br>No. of Transactions:: 55030"],["Month:: 2<br>Year: : 2028<br>No. of Transactions:: 62051","Month:: 2<br>Year: : 2029<br>No. of Transactions:: 60940","Month:: 2<br>Year: : 2030<br>No. of Transactions:: 64087","Month:: 2<br>Year: : 2031<br>No. of Transactions:: 62580","Month:: 2<br>Year: : 2032<br>No. of Transactions:: 56742","Month:: 2<br>Year: : 2033<br>No. of Transactions:: 57791","Month:: 2<br>Year: : 2034<br>No. of Transactions:: 58061"],["Month:: 1<br>Year: : 2028<br>No. of Transactions:: 61943","Month:: 1<br>Year: : 2029<br>No. of Transactions:: 72263","Month:: 1<br>Year: : 2030<br>No. of Transactions:: 66766","Month:: 1<br>Year: : 2031<br>No. of Transactions:: 68080","Month:: 1<br>Year: : 2032<br>No. of Transactions:: 60280","Month:: 1<br>Year: : 2033<br>No. of Transactions:: 64710","Month:: 1<br>Year: : 2034<br>No. of Transactions:: 68518"]],"showlegend":false,"hoverinfo":"text","zmin":null,"zmax":null,"colors":"Blues","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"heatmap"}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"displaylogo":false,"modeBarButtonsToRemove":["sendDataToCloud","select2d","lasso2d","autoScale2d","hoverClosestCartesian","hoverCompareCartesian","sendDataToCloud"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"subplot":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Observations:</strong></p>
<ul>
<li><p>On a yearly basis, the volume of trade is decreasing at a decreasing rate. It peaks around 2028-2030 with the highest time period, occurring in 2030.</p></li>
<li><p>March seems to be a period with low transactions. However, it reaches a record on Mar 2030, with the highest volume of transactions in the seven years time period.</p></li>
</ul>
</section>
<section id="trade-flow-of-organizations-with-above-30-transactions-in-mar-2023" class="level2">
<h2 class="anchored" data-anchor-id="trade-flow-of-organizations-with-above-30-transactions-in-mar-2023">4.2 Trade flow of Organizations with above 30 transactions in Mar 2023</h2>
<p>Noting that Mar 2030 has a record high volume, we would like to examine the trade flow of the organizations in this time frame. We start off by creating a new edges and nodes data frame. The edges are created by aggregating it from the the master edges file <code>MC2_challenge_edges</code>.</p>
<p>We will be using the <code>[dpylr]</code> package to create <strong><code>MC2_2030_Mar_edges</code></strong>:</p>
<ul>
<li><p><code>mutate()</code>: to add additional column called <strong>month</strong></p></li>
<li><p><code>filter()</code>: is used to filter for <strong>year = 2030</strong> and <strong>month = 3</strong></p></li>
<li><p><code>group_by</code> is used to aggregate it by <strong>hscode</strong> and <strong>year</strong></p></li>
<li><p><code>summarize()</code> is used to compute the <strong>weight</strong> and <strong>median_weight</strong> of goods</p></li>
<li><p><code>filter()</code> is used to remove matching name in source and target and to filter for transactions with above 30 counts. This brings up to ~200 rows.</p></li>
<li><p><code>rename()</code> is used to change the title of the column</p></li>
</ul>
<p>Thereafter, we create <strong><code>MC2_2030_Mar_nodes</code></strong> by filtering out the distinct ID that are in the source and label column from the master ID data frame, <code>MC2_id_list_vis</code> .</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co">#create edges df for transactions from Mar 2030</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>MC2_2030_Mar_edges <span class="ot">&lt;-</span> MC2_challenge_edges <span class="sc">%&gt;%</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month =</span> <span class="fu">round</span>(<span class="fu">month</span>(arrivaldate))) <span class="sc">%&gt;%</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="st">"2030"</span> <span class="sc">&amp;</span> month <span class="sc">==</span><span class="st">"3"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source, target, hscode) <span class="sc">%&gt;%</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">weight =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">!=</span>target) <span class="sc">%&gt;%</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(weight <span class="sc">&gt;</span><span class="dv">29</span>) <span class="sc">%&gt;%</span> <span class="co">#keep ~200 rows </span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">from =</span> source, <span class="at">to =</span> target) <span class="sc">%&gt;%</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">3</span>) <span class="sc">%&gt;%</span> <span class="co">#relocate weight to 3rd column </span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a><span class="co">#create nodes df for transactions from Mar 2030</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>MC2_2030_Mar_nodes <span class="ot">&lt;-</span> MC2_id_list_vis <span class="sc">%&gt;%</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(id <span class="sc">%in%</span> MC2_2030_Mar_edges<span class="sc">$</span>from <span class="sc">|</span> id <span class="sc">%in%</span> MC2_2030_Mar_edges<span class="sc">$</span>to) <span class="sc">%&gt;%</span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>In the code chunk below, we compute the centrality between the nodes, by using the <code>graph_from_data_frame</code> function from the <code>[igraph]</code> package. As seen from the output below, the top row represents the ID of the organization while the bottom row represents their score. Given that the result of the betweenness centrality is not significant, we will would look into the degree centrality.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co">#create igraph object </span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(<span class="at">d=</span>MC2_2030_Mar_edges, </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>                           <span class="at">vertices=</span>MC2_2030_Mar_nodes, <span class="at">directed=</span><span class="cn">TRUE</span>) </span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="co">#compute betweeness centrality </span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>betweenness_centrality <span class="ot">&lt;-</span> <span class="fu">betweenness</span>(g)</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>MC2_2030_Mar_nodes<span class="sc">$</span>betweenness_centrality <span class="ot">&lt;-</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>  betweenness_centrality[<span class="fu">as.character</span>(MC2_2030_Mar_nodes<span class="sc">$</span>id)]</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="co">#output for top results</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>betweenness_centrality_tb <span class="ot">&lt;-</span><span class="fu">head</span>(<span class="fu">sort</span>(betweenness_centrality, <span class="at">decreasing=</span><span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>After the data preparation, <code>visNetwork</code> is used to plot the plot the interactive network graph with the <code>Fruchterman and Reingold</code> layout. Additionally, the graph uses three colors tone from the diverging palettes scheme to color-code the nodes based on degree centrality. It ranges from red - yellow - blue.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co">#compute degree centrality </span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>degree_centrality <span class="ot">&lt;-</span> <span class="fu">degree</span>(g)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>MC2_2030_Mar_nodes<span class="sc">$</span>degree_centrality <span class="ot">&lt;-</span> </span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  degree_centrality[<span class="fu">as.character</span>(MC2_2030_Mar_nodes<span class="sc">$</span>id)]</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="co">#compute closeness centrality </span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>closeness_centrality <span class="ot">&lt;-</span> <span class="fu">closeness</span>(g, <span class="at">normalized=</span><span class="cn">TRUE</span>)</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>MC2_2030_Mar_nodes<span class="sc">$</span>closeness_centrality <span class="ot">&lt;-</span> </span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>  closeness_centrality[<span class="fu">as.character</span>(MC2_2030_Mar_nodes<span class="sc">$</span>id)]</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a><span class="co">#add diverging palettes scheme to nodes based on degree centrality</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>colors <span class="ot">&lt;-</span> <span class="fu">colorRampPalette</span>(<span class="fu">brewer.pal</span>(<span class="dv">3</span>, <span class="st">"RdYlBu"</span>))(<span class="dv">3</span>) <span class="co"># use three colors </span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>MC2_2030_Mar_nodes <span class="ot">&lt;-</span> MC2_2030_Mar_nodes <span class="sc">%&gt;%</span></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">shape=</span><span class="st">"dot"</span>, <span class="at">shadow=</span><span class="cn">TRUE</span>,  </span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>         <span class="at">title=</span>trade_status, <span class="co"># hover for trade_status</span></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>         <span class="at">label=</span>label, <span class="co"># add labels on nodes</span></span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>         <span class="at">size=</span><span class="dv">20</span>, <span class="co"># set size of nodes</span></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>         <span class="at">borderWidth=</span><span class="dv">1</span>, <span class="co">#set border width of nodes</span></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>         <span class="at">color.background=</span>colors[degree_centrality], <span class="co">#set color</span></span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>         <span class="at">color.border=</span><span class="st">"grey"</span>) <span class="co">#set border color </span></span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a><span class="co">#plot network graph </span></span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(MC2_2030_Mar_nodes, MC2_2030_Mar_edges, </span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">main =</span><span class="st">"Trade flow of Organizations  </span></span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a><span class="st">           &lt;br&gt;with above 30 transactions in Mar 2023&lt;br&gt;"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout_with_fr"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visOptions</span>(<span class="at">highlightNearest =</span> <span class="cn">TRUE</span>,</span>
<span id="cb28-28"><a href="#cb28-28" aria-hidden="true" tabindex="-1"></a>             <span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>,</span>
<span id="cb28-29"><a href="#cb28-29" aria-hidden="true" tabindex="-1"></a>             <span class="at">selectedBy =</span><span class="st">"degree_centrality"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-30"><a href="#cb28-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>) <span class="sc">%&gt;%</span> <span class="co">#indicate direction </span></span>
<span id="cb28-31"><a href="#cb28-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span>(<span class="at">randomSeed =</span> <span class="dv">123</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-32"><a href="#cb28-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addFontAwesome</span>(<span class="at">name =</span> <span class="st">"font-awesome"</span>) <span class="sc">%&gt;%</span> <span class="co">#add icon to network </span></span>
<span id="cb28-33"><a href="#cb28-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visInteraction</span>(<span class="at">dragNodes =</span> <span class="cn">FALSE</span>, <span class="at">dragView =</span> <span class="cn">TRUE</span>, </span>
<span id="cb28-34"><a href="#cb28-34" aria-hidden="true" tabindex="-1"></a>                 <span class="at">zoomView =</span> <span class="cn">TRUE</span>, <span class="at">navigationButtons =</span> <span class="cn">TRUE</span>) <span class="co">#freeze network</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-da07b33c0b18d3ba98f4" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-da07b33c0b18d3ba98f4">{"x":{"nodes":{"id":["3","5","6","8","9","11","18","19","21","22","24","26","34","37","39","40","44","45","49","52","53","63","77","80","82","86","95","97","103","112","120","126","133","140","141","156","162","199","206","207","211","215","218","255","268","271","272","277","307","312","318","321","326","339","363","364","365","367","376","379","381","385","394","404","418","419","439","449","481","482","488","491","538","539","555","571","576","581","583","584","590","597","608","609","616","624","629","666","782","788","818","819","855","858","866","874","895","900","903","906","910","966","974","983","995","1006","1008","1011","1015","1024","1034","1052","1098","1106","1121","1155","1178","1191","1214","1241","1242","1250","1254","1281","1283","1292","1295","1305","1366","1372","1373","1379","1391","1445","1539","1554","1557","1610","1622","1691","1721","1754","1770","1775","1786","1792","1872","1875","1910","1922","1930","1958","1963","2038","2044","2072","2073","2131","2144","2271","2292","2343","2385","2388","2429","2556","2603","2765","2805","2806","2817","2823","2948","2951","3057","3289","3299","3300","3387","3390","3782","3880","3891","4062","4072","4122","4318","4332","4344","4549","4907","5014","5015","5278","5622","6319","6860","7420","8449","8457","8580","9404","9777","9853","9864","9978","11118","12038","12095","14249","14880","14896","15017","15194","19139"],"label":["Yu gan  Sea spray GmbH Industrial","Olas del Mar Worldwide","French Crab S.p.A. Worldwide","Panope Limited Liability Company","hǎi dǎn Corporation Wharf","Sea Breezes GmbH & Co. KG Shark","Costa de la Felicidad Shipping","Mar del Este CJSC","Mandalore S.A. de C.V. Logistics","Black Sea Tuna Snapper","SeaBass &  SE Tanker","Sailors and Surfers Incorporated Enterprises","Cape of Good Hope   S.p.A.","Selous Game Reserve  S.A. de C.V.","Cape Verde Islands  Catchers GmbH & Co. KG Shipping","Dubingiai Ltd. Liability Co","Caracola del Sol Services","Scottish Oysters Tsunami Sp Line","Saltwater Supreme ОАО Forwading","Océano de Coral Corporation Express","Pao gan SE Seal","Punjab s Marine conservation","Himachal Pradesh   Plc International","SeaSpray Marine biology Ltd Distribution","Playa de la Luna Incorporated","Niger Bend   Limited Liability Company Marine ecology","Coral Cove BV Delivery","Arunachal Pradesh s Brine","-54","Sea Breeze Corporation Marine sanctuary","The Sea Turtle GmbH & Co. KG","Yu xian  SRL Industrial","ReefRider Foods Ltd. Corporation Family","Black Sea Tuna Sagl","Belgian Shrimps Ocean Corp Holdings","David Ltd. Liability Co Forwading","Kong zhong diao yu  Ges.m.b.H.","Náutica del Norte Kga Holdings","Ianira Starfish Sagl Import","Haryana s Sagl Transport","SeaTree Ltd. Liability Co Holdings","Saltwater Supreme Pelican Ltd Enterprises","Orange River   GmbH & Co. KG Shipping","Chhattisgarh   Marine ecology A/S Delivery","Saltwater Symphony S.A. de C.V.","The Salted Pearl AG Marine conservation","Pao gan LC Freight ","Jammu & Kashmir  AB Consultants","bǐ mù yú Sagl Distribution","Madagascar Coast  AG Freight ","Náutica del Sol Corporation","Kong zhong diao yu  Express Charter Boat ","Danish Shrimp Kga Solutions","Rift Valley fishery Inc","Turkish Salmon A/S Marine","suō yú Incorporated Brothers","Belgian Shrimps Corp Marine life","nián yú Ltd. Corporation","Fresh Limited Liability Company","Marine Masterminds Dry dock","Pez Dorado Plc Seaport","Zambezi Valley  Marine biology","Coastal Cruisers Pic Shipping","Uttarakhand  Market Ltd. Corporation","Aqua Aura SE Marine life","Marine Mates Cruise ship","Samaka Ltd. Corporation Dry dock","Icelandic Cod Pier ОАО Transport","Tshimbua Seagrass ОАО Holdings","Arunachal Pradesh s A/S Transport","Uttar Pradesh s CJSC","Konkan Coast  SE Marine biology","Olas del Sur Sea","Greek Sea Bass LLC","OceanicOrigin Foods Co Consulting","Selous Game Reserve  A/S","Yu gou  SRL Merchants","Coastal Castaway Coast Corporation Worldwide","Mar de la Vida LC","Dry Creek Pic Marine biology","Lake Motoso  Sagl Brothers","Greek ermen Plc Marine sanctuary","Bahía del Sol Merchants Catchers","Bahía Azul Limited Liability Company","Playa de Oro Oyj","Maharashtra   Limited Liability Company","Barents Sea Cod CJSC Export","9 Limited Liability Company","Chuan gou  Ltd Marine ecology","Maharashtra ers Incorporated Express","Kong zhong diao yu  NV Export","-751","Arunachal Pradesh s Company","Saltwater Sisters Inc Seafaring","fēi yú Sagl Holdings","Angrapa Ltd. Liability Co Export","Isla del Tesoro GmbH & Co. KG Chart","Omo River  Ocean Incorporated Marine sanctuary","Ola Azul Ges.m.b.H. Services","Kerala  Market - Ges.m.b.H. Cargo","Manipur  Market Corporation Cargo","Eirene AB Marine sanctuary","Congo Rapids   Ltd. Corporation","Náutica del Este Co Carriers","Mar de la Aventura & Incorporated Shipping","Henties Bay  GmbH & Co. KG Marine biology","Selous Game Reserve  Sp Distribution","Arena Azul S.A. de C.V.","Portuguese Tuna A/S Cargo","Whale Ltd. Liability Co","Black Sea Carp Ltd","Mar de Plata ОАО","Okavango River  NV Marine life","Haryana Sea  Mussel Inc Export","North Atlantic  BV Transit","Saltwater Sirens S.p.A. International","Océano de Coral Corporation Marine conservation","The Salty Pearl Kga","Dry Creek Company Services","Turkish Calamari Oceanography AG Import","Blue Horizon Family &","Playa del Mar Corporation","Scottish Lobster Ltd. Corporation","Isla del Mar Marine Oyj Transit","Caracola del Este Corporation Express","Playa del Tesoro BV","Náutica del Mar Barracuda","Sea Breezes S.A. de C.V. Freight ","Wave Warriors Ltd. Corporation Express","Náutica del Sol A/S","Mar de Cristalino Beach","Kambala and A/S Shipping","Chhattisgarh  GmbH & Co. KG Brothers","Bihar   CJSC & Son's","Mar del Este Sp","Mar del Oeste SRL","Atlantic Ocean Coast  CJSC","West Bengal   OJSC Transport","Oceanic Oracle GmbH & Co. KG","Turkish Mussels Freight  Coral","Tamil Nadu  Market Co","Saltwater Solutions Kga Freight ","Uttar Pradesh s Barracuda","Volta River  AB Transport","Nile   S.A. de C.V.","Mar del Caribe Company","Isla del Mar NV Forwading","Neva  Flounder GmbH Freight ","Isla del Mar Ltd. Liability Co Enterprises","Lake Kainji  S.p.A. Export","Water Wonders Tidepool Ltd Holdings","Oceanfront Oasis Company Green ","Kong zhong diao yu  Sp","Oceanic Opportunities Incorporated Line","Kilwa Coast  Incorporated & Son's","Shou gan  Oyj Overseas","Lake Tanganyika  Inc Jetty","Uttarakhand  Market S.p.A. Express","Hohhot Ges.m.b.H. Marine biology","Olas del Mar Marine","-37","Lake Nasser  LLC United","Mar del Placer Sagl Solutions","Pelagia Ltd. Corporation Family","Neptune's Realm NV Navigation","Marine Mermaids Inc Marine conservation","Mar del Caribe Sagl","zūn yú Co Marine ecology","Samaka GmbH & Co. KG Freight ","Blue Water Ventures Pic","Bahía del Este Corp Transit","Neva  Jetty GmbH Forwading","Oceanic Oracle GmbH America","Ola del Mar N.V.","Okavango Delta  Cargo ship","Diao er  Co Underwater","Olas del Mar N.V.","lǐyú GmbH & Co. KG Logistics","Olas del Sur NV","shí rén yú Seaside","Mizoram  S.A. de C.V.","Blue Nile  N.V. Marine","Madhya Pradesh  Market LLC","Costa del Viento GmbH Marine biology","Diao yu bi sai  Company","Orange River Mouth   LLC","Kafue River  Express Mussel","Marine Mavericks Corporation Express","SeaBass Company Tilapia OJSC United","Coral del Mar Logistics","BlueTide Starfish Ltd Worldwide","Playa del Tesoro OJSC","Fresh Wharf SRL Consulting","Brisa del Este ОАО","Marine Mates Salt spray LLC Freight ","AG S.A. de C.V.","Adriatic Tuna Ltd. Liability Co","-7678","Marine Mermaids Incorporated Services","Playa de la Felicidad SE","Caracola de Coral BV","Fisherman's Bounty AG Solutions","-21760","-6354","Bahía del Este Oyj Transit","Arena Azul AS Investment","guī yú AG Carriers","-2821","-703","-2023","Himachal Pradesh   S.A. de C.V. America","-12813","-2033","-2050","-8198"],"trade_status":["Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import","Export","Import & Export","Import & Export","Import","Import","Import","Import & Export","Import","Import","Import","Import"],"shpcountry":["Oceanus","Oceanus","Kondanovia","Vesperanda","Marebak","Oceanus","Alverossia","Merigrad","Osterivaria","Puerto Sol","Arreciviento","Puerto Sol","Kondanovia","Isliandor","Anderia del Mar","Kondanovia","Puerto Sol","Marebak","Puerto Sol","Vesperanda","Alverossia","Riodelsol","Isliandor","Utoporiana","Kondanovia","Quornova","Quornova","Nalakond","Nalakond","Coralada","Marebak","Sirenareef","Oceanus","Nalakond","Lumaland","Coralada","Oceanus","Merigrad","Rio Isla","Osterivaria","Gavanovia","Puerto Sol","Marebak","Oceanus","Marebak","Kondanovia","-22004","Rio Isla","Alverossia","Oceanus","Mawazam","Mawazam","Rio Isla","Puerto del Mar","Vesperanda","Marebak","Valtalmo","Merigrad","Marebak","Marebak","Alverossia","Kondanovia","Marebak","-22005","Kondanovia","Alverossia","Alverossia","Utoporiana","Utoporiana","Oceanus","Marebak",null,"Rio Isla","Khamseena","Arreciviento","Rio Isla","Marebak","Alverossia","Puerto Sol","Vesperanda","Kondanovia","Myriadonia","Marebak","Kondanovia","Arreciviento","Marebak","Marebak","Alverossia","Rio Isla","Marebak","Calabrix",null,"Marebak","Alverossia","Alverossia","Oceanus","Coralmarica","Rio Isla","Mawandia","Osterivaria","Vesperanda","Alverossia","Brindivaria","Isliandor","Marebak","Marebak","Alverossia","Marebak","Vesperanda","Utoporiana","Alverossia","Nalakond","Kondanovia","Talandria","Marebak","Marebak","Marebak","Isliandor","Vesperanda","Marebak","Osterivaria","Vesperanda","Mawazam","Marebak","Oceanus","Kondanovia","Islavaria","Isliandor","Coralada","Kondanovia","Kondanovia","Rio Isla","Islavaria","Osterivella","Utoporiana","Vesperanda","Rio Isla","Isliandor","Lumindoria","Osterivaria","Talandria","Mango del Oro",null,"Talandria","Marebak","Mawazam","Oceanus","Marebak","Merigrad","Sol y Oceana","Oceanus","Mawazam","Riodelsol","Osterivaria","Coralmarica","Mawazam","Mawazam","Alverossia","Chrysazul","Sirenareef","Azurionix","Anderia del Mar","Marebak","Osterivaria","Mawazam","Marebak","Oceanus","Marebak","Vesperanda","Marebak","Kondanovia","Quornova","Coralmarica","Marebak","Playa Solis","Solovarossa","Mawazam",null,"Vesperanda","Riodelsol","Marebak","Sol y Oceana","Merigrad","Vesperanda","Zawalinda","Alverossia","Merigrad","Alverossia","Isliandor","Mawazam","Marebak","Quirinelle","Oceanus","Isliandor","Anderia del Mar","Isla Solmar","Merigrad",null,"Marebak","Marebak","Morolaria","Marebak",null,null,"Sol y Oceana","Sol y Oceana","Helixia",null,null,null,"Sirenareef",null,null,null,null],"rcvcountry":["Oceanus","Oceanus","Utoporiana","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Anderia del Mar","Sol y Oceana","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Marebak","Coralmarica","Oceanus","Kondanovia","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Coralmarica","Oceanus","Oceanus","Oceanus","Oceanus","Coralmarica","Oceanus","Khamseena","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,"Oceanus","Coralmarica","Oceanus","Marebak","Oceanus","Oceanus",null,"Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,"Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Marebak",null,"Oceanus","Coralmarica","Maripuerto","Oceanus",null,"Coralmarica","Oceanus","Coralmarica","Oceanus","Oceanus","Oceanus","Coralmarica","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,"Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,"Oceanus","Puerto Sol","Oceanus",null,"Oceanus","Sol y Oceana","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Coralmarica","Oceanus","Coralmarica","Oceanus","Sol y Oceana",null,"Oceanus","Oceanus","Oceanus","Oceanus",null,"Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,"Sol y Oceana","Oceanus","Oceanus",null,"Oceanus",null,"Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Talandria","Luminkind","Oceanus","Oceanus",null,"Sol y Oceana","Oceanus","Oceanus","Oceanus","Oceanus","Sirenareef","Oceanus","Oceanus","Oceanus","Oceanus"],"betweenness_centrality":[0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"degree_centrality":[3,3,7,10,19,1,8,4,1,2,1,3,1,2,1,3,11,1,12,1,1,1,2,1,8,1,5,1,1,1,1,1,3,1,1,2,5,1,9,1,1,1,3,2,2,1,1,1,3,1,1,2,2,1,1,5,1,1,1,10,1,1,6,1,1,5,1,4,1,1,5,1,3,3,1,1,1,2,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,4,1,2,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,4,1,2,1,1,2,1,1,1,1,1,1,1,1,1,7,1,2,1,1,1,1,1,1,3,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,3,1,2,1,1,1,1,1,1,1,1,1,1,2,1,1,1,2,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1],"closeness_centrality":[null,null,0.00918836140888208,0.0333333333333333,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.0103092783505155,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.0188679245283019,0.0168539325842697,null,null,null,0.0201342281879195,0.0303030303030303,0.0217391304347826,0.032258064516129,null,0.0217391304347826,0.018348623853211,null,null,null,0.018018018018018,null,null,0.0172413793103448,null,0.00282485875706215,0.0113636363636364,0.0196078431372549,0.024390243902439,0.0212765957446809,0.0211267605633803,0.02,0.0294117647058824,null,0.00371747211895911,0.032258064516129,0.03125,0.0333333333333333,0.0298507462686567,null,0.0277777777777778,null,0.0117647058823529,0.0333333333333333,0.0285714285714286,null,null,0.0333333333333333,0.025,null,0.025,null,0.0208333333333333,0.0212765957446809,0.025,0.0163934426229508,0.0263157894736842,0.0087719298245614,0.0256410256410256,null,0.0294117647058824,0.0163934426229508,0.0147058823529412,null,null,0.0188679245283019,0.0212765957446809,0.0196078431372549,0.032258064516129,0.032258064516129,null,0.0277777777777778,0.0217391304347826,0.0138888888888889,0.0175438596491228,0.0222222222222222,null,0.0263157894736842,0.0161290322580645,null,0.025,0.0181818181818182,0.0238095238095238,0.0333333333333333,null,0.00549450549450549,null,0.0099009900990099,0.0303030303030303,0.0294117647058824,0.0263157894736842,0.0158730158730159,0.00934579439252336,0.00975609756097561,0.0217391304347826,0.0123456790123457,null,0.032258064516129,0.0333333333333333,null,0.0303030303030303,null,0.0136986301369863,0.00636942675159236,0.0204081632653061,null,0.0256410256410256,null,0.0253164556962025,null,null,0.0256410256410256,0.00367647058823529,0.032258064516129,null,0.0277777777777778,0.0238095238095238,0.0253164556962025,0.0266666666666667,0.0277777777777778,0.03125,null,null,0.0217391304347826,null,0.0285714285714286,0.025,0.0256410256410256,null,0.0227272727272727,0.0333333333333333,null,0.0188679245283019,0.03125,0.032258064516129,0.0277777777777778,0.0178571428571429,null,0.0212765957446809,null,0.0169491525423729,null,0.0144927536231884,0.0238095238095238,0.03125,null,0.024390243902439,null,0.0277777777777778,0.00719424460431655,0.0105633802816901,0.0333333333333333,0.024390243902439,null,0.0227272727272727,null,null,null,0.0147058823529412,0.00833333333333333,null,0.0113636363636364,0.00813008130081301,0.0222222222222222,0.0263157894736842,null,0.0238095238095238,null,0.0333333333333333,0.0307692307692308,null,null,0.0121951219512195,null,0.0185185185185185,null,null,null,0.00628930817610063,null,null,null,null],"shape":["dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot"],"shadow":[true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],"title":["Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import","Export","Import & Export","Import & Export","Import","Import","Import","Import & Export","Import","Import","Import","Import"],"size":[20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20],"borderWidth":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"color.background":["#91BFDB","#91BFDB",null,null,null,"#FC8D59",null,null,"#FC8D59","#FFFFBF","#FC8D59","#91BFDB","#FC8D59","#FFFFBF","#FC8D59","#91BFDB",null,"#FC8D59",null,"#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59",null,"#FC8D59",null,"#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#91BFDB","#FC8D59","#FC8D59","#FFFFBF",null,"#FC8D59",null,"#FC8D59","#FC8D59","#FC8D59","#91BFDB","#FFFFBF","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#91BFDB","#FC8D59","#FC8D59","#FFFFBF","#FFFFBF","#FC8D59","#FC8D59",null,"#FC8D59","#FC8D59","#FC8D59",null,"#FC8D59","#FC8D59",null,"#FC8D59","#FC8D59",null,"#FC8D59",null,"#FC8D59","#FC8D59",null,"#FC8D59","#91BFDB","#91BFDB","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59",null,"#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59",null,"#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59",null,"#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#91BFDB","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#91BFDB","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59"],"color.border":["grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey"],"x":[-0.631246875816117,-0.976131682728468,-0.0952062948001419,0.238632554305075,0.536082557372332,-0.380017765727328,0.240190493156543,0.818034812596867,-0.52874101494617,0.00774161080779678,-0.271450111555797,-0.987387293629742,0.540649853476939,-0.643132477251994,0.0592569741503743,0.258739599543947,0.198063731832903,-0.0435153499069058,-0.17233589033304,-0.169022826982708,0.244829792247534,0.650426285904028,0.724953543781834,-0.0045715420686393,-0.361536909408896,-0.554698923260705,0.202497079452154,-0.225383647705828,0.80671580520523,-0.840281575375825,0.0588633986027918,-0.430152284282317,0.0619896897118726,0.422507502159821,-0.11528090432412,-0.81861280978161,-0.651238437826352,0.629354597702101,0.377952118626008,0.414568364380941,0.985789745109146,0.83153306605742,0.349934570129485,0.940942516109512,0.184097860060658,-0.0710113950473824,0.685010318105963,0.976365390198686,-0.276138035271925,-0.599261385314861,0.790030556619557,0.359244258497078,-0.993174300009045,0.84395090291795,-0.138863056441442,0.333287555259558,0.446762301113122,-0.609647617665177,-0.282751762231772,-0.344462497391032,-0.422212835505432,-0.223550708659462,0.256795419690542,0.560047366286275,0.64451648207153,0.34724173961863,-0.127325212835078,0.734504398209606,0.462148034145469,-0.768406282998226,0.209265230011938,-0.250296071487281,-0.837786691622602,-0.872100586209921,0.135601725596092,0.047733569593418,0.599599698504071,0.693662149798502,-0.424967919614469,-0.66213302431241,-0.60843648163674,-0.62344335787754,0.42520953532987,0.365573598206985,0.627834309427588,0.644237840744584,-0.21989459171892,0.405370646194775,-0.40069853190126,-0.0951734595809801,-1,-0.950121238808997,-0.186318354183457,0.0928302687946325,0.0784102180426671,0.563271001625382,-0.933931967049168,0.307165374771433,0.741311917950303,-0.392289006361279,-0.841290481637648,0.430170174311301,0.40552922586217,0.839428282121353,0.324938468358696,-0.187138350454926,0.0862988665056914,-0.46915023764614,0.696901621809994,-0.833134028093326,0.239164930041289,-0.0115088801057097,-0.687672554473915,0.999504602233206,-0.223109861852174,-0.565561453313787,0.0109751761148849,0.168826957412939,-0.180193648948202,0.513378218942704,-0.649468985242647,0.127095114660295,-0.579482495675049,0.778834126970364,0.622413691766207,0.0637639019045542,-0.675159199238011,0.0845562729287597,-0.0648684860468006,0.004210479220907,-0.957117187125491,0.91084711003762,-0.821395981840173,1,0.596509095759708,-0.413084177825802,0.223171625018661,-0.395899264185303,-0.372191567678862,0.569450743976282,0.0870610415664645,-0.382142040968497,0.985508164456582,-0.749465545869415,0.169174972245447,0.447674496342001,-0.543957557172232,-0.4451270893541,-0.315983214415968,-0.984915632449141,0.557217290878184,0.337994748351203,0.686862878429813,0.473049761401104,0.981801592313307,-0.127544460873225,-0.0976786979910486,-0.902953970857521,0.917216792702284,-0.676154267593384,0.107836446776432,-0.552297675887873,0.280637448061689,-0.288556671097811,-0.602740423717868,-0.696823539663649,0.895917979350468,-0.577969502979506,-0.201781197061043,-0.210573323106365,0.645343977807455,-0.827082616231552,0.801155654990689,0.590595206523304,0.487159827383557,0.65685054567697,-0.749258864442083,-0.801355650889008,0.38399056473815,-0.699749152717972,-0.633197126611209,0.56710038252531,0.724194469790536,0.783606493358996,-0.747093567440546,-0.483513096781366,-0.419952694280742,-0.189231013452813,-0.992990089514557,-0.727805116302776,0.080279428529054,-0.0655924427627256,-0.0826019454103605,-0.247268512988772,0.157624893607943,0.430791055764671,-0.336010417976093,-0.796549997608595,0.497437110074256,0.825322788330315,-0.211676592605199,0.264145048742501,-0.458657039539417,-0.439961315314454,-0.256798278892247,-0.402785123854154,0.537501577406208,0.110385329616741,0.159092359425522,0.401540354369212,-0.909255038307815,0.271232382210574,-0.396330041261627,0.352744833579067,-0.0141491814973218],"y":[0.0742592908617863,-0.226883262229196,-0.88126899888124,0.492111995355932,0.238708579966175,0.60898135289158,-0.771221422910414,-0.492258399761652,0.446130125767796,-0.75798510922497,0.0989857248496175,-0.0655685583175902,-0.864443890135368,0.634765888571463,0.862118439401719,-0.353669158736346,-0.577124494171474,-1,-0.772470962324951,0.381533604213133,0.868643164933165,0.663976231185602,-0.229367712807632,-0.939790349119134,-0.895468406973131,0.761101258772033,0.349132913752141,-0.332778876800027,0.0658540823983174,0.154810291039058,1,-0.481794070963617,-0.580079519534297,-0.714252124021063,-0.994313978016235,-0.113551538615073,-0.427716979254363,-0.62811936792744,0.396364208742085,0.533721366155507,-0.179593754730981,0.582005512038865,-0.375028201926166,-0.0130916682291978,0.540498659781478,0.981642745624085,0.722902909929534,-0.324691579974861,-0.743517709488109,-0.751706695460808,0.439956493134313,0.467700638348038,-0.147470387571308,0.369859124903833,0.990225112166383,-0.639350576347684,-0.630628996528622,0.80617332242096,-0.680363693543298,-0.844189794619498,-0.0307117636939573,0.331964609641634,-0.495015276079225,0.770258542281943,0.32621178141314,-0.498150231111109,-0.675337371050202,0.157125128207877,0.190501146013734,0.45729956215311,-0.692294587660877,-0.0896700931784742,-0.589789689183301,-0.548822457065939,0.453235194013097,-0.00624537900345068,0.107228585461485,-0.591299283393251,0.0421537323638916,-0.650595139120367,0.571065513931216,-0.176303507119968,0.779781437691176,0.826303863120749,-0.769314979017855,0.150495746108681,-0.66307595190327,0.139253149912013,-0.271100562268857,-0.770591317640497,0.204387973672745,0.253243784876438,-0.0553971702654803,0.263927663096453,0.344180535596096,-0.083641577421452,0.377135789239462,0.604440571908755,-0.533479568673965,-0.421061517464576,0.0864091311203099,0.286781180854126,0.932515661002484,-0.579334755514296,0.904853563005791,-0.61403846270214,0.529363699410036,0.487194460965664,-0.75795254444971,0.571690880402703,0.623329512111212,-0.570920957603104,0.697914342642368,0.209548174743954,-0.857145579513661,0.0311175692939465,-0.370247777860273,0.237288017665829,-0.964636663915829,0.119367386819875,-0.801579548731007,0.987356009915714,-0.484991710941142,-0.177345821487149,0.225650361423125,-0.833463648809289,-0.516670648543203,-0.453049319526944,-0.168828428793918,-0.173015437346703,-0.286888003980532,-0.310278320085978,-0.190456932113245,-0.052047584448262,0.39600379214081,-0.966757833026399,-0.251068427778519,-0.199170996216484,0.368445562497631,0.840048358107184,-0.629548119142529,-0.669072441252451,0.269540909369197,-0.0976304661374543,-0.469282278069819,-0.481011306217144,0.27001885751304,0.631449429956177,0.154717924474781,-0.00222842793233813,0.0416387801765747,-0.839379559830269,0.248822511000822,0.497685422442617,0.0511916698697665,0.191924554024083,0.124971515895612,-0.403196894236916,-0.169129906550779,-0.333385961639137,-0.0459430888652584,-0.173859478754552,-0.888886747388308,0.967702082890918,0.315538841272314,0.0320229937593479,-0.472925895423289,-0.370029381971601,0.699875305074645,0.770480498248818,-0.38574045305184,-0.396771203784672,-0.40654572938161,-0.425650121320178,-0.908087627533292,-0.261489696862653,0.270904213177657,0.313612395174809,0.216604327192162,0.44964419611785,0.151856185979161,0.337412579205361,0.34884005311877,0.629588146050354,-0.419753405500642,0.8882167912174,0.915840778700607,0.552945675278175,0.0707205463335767,-0.680928939464293,0.795126322088964,0.752782881026664,0.825894578926478,0.912291963393146,0.615993625272018,0.0669497793837897,0.767319096182518,0.630761675311833,0.353834194253095,0.162409690182592,-0.262580321985234,-0.682412515313275,-0.863183263796839,-0.780994925851306,0.523118652163512,0.775227120853523,-0.170062985416042,-0.948941792655263,-0.900314047986891,-0.294224115391037,0.441337422140487,0.967956529606684,0.300543319788807,-0.0324575297146824,0.55963307147548]},"edges":{"from":["1006","1008","1008","1011","1024","1034","1098","1106","1106","11118","1121","1155","1191","1241","1242","1250","1254","1281","1283","1292","1292","1292","1292","1295","1305","1305","1372","1373","1373","1391","14880","1539","1554","1557","1622","1721","1721","1721","1721","1721","1721","1721","1775","1786","1792","1875","1910","1922","1922","1922","1930","1930","1958","1963","199","206","206","206","206","206","206","206","206","206","2072","2131","2144","218","218","218","2271","2343","2385","2429","255","255","2556","2603","268","268","271","2765","277","2805","2817","2948","3057","307","307","307","326","326","3289","3299","3387","364","364","364","364","364","367","376","3782","379","379","379","379","379","379","379","379","379","379","381","385","3880","3891","3891","3891","394","394","394","394","394","394","404","4062","4072","4072","418","4318","439","449","449","449","449","481","482","488","488","488","488","488","4907","5014","5278","538","538","538","555","5622","571","576","584","590","6","6","6","6","6","6","6","608","616","624","629","63","6319","6319","666","6860","782","788","8","818","8449","855","858","8580","866","900","903","903","906","910","9404","9404","966","983","9864","995","995","995","995"],"to":["49","19139","8","21","7420","8","37","1770","1770","874","49","3","95","9","312","120","162","77","9","12038","12095","18","49","162","1178","44","1366","5","5","156","895","9","82","40","15017","1052","133","133","133","22","44","44","156","44","419","11","24","26","26","4344","874","9","18","9","581","2038","207","321","321","8","8","9","9","95","2073","2823","211","14249","40","419","162","597","18","1872","1445","2044","3","19","8","8","363","162","1379","2806","2951","19","34","1754","49","49","26","5","77","3300","9","140","18","365","419","44","86","49","3","49","82","82","82","82","82","82","82","9777","9853","583","52","9","318","339","9","40","419","419","44","44","44","1691","215","162","2823","9","4122","49","103","8457","8457","9","9","3390","18","18","18","44","44","39","5015","2388","539","539","539","8","8","2292","9","4549","37","1214","141","22","45","49","49","80","609","1015","9","49","272","15194","9","9","9978","1610","49","95","819","9","491","95","97","95","8","19","581","126","112","18","44","9","19","4332","14896","53","609","974"],"weight":[72,31,55,45,38,47,40,55,58,54,42,30,182,101,33,34,38,63,107,203,35,138,34,46,36,126,31,30,98,33,159,73,157,49,39,30,55,85,172,39,44,34,39,272,31,36,42,40,40,39,33,42,36,32,53,42,140,66,57,145,34,38,33,50,46,35,40,35,36,78,39,44,30,53,34,32,32,31,48,31,31,36,46,56,47,59,69,37,72,223,36,75,42,32,41,39,45,38,58,110,354,88,36,65,58,38,133,74,58,65,36,72,31,41,47,139,50,44,190,76,85,34,32,39,36,50,30,41,41,34,44,269,30,32,94,31,32,30,33,63,37,57,34,68,120,88,36,44,59,70,108,30,35,30,40,162,276,34,49,98,124,34,40,48,47,40,97,50,40,61,38,38,114,30,39,42,34,61,30,68,38,51,43,51,31,34,31,31,36,82,35,60,42,47],"hscode":["842139","850811","850811","640399","870323","640299","390330","202300","204420","730840","841451","304750","640299","870829","306170","306170","160521","844331","760120","870323","870323","870899","870899","307320","304620","304620","870894","721012","721049","405100","220300","401110","630260","401110","630790","206100","201300","202300","206100","202300","202300","206100","202300","700721","853650","630260","160414","730419","730429","730429","760120","760120","160521","350300","611020","870899","870323","870323","870899","870324","870899","853690","870899","870899","160414","940180","160414","950691","940360","940360","901819","330790","160529","306170","841290","220300","304710","202300","520852","600122","840999","481890","721049","200599","930630","203290","940161","870830","940180","950300","870323","870893","844399","160414","850300","950300","950300","940360","940360","940360","304620","940320","304710","940320","830629","940161","940179","940320","940360","940540","950629","950699","950699","940161","540220","630900","304620","304620","304620","940360","940360","940390","640299","950300","950510","680291","960200","207140","207140","610910","640299","732111","870323","870829","870899","870829","720851","300212","630790","940179","940490","611020","620462","940130","160414","640399","842911","842952","843149","160414","280461","870323","850440","611020","870899","841810","841810","841810","841810","841810","842211","841810","852872","803100","392410","620462","160250","630221","630221","732111","304620","401110","820559","620920","220890","160540","611120","950300","620520","420212","844399","710800","710800","304610","306170","950300","420291","611020","640299","611595","852872","852852","852872","852852"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"smooth":false,"arrows":"to"},"physics":{"stabilization":false},"layout":{"randomSeed":123},"interaction":{"dragNodes":false,"dragView":true,"navigationButtons":true,"zoomView":true,"zoomSpeed":1}},"groups":null,"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":true,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false,"variable":"degree_centrality","main":"Select by degree_centrality","values":[1,2,3,4,5,6,7,8,9,10,11,12,19]},"main":{"text":"Trade flow of Organizations  \n           <br>with above 30 transactions in Mar 2023<br>","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;"},"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"iconsRedraw":true,"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note about visNetwork
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body" title="Note about visNetwork">
<p><code>visIgraphLayout</code> is used to compute coordinates. In the example above, the <em>Fruchterman and Reingold</em> layout is used.</p>
<p><code>visOptions</code> is an options for network visualization. We highlighted the nearest when clicking a node, a dropdown list for ID, a dropdown list by degree of centrality.</p>
<p><code>visEdges</code> is edges options. We includes arrow to indicate direction.</p>
<p><code>visLayout</code> is an layout options. <code>randomSeed</code> is included for the layout to remain the same every time.</p>
<p><code>addFontAwesome</code> is used to add icons to the network.</p>
<p><code>visInteraction</code> is used for network visualization interaction.</p>
<p>The default setting as as follows:</p>
<ol type="1">
<li><p><code>dragNodes</code> : IF TRUE, nodes can be dragged around by user.</p></li>
<li><p><code>dragView</code> : If TRUE, view can be dragged around by user.</p></li>
<li><p><code>zoomView</code> : If TRUE, user can zoom in.</p></li>
<li><p><code>navigationButtons</code>: If FALSE, navigation buttons are not on the network graph</p></li>
</ol>
</div>
</div>
</div>
<p><strong>Observations:</strong></p>
<ul>
<li><p>Organizations who received goods (imports) have higher degree of centrality. hai dan Corporation Wharf has the highest degree of 19.</p></li>
<li><p>Majority of the organizations have low degree of centrality.</p></li>
</ul>
</section>
<section id="statistical-plot-of-degree-centrality-against-trade-status" class="level2">
<h2 class="anchored" data-anchor-id="statistical-plot-of-degree-centrality-against-trade-status">Statistical Plot of Degree Centrality against Trade Status</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggbetweenstats</span>(<span class="at">data =</span> MC2_2030_Mar_nodes,</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">x=</span> trade_status, <span class="at">y=</span> degree_centrality, <span class="at">type =</span><span class="st">"np"</span>,</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">xlab=</span> <span class="st">"Trade Status"</span>, <span class="at">ylab =</span> <span class="st">"Degree Centrality"</span>,</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Comparison of Degree Centrality across Trade Status"</span>,</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">pairwise.comparisons =</span> <span class="cn">TRUE</span>, <span class="at">pairwise.display =</span><span class="st">"s"</span>, <span class="at">conf.level =</span> <span class="fl">0.95</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>       )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-Home_Ex02_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="distribution-of-median-weight-by-hscode-and-year" class="level1">
<h1>Distribution of Median Weight by hscode and year</h1>
<p>A <code>treemap</code> displays hierarchical data as a set of nested rectangles, where each group is represented by an area that it proportional to its value. We would like to examine the distribution by <strong>hscode</strong> and <strong>year.</strong></p>
<p>As per section 3.1, the <code>[devtools]</code> package have been loaded. Thereafter, we install the package found in github <em>(highlighted in green)</em> by using the code and loading the <code>d3treeR</code> package.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install_github("timelyportfolio/d3treeR")</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(d3treeR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We will aggregate from <code>MC2_challenge_edges</code> data frame by using the <code>[dpylr]</code> package:</p>
<ul>
<li><p><code>group_by</code> is used to aggregate it by <strong>hscode</strong> and <strong>year</strong></p></li>
<li><p><code>summarize()</code> is used to compute the <strong>weight</strong> and <strong>median_weight</strong> of goods</p></li>
<li><p><code>arrange(desc())</code> to sort weight in descending order</p></li>
<li><p><code>MC2_hscode_weight[1:100,]</code> to retrieve the first 100 rows</p></li>
</ul>
<p><em>(We are only interested in the highly utilized hscode)</em></p>
<p>We build our treemap by inputting our aggregated data frame (<code>MC2_hscode_weight</code>) into the <code>treemap()</code> function and saved it as an object called <strong>it.</strong> Thereafter, the <code>d3tree</code> function from the <code>[d3treeR]</code> package is used to build our interactive treemap.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co">#aggregate into new df by hscode and year before sorting in descending order </span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>MC2_hscode_weight <span class="ot">&lt;-</span> MC2_challenge_edges <span class="sc">%&gt;%</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hscode,year) <span class="sc">%&gt;%</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">weight =</span> <span class="fu">n</span>(),</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">median_weight =</span> <span class="fu">median</span>(weightkg)) <span class="sc">%&gt;%</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(weight)) </span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="co">#retrieve the first 100 rows</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>MC2_hscode_weight <span class="ot">&lt;-</span> MC2_hscode_weight[<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>,]</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="co">#treemap saved under 'it' object </span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>it <span class="ot">&lt;-</span> <span class="fu">treemap</span>(MC2_hscode_weight,</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">index=</span><span class="fu">c</span>(<span class="st">"hscode"</span>,<span class="st">"year"</span>),</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">vSize=</span><span class="st">"weight"</span>,</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">vColor=</span><span class="st">"median_weight"</span>,</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">type =</span><span class="st">"value"</span>,</span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">algorithm =</span> <span class="st">"pivotSize"</span>,</span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">sortID =</span> <span class="st">"weight"</span>,</span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">palette=</span><span class="st">"Blues"</span>,</span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">border.lwds =</span> <span class="st">"white"</span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>        )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">d3tree</span>(it, <span class="at">rootname =</span> <span class="st">"Distribution of hscode"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="d3tree html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-4a171e60e13badf490f9" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-4a171e60e13badf490f9">{"x":{"data":{"name":"Distribution of hscode","id":1,"size":null,"children":[{"name":"160414","color":"#08306B","h":1,"id":2,"size":83954,"stdErr":83954,"vColor":140720,"vColorValue":140720,"vSize":83954,"w":0.068801896039101,"x0":0.38417082709133,"y0":0,"children":[{"name":"2028","color":"#2676B7","h":0.157431450556257,"id":3,"size":13217,"stdErr":13217,"vColor":19900,"vColorValue":19900,"vSize":13217,"w":0.068801896039101,"x0":0.38417082709133,"y0":0.17401195892989},{"name":"2029","color":"#2676B7","h":0.17401195892989,"id":4,"size":14609,"stdErr":14609,"vColor":19730,"vColorValue":19730,"vSize":14609,"w":0.068801896039101,"x0":0.38417082709133,"y0":0},{"name":"2030","color":"#2676B7","h":0.142756747742811,"id":5,"size":11985,"stdErr":11985,"vColor":19970,"vColorValue":19970,"vSize":11985,"w":0.068801896039101,"x0":0.38417082709133,"y0":0.331443409486147},{"name":"2031","color":"#2373B6","h":0.12081616123115,"id":6,"size":10143,"stdErr":10143,"vColor":20275,"vColorValue":20275,"vSize":10143,"w":0.068801896039101,"x0":0.38417082709133,"y0":0.87918383876885},{"name":"2032","color":"#2373B6","h":0.1248779093313,"id":7,"size":10484,"stdErr":10484,"vColor":20290,"vColorValue":20290,"vSize":10484,"w":0.068801896039101,"x0":0.38417082709133,"y0":0.754305929437549},{"name":"2033","color":"#2373B6","h":0.142018248088239,"id":8,"size":11923,"stdErr":11923,"vColor":20280,"vColorValue":20280,"vSize":11923,"w":0.068801896039101,"x0":0.38417082709133,"y0":0.474200157228959},{"name":"2034","color":"#2373B6","h":0.138087524120352,"id":9,"size":11593,"stdErr":11593,"vColor":20275,"vColorValue":20275,"vSize":11593,"w":0.068801896039101,"x0":0.38417082709133,"y0":0.616218405317198}]},{"name":"304620","color":"#08306B","h":1,"id":10,"size":90198,"stdErr":90198,"vColor":145150,"vColorValue":145150,"vSize":90198,"w":0.0739189725198898,"x0":0.452972723130431,"y0":0,"children":[{"name":"2028","color":"#2676B7","h":0.143085212532429,"id":11,"size":12906,"stdErr":12906,"vColor":19785,"vColorValue":19785,"vSize":12906,"w":0.0739189725198898,"x0":0.452972723130431,"y0":0.633971928424134},{"name":"2029","color":"#2676B7","h":0.135368855185259,"id":12,"size":12210,"stdErr":12210,"vColor":19965,"vColorValue":19965,"vSize":12210,"w":0.0739189725198898,"x0":0.452972723130431,"y0":0.777057140956562},{"name":"2030","color":"#2676B7","h":0.145402337080645,"id":13,"size":13115,"stdErr":13115,"vColor":19965,"vColorValue":19965,"vSize":13115,"w":0.0739189725198898,"x0":0.452972723130431,"y0":0.488569591343489},{"name":"2031","color":"#2373B6","h":0.184948668484889,"id":14,"size":16682,"stdErr":16682,"vColor":20340,"vColorValue":20340,"vSize":16682,"w":0.0739189725198898,"x0":0.452972723130431,"y0":0},{"name":"2032","color":"#2171B5","h":0.147985542916694,"id":15,"size":13348,"stdErr":13348,"vColor":21300,"vColorValue":21300,"vSize":13348,"w":0.0739189725198898,"x0":0.452972723130431,"y0":0.340584048426794},{"name":"2033","color":"#2171B5","h":0.155635379941906,"id":16,"size":14038,"stdErr":14038,"vColor":21785,"vColorValue":21785,"vSize":14038,"w":0.0739189725198898,"x0":0.452972723130431,"y0":0.184948668484889},{"name":"2034","color":"#1F6EB3","h":0.0875740038581786,"id":17,"size":7899,"stdErr":7899,"vColor":22010,"vColorValue":22010,"vSize":7899,"w":0.0739189725198898,"x0":0.452972723130431,"y0":0.912425996141821}]},{"name":"306170","color":"#08306B","h":1,"id":18,"size":156886,"stdErr":156886,"vColor":129865,"vColorValue":129865,"vSize":156886,"w":0.128571053934183,"x0":0.871428946065817,"y0":0,"children":[{"name":"2028","color":"#2B7BBA","h":0.223474369924659,"id":19,"size":15282,"stdErr":15282,"vColor":18060,"vColorValue":18060,"vSize":15282,"w":0.0560417240793549,"x0":0.871428946065817,"y0":0.776525630075341},{"name":"2029","color":"#2B7BBA","h":0.127289879275397,"id":20,"size":19970,"stdErr":19970,"vColor":17995,"vColorValue":17995,"vSize":19970,"w":0.128571053934183,"x0":0.871428946065817,"y0":0.649235750799944},{"name":"2030","color":"#2B7BBA","h":0.223474369924659,"id":21,"size":19778,"stdErr":19778,"vColor":18090,"vColorValue":18090,"vSize":19778,"w":0.0725293298548278,"x0":0.927470670145172,"y0":0.776525630075341},{"name":"2031","color":"#2B7BBA","h":0.133001032596918,"id":22,"size":20866,"stdErr":20866,"vColor":18395,"vColorValue":18395,"vSize":20866,"w":0.128571053934183,"x0":0.871428946065817,"y0":0.516234718203026},{"name":"2032","color":"#2878B9","h":0.167580281223308,"id":23,"size":26291,"stdErr":26291,"vColor":19020,"vColorValue":19020,"vSize":26291,"w":0.128571053934183,"x0":0.871428946065817,"y0":0.348654436979718},{"name":"2033","color":"#2878B9","h":0.175732697627577,"id":24,"size":27570,"stdErr":27570,"vColor":19080,"vColorValue":19080,"vSize":27570,"w":0.128571053934183,"x0":0.871428946065817,"y0":0},{"name":"2034","color":"#2878B9","h":0.172921739352141,"id":25,"size":27129,"stdErr":27129,"vColor":19225,"vColorValue":19225,"vSize":27129,"w":0.128571053934183,"x0":0.871428946065817,"y0":0.175732697627577}]},{"name":"392410","color":"#08478E","h":0.311210380143288,"id":26,"size":29222,"stdErr":29222,"vColor":34967.5,"vColorValue":34967.5,"vSize":29222,"w":0.0769511077380632,"x0":0.100253426278003,"y0":0.688789619856712,"children":[{"name":"2029","color":"#4A97C9","h":0.149886212105148,"id":27,"size":6998,"stdErr":6998,"vColor":8872.5,"vColorValue":8872.5,"vSize":6998,"w":0.0382623171771327,"x0":0.100253426278003,"y0":0.850113787894852},{"name":"2032","color":"#4A97C9","h":0.149886212105148,"id":28,"size":7076,"stdErr":7076,"vColor":8830,"vColorValue":8830,"vSize":7076,"w":0.0386887905609304,"x0":0.138515743455136,"y0":0.850113787894852},{"name":"2033","color":"#4A97C9","h":0.0778824690297675,"id":29,"size":7313,"stdErr":7313,"vColor":8480,"vColorValue":8480,"vSize":7313,"w":0.0769511077380632,"x0":0.100253426278003,"y0":0.772231318865084},{"name":"2034","color":"#4A97C9","h":0.0834416990083726,"id":30,"size":7835,"stdErr":7835,"vColor":8785,"vColorValue":8785,"vSize":7835,"w":0.0769511077380632,"x0":0.100253426278003,"y0":0.688789619856712}]},{"name":"392690","color":"#1D6BB1","h":0.176034831405557,"id":31,"size":38064,"stdErr":38064,"vColor":23550,"vColorValue":23550,"vSize":38064,"w":0.177204534016066,"x0":0,"y0":0.512754788451155,"children":[{"name":"2028","color":"#5DA5D0","h":0.0888206119960762,"id":32,"size":7575,"stdErr":7575,"vColor":4070,"vColorValue":4070,"vSize":7575,"w":0.0698920678116646,"x0":0,"y0":0.512754788451155},{"name":"2029","color":"#5DA5D0","h":0.176034831405557,"id":33,"size":7639,"stdErr":7639,"vColor":4045,"vColorValue":4045,"vSize":7639,"w":0.03556287923888,"x0":0.105436325304641,"y0":0.512754788451155},{"name":"2030","color":"#5AA2CF","h":0.0872142194094804,"id":34,"size":7438,"stdErr":7438,"vColor":4750,"vColorValue":4750,"vSize":7438,"w":0.0698920678116646,"x0":0,"y0":0.601575400447231},{"name":"2033","color":"#5AA2CF","h":0.176034831405557,"id":35,"size":7635,"stdErr":7635,"vColor":4985,"vColorValue":4985,"vSize":7635,"w":0.0355442574929767,"x0":0.0698920678116646,"y0":0.512754788451155},{"name":"2034","color":"#57A0CE","h":0.176034831405557,"id":36,"size":7777,"stdErr":7777,"vColor":5700,"vColorValue":5700,"vSize":7777,"w":0.0362053294725448,"x0":0.140999204543521,"y0":0.512754788451155}]},{"name":"611020","color":"#1F6EB3","h":1,"id":37,"size":91495,"stdErr":91495,"vColor":22395,"vColorValue":22395,"vSize":91495,"w":0.0749818886306493,"x0":0.526891695650321,"y0":0,"children":[{"name":"2028","color":"#61A7D2","h":0.140914804087655,"id":38,"size":12893,"stdErr":12893,"vColor":2940,"vColorValue":2940,"vSize":12893,"w":0.0749818886306493,"x0":0.526891695650321,"y0":0.681053609486857},{"name":"2029","color":"#61A7D2","h":0.166632056396524,"id":39,"size":15246,"stdErr":15246,"vColor":3195,"vColorValue":3195,"vSize":15246,"w":0.0749818886306493,"x0":0.526891695650321,"y0":0.194043390349199},{"name":"2030","color":"#5DA5D0","h":0.194043390349199,"id":40,"size":17754,"stdErr":17754,"vColor":3455,"vColorValue":3455,"vSize":17754,"w":0.0749818886306493,"x0":0.526891695650321,"y0":0},{"name":"2031","color":"#61A7D2","h":0.165571889174272,"id":41,"size":15149,"stdErr":15149,"vColor":2850,"vColorValue":2850,"vSize":15149,"w":0.0749818886306493,"x0":0.526891695650321,"y0":0.360675446745724},{"name":"2032","color":"#64A9D3","h":0.154806273566862,"id":42,"size":14164,"stdErr":14164,"vColor":2025,"vColorValue":2025,"vSize":14164,"w":0.0749818886306493,"x0":0.526891695650321,"y0":0.526247335919996},{"name":"2033","color":"#5DA5D0","h":0.178031586425488,"id":43,"size":9405,"stdErr":9405,"vColor":3410,"vColorValue":3410,"vSize":9405,"w":0.0432933060698175,"x0":0.558580278211153,"y0":0.821968413574512},{"name":"2034","color":"#5AA2CF","h":0.178031586425488,"id":44,"size":6884,"stdErr":6884,"vColor":4520,"vColorValue":4520,"vSize":6884,"w":0.0316885825608319,"x0":0.526891695650321,"y0":0.821968413574512}]},{"name":"620462","color":"#1D6BB1","h":0.487245211548845,"id":45,"size":42249,"stdErr":42249,"vColor":22902.5,"vColorValue":22902.5,"vSize":42249,"w":0.0710604360189145,"x0":0.177204534016066,"y0":0.512754788451155,"children":[{"name":"2028","color":"#5DA5D0","h":0.0977281337467138,"id":46,"size":8474,"stdErr":8474,"vColor":4115,"vColorValue":4115,"vSize":8474,"w":0.0710604360189145,"x0":0.177204534016066,"y0":0.716053294668652},{"name":"2029","color":"#5AA2CF","h":0.0955023218735588,"id":47,"size":8281,"stdErr":8281,"vColor":4410,"vColorValue":4410,"vSize":8281,"w":0.0710604360189145,"x0":0.177204534016066,"y0":0.813781428415366},{"name":"2030","color":"#5AA2CF","h":0.1007843003083,"id":48,"size":8739,"stdErr":8739,"vColor":4715,"vColorValue":4715,"vSize":8739,"w":0.0710604360189145,"x0":0.177204534016066,"y0":0.615268994360353},{"name":"2031","color":"#5AA2CF","h":0.102514205909197,"id":49,"size":8889,"stdErr":8889,"vColor":4610,"vColorValue":4610,"vSize":8889,"w":0.0710604360189145,"x0":0.177204534016066,"y0":0.512754788451155},{"name":"2032","color":"#5AA2CF","h":0.0907162497110751,"id":50,"size":7866,"stdErr":7866,"vColor":5052.5,"vColorValue":5052.5,"vSize":7866,"w":0.0710604360189145,"x0":0.177204534016066,"y0":0.909283750288925}]},{"name":"640299","color":"#08306B","h":0.838573220472038,"id":51,"size":66869,"stdErr":66869,"vColor":42327.5,"vColorValue":42327.5,"vSize":66869,"w":0.0653495878606121,"x0":0.318821239230718,"y0":0.161426779527962,"children":[{"name":"2028","color":"#549ECD","h":0.125054242691638,"id":52,"size":9972,"stdErr":9972,"vColor":5980,"vColorValue":5980,"vSize":9972,"w":0.0653495878606121,"x0":0.318821239230718,"y0":0.448956229631641},{"name":"2029","color":"#57A0CE","h":0.139663969199436,"id":53,"size":11137,"stdErr":11137,"vColor":5730,"vColorValue":5730,"vSize":11137,"w":0.0653495878606121,"x0":0.318821239230718,"y0":0.309292260432205},{"name":"2030","color":"#57A0CE","h":0.147865480904243,"id":54,"size":11791,"stdErr":11791,"vColor":5810,"vColorValue":5810,"vSize":11791,"w":0.0653495878606121,"x0":0.318821239230718,"y0":0.161426779527962},{"name":"2031","color":"#549ECD","h":0.115924731191487,"id":55,"size":9244,"stdErr":9244,"vColor":6550,"vColorValue":6550,"vSize":9244,"w":0.0653495878606121,"x0":0.318821239230718,"y0":0.574010472323279},{"name":"2032","color":"#549ECD","h":0.110870894468188,"id":56,"size":8841,"stdErr":8841,"vColor":6320,"vColorValue":6320,"vSize":8841,"w":0.0653495878606121,"x0":0.318821239230718,"y0":0.689935203514766},{"name":"2033","color":"#549ECD","h":0.0936025739521047,"id":57,"size":7464,"stdErr":7464,"vColor":6180,"vColorValue":6180,"vSize":7464,"w":0.0653495878606121,"x0":0.318821239230718,"y0":0.906397426047895},{"name":"2034","color":"#57A0CE","h":0.105591328064941,"id":58,"size":8420,"stdErr":8420,"vColor":5757.5,"vColorValue":5757.5,"vSize":8420,"w":0.0653495878606121,"x0":0.318821239230718,"y0":0.800806097982954}]},{"name":"640399","color":"#084286","h":0.184584486669839,"id":59,"size":55918,"stdErr":55918,"vColor":36732.5,"vColorValue":36732.5,"vSize":55918,"w":0.248264970034981,"x0":0,"y0":0.328170301781316,"children":[{"name":"2028","color":"#549ECD","h":0.184584486669839,"id":60,"size":10681,"stdErr":10681,"vColor":5975,"vColorValue":5975,"vSize":10681,"w":0.0474215484270472,"x0":0.200843421607933,"y0":0.328170301781316},{"name":"2029","color":"#57A0CE","h":0.184584486669839,"id":61,"size":10644,"stdErr":10644,"vColor":5855,"vColorValue":5855,"vSize":10644,"w":0.0472572756724549,"x0":0.153586145935478,"y0":0.328170301781316},{"name":"2030","color":"#549ECD","h":0.184584486669839,"id":62,"size":10570,"stdErr":10570,"vColor":6300,"vColorValue":6300,"vSize":10570,"w":0.0469287301632702,"x0":0.106657415772208,"y0":0.328170301781316},{"name":"2031","color":"#509CCB","h":0.184584486669839,"id":63,"size":9362,"stdErr":9362,"vColor":7012.5,"vColorValue":7012.5,"vSize":9362,"w":0.0415654467160394,"x0":0.0650919690561689,"y0":0.328170301781316},{"name":"2032","color":"#549ECD","h":0.0946403100946172,"id":64,"size":7517,"stdErr":7517,"vColor":6630,"vColorValue":6630,"vSize":7517,"w":0.0650919690561689,"x0":0,"y0":0.328170301781316},{"name":"2034","color":"#5AA2CF","h":0.0899441765752222,"id":65,"size":7144,"stdErr":7144,"vColor":4960,"vColorValue":4960,"vSize":7144,"w":0.0650919690561689,"x0":0,"y0":0.422810611875933}]},{"name":"760120","color":"#6BAED6","h":0.180786655649943,"id":66,"size":22116,"stdErr":22116,"vColor":65,"vColorValue":65,"vSize":22116,"w":0.100253426278003,"x0":0,"y0":0.688789619856712,"children":[{"name":"2028","color":"#6BAED6","h":0.0899827156933848,"id":67,"size":6903,"stdErr":6903,"vColor":35,"vColorValue":35,"vSize":6903,"w":0.0628691792842116,"x0":0,"y0":0.77959355981327},{"name":"2033","color":"#6BAED6","h":0.0908039399565577,"id":68,"size":6966,"stdErr":6966,"vColor":15,"vColorValue":15,"vSize":6966,"w":0.0628691792842116,"x0":0,"y0":0.688789619856712},{"name":"2034","color":"#6BAED6","h":0.180786655649943,"id":69,"size":8247,"stdErr":8247,"vColor":15,"vColorValue":15,"vSize":8247,"w":0.0373842469937914,"x0":0.0628691792842116,"y0":0.688789619856712}]},{"name":"841810","color":"#1D6BB1","h":0.671829698218684,"id":70,"size":57841,"stdErr":57841,"vColor":23180,"vColorValue":23180,"vSize":57841,"w":0.0705562691957377,"x0":0.248264970034981,"y0":0.328170301781316,"children":[{"name":"2028","color":"#5AA2CF","h":0.135594818502531,"id":71,"size":11674,"stdErr":11674,"vColor":4420,"vColorValue":4420,"vSize":11674,"w":0.0705562691957377,"x0":0.248264970034981,"y0":0.483313353926109},{"name":"2029","color":"#5AA2CF","h":0.126465340402224,"id":72,"size":10888,"stdErr":10888,"vColor":4575,"vColorValue":4575,"vSize":10888,"w":0.0705562691957377,"x0":0.248264970034981,"y0":0.873534659597776},{"name":"2030","color":"#5AA2CF","h":0.155143052144793,"id":73,"size":13357,"stdErr":13357,"vColor":4710,"vColorValue":4710,"vSize":13357,"w":0.0705562691957377,"x0":0.248264970034981,"y0":0.328170301781316},{"name":"2033","color":"#5AA2CF","h":0.127336473808742,"id":74,"size":10963,"stdErr":10963,"vColor":4760,"vColorValue":4760,"vSize":10963,"w":0.0705562691957377,"x0":0.248264970034981,"y0":0.61890817242864},{"name":"2034","color":"#5AA2CF","h":0.127290013360394,"id":75,"size":10959,"stdErr":10959,"vColor":4715,"vColorValue":4715,"vSize":10959,"w":0.0705562691957377,"x0":0.248264970034981,"y0":0.746244646237382}]},{"name":"870323","color":"#08306B","h":0.166743522253354,"id":76,"size":64869,"stdErr":64869,"vColor":194517.5,"vColorValue":194517.5,"vSize":64869,"w":0.318821239230718,"x0":0,"y0":0.161426779527962,"children":[{"name":"2028","color":"#2878B9","h":0.166743522253354,"id":77,"size":10410,"stdErr":10410,"vColor":18612.5,"vColorValue":18612.5,"vSize":10410,"w":0.0511635619539653,"x0":0.213220826921122,"y0":0.161426779527962},{"name":"2029","color":"#2B7BBA","h":0.166743522253354,"id":78,"size":11076,"stdErr":11076,"vColor":17992.5,"vColorValue":17992.5,"vSize":11076,"w":0.0544368503556311,"x0":0.264384388875087,"y0":0.161426779527962},{"name":"2030","color":"#2878B9","h":0.166743522253354,"id":79,"size":9766,"stdErr":9766,"vColor":18820,"vColorValue":18820,"vSize":9766,"w":0.0479984001961984,"x0":0.165222426724923,"y0":0.161426779527962},{"name":"2031","color":"#2171B5","h":0.166743522253354,"id":80,"size":8474,"stdErr":8474,"vColor":21130,"vColorValue":21130,"vSize":8474,"w":0.0416484172908648,"x0":0.0764357075416013,"y0":0.161426779527962},{"name":"2032","color":"#08306B","h":0.166743522253354,"id":81,"size":9591,"stdErr":9591,"vColor":42210,"vColorValue":42210,"vSize":9591,"w":0.0471383018924574,"x0":0.118084124832466,"y0":0.161426779527962},{"name":"2033","color":"#084286","h":0.166743522253354,"id":82,"size":8418,"stdErr":8418,"vColor":36960,"vColorValue":36960,"vSize":8418,"w":0.0413731858336677,"x0":0.0350625217079336,"y0":0.161426779527962},{"name":"2034","color":"#083D7E","h":0.166743522253354,"id":83,"size":7134,"stdErr":7134,"vColor":38792.5,"vColorValue":38792.5,"vSize":7134,"w":0.0350625217079336,"x0":0,"y0":0.161426779527962}]},{"name":"870899","color":"#08306B","h":1,"id":84,"size":110625,"stdErr":110625,"vColor":53460,"vColorValue":53460,"vSize":110625,"w":0.0906592866251225,"x0":0.676994791137394,"y0":0,"children":[{"name":"2028","color":"#549ECD","h":0.143240677966102,"id":85,"size":15846,"stdErr":15846,"vColor":6470,"vColorValue":6470,"vSize":15846,"w":0.0906592866251225,"x0":0.676994791137394,"y0":0.461559322033899},{"name":"2029","color":"#4D99CA","h":0.162928813559322,"id":86,"size":18024,"stdErr":18024,"vColor":7737.5,"vColorValue":7737.5,"vSize":18024,"w":0.0906592866251225,"x0":0.676994791137394,"y0":0},{"name":"2030","color":"#549ECD","h":0.15265988700565,"id":87,"size":16888,"stdErr":16888,"vColor":6530,"vColorValue":6530,"vSize":16888,"w":0.0906592866251225,"x0":0.676994791137394,"y0":0.162928813559322},{"name":"2031","color":"#509CCB","h":0.130621468926554,"id":88,"size":14450,"stdErr":14450,"vColor":7180,"vColorValue":7180,"vSize":14450,"w":0.0906592866251225,"x0":0.676994791137394,"y0":0.739073446327684},{"name":"2032","color":"#509CCB","h":0.130305084745763,"id":89,"size":14415,"stdErr":14415,"vColor":7155,"vColorValue":7155,"vSize":14415,"w":0.0906592866251225,"x0":0.676994791137394,"y0":0.869694915254237},{"name":"2033","color":"#4695C7","h":0.145970621468927,"id":90,"size":16148,"stdErr":16148,"vColor":9340,"vColorValue":9340,"vSize":16148,"w":0.0906592866251225,"x0":0.676994791137394,"y0":0.315588700564972},{"name":"2034","color":"#4A97C9","h":0.134273446327683,"id":91,"size":14854,"stdErr":14854,"vColor":9047.5,"vColorValue":9047.5,"vSize":14854,"w":0.0906592866251225,"x0":0.676994791137394,"y0":0.6048}]},{"name":"940161","color":"#08458A","h":0.161426779527962,"id":92,"size":75673,"stdErr":75673,"vColor":36297.5,"vColorValue":36297.5,"vSize":75673,"w":0.38417082709133,"x0":0,"y0":0,"children":[{"name":"2028","color":"#5DA5D0","h":0.161426779527962,"id":93,"size":13215,"stdErr":13215,"vColor":3815,"vColorValue":3815,"vSize":13215,"w":0.0670888887715821,"x0":0.248140045809867,"y0":0},{"name":"2029","color":"#5DA5D0","h":0.161426779527962,"id":94,"size":13580,"stdErr":13580,"vColor":4190,"vColorValue":4190,"vSize":13580,"w":0.0689418925098816,"x0":0.315228934581449,"y0":0},{"name":"2030","color":"#5AA2CF","h":0.161426779527962,"id":95,"size":11536,"stdErr":11536,"vColor":4360,"vColorValue":4360,"vSize":11536,"w":0.0585650715754045,"x0":0.189574974234462,"y0":0},{"name":"2031","color":"#57A0CE","h":0.161426779527962,"id":96,"size":8775,"stdErr":8775,"vColor":5560,"vColorValue":5560,"vSize":8775,"w":0.0445482405577475,"x0":0.043512589153328,"y0":0},{"name":"2032","color":"#57A0CE","h":0.161426779527962,"id":97,"size":9746,"stdErr":9746,"vColor":5697.5,"vColorValue":5697.5,"vSize":9746,"w":0.0494777381738811,"x0":0.0880608297110755,"y0":0},{"name":"2033","color":"#549ECD","h":0.161426779527962,"id":98,"size":10250,"stdErr":10250,"vColor":6005,"vColorValue":6005,"vSize":10250,"w":0.0520364063495056,"x0":0.137538567884957,"y0":0},{"name":"2034","color":"#549ECD","h":0.161426779527962,"id":99,"size":8571,"stdErr":8571,"vColor":6670,"vColorValue":6670,"vSize":8571,"w":0.043512589153328,"x0":0,"y0":0}]},{"name":"940320","color":"#1866AD","h":0.130423724493346,"id":100,"size":15955,"stdErr":15955,"vColor":25005,"vColorValue":25005,"vSize":15955,"w":0.100253426278003,"x0":0,"y0":0.869576275506654,"children":[{"name":"2028","color":"#3B8BC2","h":0.130423724493346,"id":101,"size":7587,"stdErr":7587,"vColor":12995,"vColorValue":12995,"vSize":7587,"w":0.047673001891019,"x0":0,"y0":0.869576275506654},{"name":"2029","color":"#3E8EC3","h":0.130423724493346,"id":102,"size":8368,"stdErr":8368,"vColor":12010,"vColorValue":12010,"vSize":8368,"w":0.0525804243869839,"x0":0.047673001891019,"y0":0.869576275506654}]},{"name":"940360","color":"#08306B","h":1,"id":103,"size":91665,"stdErr":91665,"vColor":81515,"vColorValue":81515,"vSize":91665,"w":0.0751212068564236,"x0":0.601873584280971,"y0":0,"children":[{"name":"2028","color":"#3B8BC2","h":0.124954999181803,"id":104,"size":11454,"stdErr":11454,"vColor":12840,"vColorValue":12840,"vSize":11454,"w":0.0751212068564236,"x0":0.601873584280971,"y0":0.790028909616538},{"name":"2029","color":"#3B8BC2","h":0.17263950253641,"id":105,"size":15825,"stdErr":15825,"vColor":13400,"vColorValue":13400,"vSize":15825,"w":0.0751212068564236,"x0":0.601873584280971,"y0":0},{"name":"2030","color":"#3888C1","h":0.166595756286478,"id":106,"size":15271,"stdErr":15271,"vColor":14060,"vColorValue":14060,"vSize":15271,"w":0.0751212068564236,"x0":0.601873584280971,"y0":0.17263950253641},{"name":"2031","color":"#4090C5","h":0.159450171821306,"id":107,"size":14616,"stdErr":14616,"vColor":11680,"vColorValue":11680,"vSize":14616,"w":0.0751212068564236,"x0":0.601873584280971,"y0":0.50334369715813},{"name":"2032","color":"#4393C6","h":0.164108438335243,"id":108,"size":15043,"stdErr":15043,"vColor":10505,"vColorValue":10505,"vSize":15043,"w":0.0751212068564236,"x0":0.601873584280971,"y0":0.339235258822888},{"name":"2033","color":"#4393C6","h":0.127235040637102,"id":109,"size":11663,"stdErr":11663,"vColor":10185,"vColorValue":10185,"vSize":11663,"w":0.0751212068564236,"x0":0.601873584280971,"y0":0.662793868979436},{"name":"2034","color":"#4A97C9","h":0.0850160912016581,"id":110,"size":7793,"stdErr":7793,"vColor":8845,"vColorValue":8845,"vSize":7793,"w":0.0751212068564236,"x0":0.601873584280971,"y0":0.914983908798342}]},{"name":"950300","color":"#083D7E","h":1,"id":111,"size":126629,"stdErr":126629,"vColor":38200,"vColorValue":38200,"vSize":126629,"w":0.103774868303301,"x0":0.767654077762517,"y0":0,"children":[{"name":"2028","color":"#57A0CE","h":0.130752039422249,"id":112,"size":16557,"stdErr":16557,"vColor":5580,"vColorValue":5580,"vSize":16557,"w":0.103774868303301,"x0":0.767654077762517,"y0":0.532942690852806},{"name":"2029","color":"#57A0CE","h":0.152690142068562,"id":113,"size":19335,"stdErr":19335,"vColor":5515,"vColorValue":5515,"vSize":19335,"w":0.103774868303301,"x0":0.767654077762517,"y0":0.380252548784244},{"name":"2030","color":"#549ECD","h":0.203855356987736,"id":114,"size":25814,"stdErr":25814,"vColor":6305,"vColorValue":6305,"vSize":25814,"w":0.103774868303301,"x0":0.767654077762517,"y0":0},{"name":"2031","color":"#57A0CE","h":0.211744545088408,"id":115,"size":14416,"stdErr":14416,"vColor":5725,"vColorValue":5725,"vSize":14416,"w":0.0557945213687533,"x0":0.815634424697064,"y0":0.788255454911592},{"name":"2032","color":"#57A0CE","h":0.211744545088408,"id":116,"size":12397,"stdErr":12397,"vColor":5675,"vColorValue":5675,"vSize":12397,"w":0.0479803469345473,"x0":0.767654077762517,"y0":0.788255454911592},{"name":"2033","color":"#5AA2CF","h":0.176397191796508,"id":117,"size":22337,"stdErr":22337,"vColor":4585,"vColorValue":4585,"vSize":22337,"w":0.103774868303301,"x0":0.767654077762517,"y0":0.203855356987736},{"name":"2034","color":"#5AA2CF","h":0.124560724636537,"id":118,"size":15773,"stdErr":15773,"vColor":4815,"vColorValue":4815,"vSize":15773,"w":0.103774868303301,"x0":0.767654077762517,"y0":0.663694730275055}]}]},"meta":{"type":"value","vSize":"weight","vColor":"median_weight","stdErr":"weight","algorithm":"pivotSize","vpCoorX":[0.0164041994750656,0.983595800524934],"vpCoorY":[0.143070866141732,0.925262467191601],"aspRatio":2.47302988104626,"range":[0,40000],"mapping":[null,null,null],"draw":true},"options":{"id":"id","celltext":"name","valueField":"size"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note about Treemap
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body" title="Note about Treemap">
<p><code>index</code> vector shows the hscode code followed by the year.</p>
<p><code>vSize</code> vector shows the distribution by weight(the size of the rectangles)</p>
<p><code>vColor</code> vector shows the different intensity by median_weight</p>
<p><code>type</code> vector reflects the value type treemap</p>
<p><code>algorithm</code> vector to pivot by size</p>
<p><code>sortID</code> vector to determined the order from top left to bottom right</p>
<p><code>palette</code> vector paints the treemap using <code>[rColorBrewer]</code> package</p>
<p><code>border.lwds</code> vector paints the border width to white</p>
</div>
</div>
</div>
<p><strong>Observations:</strong></p>
<ul>
<li><p>As observed from top left to bottom right, <code>hscode '306170'</code> has the highest transactions count along with higher than average median weight.</p></li>
<li><p>HS code that start with <code>30</code> occupies a higher weightage than the combined of code. It is composed fo six digits and could be broken down into chapter/heading/subheading with two digits each. From the graph above, hscode <code>306170</code> and <code>304620</code> are rank top and sixth position.</p></li>
<li><p><code>hscode '870323</code> has the darkest gradient in 2032. As observed in section 4.1, the transactions count did not increase. Thus, it would be ideal to observed the transactions of <code>hscode 870323</code> in year 2032.</p></li>
</ul>
<section id="network-graph-for-hscode-306170" class="level2">
<h2 class="anchored" data-anchor-id="network-graph-for-hscode-306170">Network graph for Hscode (306170)</h2>
<div class="cell">

</div>
</section>
<section id="network-graph-for-hscode-and-year" class="level2">
<h2 class="anchored" data-anchor-id="network-graph-for-hscode-and-year">Network graph for Hscode and year</h2>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co">#create edges df for transactions from Mar 2030</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>MC2_2032_870323_edges <span class="ot">&lt;-</span> MC2_challenge_edges <span class="sc">%&gt;%</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="st">"2032"</span> <span class="sc">&amp;</span> hscode <span class="sc">==</span><span class="st">"870323"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source, target, hscode) <span class="sc">%&gt;%</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">weight =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">!=</span>target) <span class="sc">%&gt;%</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(weight <span class="sc">&gt;</span><span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="co">#keep ~200 rows </span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">from =</span> source, <span class="at">to =</span> target) <span class="sc">%&gt;%</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">3</span>) <span class="sc">%&gt;%</span> <span class="co">#relocate weight to 3rd column </span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a><span class="co">#create nodes df for transactions from Mar 2030</span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>MC2_2032_870323_nodes <span class="ot">&lt;-</span> MC2_id_list_vis <span class="sc">%&gt;%</span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(id <span class="sc">%in%</span> MC2_2032_870323_edges<span class="sc">$</span>from <span class="sc">|</span> id <span class="sc">%in%</span> MC2_2032_870323_edges<span class="sc">$</span>to) <span class="sc">%&gt;%</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() </span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a><span class="co">#create igraph object </span></span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>gg <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(<span class="at">d=</span>MC2_2032_870323_edges, </span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>                           <span class="at">vertices=</span>MC2_2032_870323_nodes, <span class="at">directed=</span><span class="cn">TRUE</span>) </span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a><span class="co">#compute degree centrality </span></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>degree_centrality <span class="ot">&lt;-</span> <span class="fu">degree</span>(gg)</span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a>MC2_2032_870323_nodes<span class="sc">$</span>degree_centrality <span class="ot">&lt;-</span> </span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a>  degree_centrality[<span class="fu">as.character</span>(MC2_2032_870323_nodes<span class="sc">$</span>id)]</span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a><span class="co">#add diverging palettes scheme to nodes based on degree centrality</span></span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a>colors <span class="ot">&lt;-</span> <span class="fu">colorRampPalette</span>(<span class="fu">brewer.pal</span>(<span class="dv">3</span>, <span class="st">"RdYlBu"</span>))(<span class="dv">3</span>) <span class="co"># use three colors </span></span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a>MC2_2032_870323_nodes <span class="ot">&lt;-</span> MC2_2032_870323_nodes <span class="sc">%&gt;%</span></span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">shape=</span><span class="st">"dot"</span>, <span class="at">shadow=</span><span class="cn">TRUE</span>,  </span>
<span id="cb33-30"><a href="#cb33-30" aria-hidden="true" tabindex="-1"></a>         <span class="at">title=</span>trade_status, <span class="co"># hover for trade_status</span></span>
<span id="cb33-31"><a href="#cb33-31" aria-hidden="true" tabindex="-1"></a>         <span class="at">label=</span>label, <span class="co"># add labels on nodes</span></span>
<span id="cb33-32"><a href="#cb33-32" aria-hidden="true" tabindex="-1"></a>         <span class="at">size=</span><span class="dv">20</span>, <span class="co"># set size of nodes</span></span>
<span id="cb33-33"><a href="#cb33-33" aria-hidden="true" tabindex="-1"></a>         <span class="at">borderWidth=</span><span class="dv">1</span>, <span class="co">#set border width of nodes</span></span>
<span id="cb33-34"><a href="#cb33-34" aria-hidden="true" tabindex="-1"></a>         <span class="at">color.background=</span>colors[degree_centrality], <span class="co">#set color for nodes</span></span>
<span id="cb33-35"><a href="#cb33-35" aria-hidden="true" tabindex="-1"></a>         <span class="at">color.border=</span><span class="st">"grey"</span>) <span class="co">#set color for border</span></span>
<span id="cb33-36"><a href="#cb33-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-37"><a href="#cb33-37" aria-hidden="true" tabindex="-1"></a><span class="co">#plot network graph </span></span>
<span id="cb33-38"><a href="#cb33-38" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(MC2_2032_870323_nodes, MC2_2032_870323_edges, <span class="at">main =</span><span class="st">"Trade flow in 2032</span></span>
<span id="cb33-39"><a href="#cb33-39" aria-hidden="true" tabindex="-1"></a><span class="st">           &lt;br&gt;for hscode 870323&lt;br&gt;"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb33-40"><a href="#cb33-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout_with_fr"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb33-41"><a href="#cb33-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">visOptions</span>(<span class="at">highlightNearest =</span> <span class="cn">TRUE</span>,</span>
<span id="cb33-42"><a href="#cb33-42" aria-hidden="true" tabindex="-1"></a>             <span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>,</span>
<span id="cb33-43"><a href="#cb33-43" aria-hidden="true" tabindex="-1"></a>             <span class="at">selectedBy =</span> <span class="st">"degree_centrality"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb33-44"><a href="#cb33-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLegend</span>() <span class="sc">%&gt;%</span></span>
<span id="cb33-45"><a href="#cb33-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>) <span class="sc">%&gt;%</span> <span class="co">#indicate direction </span></span>
<span id="cb33-46"><a href="#cb33-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span>(<span class="at">randomSeed =</span> <span class="dv">123</span>) <span class="sc">%&gt;%</span></span>
<span id="cb33-47"><a href="#cb33-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addFontAwesome</span>(<span class="at">name =</span> <span class="st">"font-awesome"</span>) <span class="sc">%&gt;%</span> <span class="co">#add icon to network </span></span>
<span id="cb33-48"><a href="#cb33-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLegend</span>() <span class="sc">%&gt;%</span></span>
<span id="cb33-49"><a href="#cb33-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visInteraction</span>(<span class="at">dragNodes =</span> <span class="cn">FALSE</span>, <span class="at">dragView =</span> <span class="cn">TRUE</span>, </span>
<span id="cb33-50"><a href="#cb33-50" aria-hidden="true" tabindex="-1"></a>                 <span class="at">zoomView =</span> <span class="cn">TRUE</span>, <span class="at">navigationButtons =</span> <span class="cn">TRUE</span>) <span class="co">#freeze network</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-e65e2fc992ca1416e3af" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-e65e2fc992ca1416e3af">{"x":{"nodes":{"id":["8","9","18","21","22","25","26","40","44","49","51","52","84","95","103","106","107","108","133","138","139","141","147","151","162","169","172","177","184","190","193","206","207","210","211","215","219","230","234","250","255","269","277","278","286","291","298","302","307","321","326","332","339","341","363","376","407","431","435","449","482","484","510","517","524","558","562","564","571","587","590","602","669","677","688","693","721","725","745","782","783","835","848","874","899","912","964","971","984","1024","1033","1094","1099","1189","1195","1241","1244","1259","1283","1292","1303","1310","1337","1342","1366","1427","1445","1510","1518","1520","1527","1561","1568","1587","1622","1653","1665","1700","1857","1859","1880","1928","1930","2044","2111","2128","2141","2174","2186","2268","2292","2297","2374","2427","2588","2672","2738","2762","2765","2769","2866","2914","2956","3023","3078","3098","3201","3278","3281","3404","3440","3493","3574","3602","3745","3759","3831","3918","3989","4053","4135","4214","4227","4360","4372","4437","4442","4531","4664","4757","4803","4840","4849","4852","4915","4919","4921","4937","5028","5121","5137","5266","5714","5824","5860","6013","6148","6314","6462","6475","6574","6634","6735","6738","6995","7021","7186","7470","8061","8136","8287","8290","8680","9004","9401","9404","9648","9802","10410","10423","10703","11571","12038","12095","12281","13118","14263","14950","16934","17170","17728","18199","18898","19346","22032","23016","23782","23951","24273","25470","26382","26563","26664","26706","26768","26785","26837","27011","27265","27455","27458","27460","27715"],"label":["Panope Limited Liability Company","hǎi dǎn Corporation Wharf","Costa de la Felicidad Shipping","Mandalore S.A. de C.V. Logistics","Black Sea Tuna Snapper","Caracola Azul Ltd. Corporation","Sailors and Surfers Incorporated Enterprises","Dubingiai Ltd. Liability Co","Caracola del Sol Services","Saltwater Supreme ОАО Forwading","Turkish Sword S.A. de C.V. Trout","Océano de Coral Corporation Express","Uttarakhand  Market Limited Liability Company Nautical","Coral Cove BV Delivery","-54","Kong zhong diao yu  AG Transport","Mar de la Vida Incorporated","Ancla Azul Transportation Seafaring","ReefRider Foods Ltd. Corporation Family","Fisherman's Best Marine conservation","Kilimanjaro fishery Ltd. Corporation Carriers","Belgian Shrimps Ocean Corp Holdings","Fisherman's Bounty Corp Marine","Spanish Anchovy CJSC Marine","Kong zhong diao yu  Ges.m.b.H.","Olas del Mar ОАО","Assam  Market Cargo ship Company Marine conservation","Playa del Mar Anchor N.V. Services","Portuguese Tuna Bonito Kga Consultants","Tamil Nadu   Sp Worldwide","Isla del Este SE","Ianira Starfish Sagl Import","Haryana s Sagl Transport","Gvardeysk GmbH & Co. KG","SeaTree Ltd. Liability Co Holdings","Saltwater Supreme Pelican Ltd Enterprises","Richard Seafood Ltd. Liability Co Delivery","Playa del Mar NV","Olas del Sur Oyj","Rajasthan  Market Kga Submarine","Chhattisgarh   Marine ecology A/S Delivery","Limited Liability Company Co","Jammu & Kashmir  AB Consultants","Belgian Shrimps - Company Brothers","Mar del Paraíso Corporation Logistics","Mar y Luna Sagl","Dutch  Ltd. Liability Co Consultants","Lake Nakuru  Kga Logistics","bǐ mù yú Sagl Distribution","Kong zhong diao yu  Express Charter Boat ","Danish Shrimp Kga Solutions","Dutch Oyster Company Shark","Rift Valley fishery Inc","Nazhivka & A/S Transport","Turkish Salmon A/S Marine","Fresh Limited Liability Company","Arunachal Pradesh s Kga","Ethiopian Highlands  Kga Services","Ancla del Este Merchants","Icelandic Cod Pier ОАО Transport","Arunachal Pradesh s A/S Transport","Stichting S.A. de C.V. and","Madhya Pradesh   Ltd. Corporation","Mar de la Vida GmbH","Ancla Marina AB Holdings","Caracola de Coral Oyj","River Gambia  Brine Pic Express","Olas del Sur Ltd. Corporation","Selous Game Reserve  A/S","Kilimajaro Slopes   Oceanfront AB Overseas","Lake Motoso  Sagl Brothers","Tamil Nadu  Market ОАО","Black Sea Tuna AB Freight ","Tide Turners Transport Sextant","Estrella de Coral AG Worldwide","Line S.A. de C.V.","Cameroon Estuary  Co Investment","West Bengal  Marine ecology","Bujagali Falls  Pic Family","Chuan gou  Ltd Marine ecology","Punjab s A/S Marine","Coastal Castaway Anchor Pic Export","Cape of Good Hope   Nori","Angrapa Ltd. Liability Co Export","Tamil Nadu s Plc","Playa de la Felicidad Sagl Line","Estrella del Mar Seafarer","Oceanic Oasis Co Transit","SeaScape Foods NV Marine biology","Whale Ltd. Liability Co","Mar del Paraíso NV Worldwide","Estrella de Mar SE","Playa del Mar Delivery","Niger River   NV Delivery","Caracola del Este Plc","Turkish Calamari Oceanography AG Import","CoralCove Brine LLC Marine conservation","Meghalaya  Marine GmbH & Co. KG Import","Caracola del Este Corporation Express","Playa del Tesoro BV","AtlanticAppetite Oyster  Ltd. Corporation Investment","bái suō wěn lú Ltd Cargo","Rybachit Sagl and Son's","Lake Turkana  Charter Boat  NV Marine","Wave Warriors Ltd. Corporation Express","Mar de la Vida SRL","Bihar   CJSC & Son's","Oceanic Outfitters S.A. de C.V. Express","Estrella del Sol Ges.m.b.H.","The Salted Pearl LLC","-7673","TideTracker Ltd. Liability Co Overseas","Wave Riders Plc Marine mist","Ocean Outfitters Ges.m.b.H. Dredge","Oceanic Oracle GmbH & Co. KG","Uttarakhand s Corp Transport","AquaFresh Foods CJSC -","Congo River  Marine conservation Seaside","Marmooska Hull Limited Liability Company Solutions","Ancla Marina Ges.m.b.H. & Son's","5 Seagull A/S Marine ecology","Bay of Bengal's A/S","Water Wonders Tidepool Ltd Holdings","Kilwa Coast  Incorporated & Son's","Coral Kingdom GmbH Delivery","Andhra Pradesh  Catfish Kga Worldwide","Diao yu bi sai  CJSC Forwading","Volga River S.A. de C.V. Family","Costa del Sol A/S","Gvardeysk Ltd. Liability Co","-37","Beach Bums SE Logistics","Brisa del Este LC","Caracola del Este Sp","Mar de Cielo Co","Gulf of Guinea   Enterprises","Changsha Ltd. Liability Co Transport","Sikkim  Market Limited Liability Company","zūn yú Co Marine ecology","BlueWaterBites S.A. de C.V.","Orange River Mouth   Seabed","1 Oyj Marine conservation","East Ltd. Liability Co","bái suō wěn lú AS","Playa de la Luna Kga","Isla del Tesoro Starfish","Selkie Beach Sp Transport","Madhya Pradesh  Market BV Export","Mar de la Aventura Shipyard","Zambezi Rapids  Brine Oyj Carriers","-4245","Balkan Cat BV Transportation","West Bengal  SE Family","Danish Plaice S.A. de C.V.","Holdings Ltd. Liability Co","Lake Malawi  LC Forwading","Barco de Plata ОАО","Wave Watchers Charter Boat  Ltd. Liability Co Transport","Mar de la Costa Corp Solutions","Italian Sword Ltd. Liability Co","Bahía de Plata United","SilverFin Ltd. Liability Co","Malabar Sea Catch Port","Greek ermen Tugboat Oyj Express","Blue Horizon Limited Liability Company","The Salted Pearl Plc","móguǐ yú ОАО Laksa","jīn qiāng yú SRL","Faroe Islands Halibut Dredge","SaltWaterSolutions Ltd. Liability Co Seafarer","Seafaring Souls GmbH & Co. KG Freight ","8 Ltd. Liability Co","Lake Rukwa  Limited Liability Company","Stichting S.A. de C.V.","Ocean Outlaws CJSC and Son's","Baltic Salmon Plc Freight ","Mar de la Luz SRL Tsunami","Arena del Mar Ltd. Liability Co Investment","-3455","Mar del Paraíso Plc","Seaside Summit S.A. de C.V.","French Sole Ltd. Corporation","Simien Mountains   Leska SRL Delivery","Beachcomber's Bounty GmbH Caviar","Christopher Ltd. Liability Co","Irish Scallop Corporation Transport","7 Ltd. Liability Co Enterprises","-3958","Playa de Arena Corp","East S.A. de C.V.","Baltic Catch OJSC Transport","Belgian Lobster Oyj Services","Saltwater Solitude Ltd. Corporation Solutions","Playa del Sol SRL Seal","Danish Plaice CJSC Export","Sailors and Surfers AB Export","-2922","Baltic Salmon Pier SE International","Himachal Pradesh   Limited Liability Company","-2967","Mar de la Luz A/S","Rift Valley fishery Whale S.A. de C.V. Forwading","Drakensberg  Caviar N.V. Services","Diao yu bi sai  Ltd","-2911","Fisherman's Bounty AG Solutions","Arena del Sol Marine life","SeaScape Foods S.A. de C.V. Solutions","Mar de Estrellas Marine conservation","Lake Mweru  Sp Consulting","Seashell s  Creek Oyj and Son's","Zambezi Valley  Seafood LLC Brothers","-2821","-703","Kagera River   S.p.A. Transport","Bu yu wang Plc Carriers","Lake Kivu   GmbH Enterprises","Poseidon Seabass LC Express","-7774","Baltic Sprat Pic Delivery","Pao gan A/S Marine ecology","-7766","-7804","-7818","-7854","-2883","-6427","-3821","-7886","-3659","-4219","-7958","-2917","-7944","-7935","-7930","-7954","-4216","-7955","-7942","-7957","-7953","-7959"],"trade_status":["Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Export","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import"],"shpcountry":["Vesperanda","Marebak","Alverossia","Osterivaria","Puerto Sol","Lumaland","Puerto Sol","Kondanovia","Puerto Sol","Puerto Sol","Rio Isla","Vesperanda","Helixia","Quornova","Nalakond","Oceanus","Rio Isla","Thessalandia","Oceanus","Marebak","Vesperanda","Lumaland","Yggdrasonia","Merigrad","Oceanus","Nalakond","Faraluna","Oceanus","Kondanovia","Jiraputra","Helixia","Rio Isla","Osterivaria","Sol y Oceana","Gavanovia","Puerto Sol","Puerto Sol","Oceanus","Utoporiana","Alverossia","Oceanus","Coralada","Rio Isla","Vesperand's Bay","Marebak","Marebak","Sol y Oceana","Marebak","Alverossia","Mawazam","Rio Isla","Alverossia","Puerto del Mar","Icarnia","Vesperanda","Marebak","Marebak","Gavanovia","Oceanus","Utoporiana","Oceanus","Arreciviento","Rio Isla","Riodelsol","Kondanovia","Isla Dorada","Marebak","Oceanus","Rio Isla","Sol y Oceana","Kondanovia","Rio Isla","Oceanus","Oceanus","Coral Solis","Lumindoria","Isliandor","Korvelonia","Coralmarica","Rio Isla","Nalaloria","Marebak","Kondanovia","Oceanus","Nalaloria","Alverossia","Oceanus","Marebak","Oceanus","Utoporiana","Polarisdom","Oceanus","Solovarossa","Riodelsol","Isla Solmar","Marebak","Gavanovia","Calabrand","Oceanus","Kondanovia","Sirenareef","Marebak","Sol y Oceana","Alverossia","Coralada","Alverossia","Osterivella",null,"Rio Isla","Marebak",null,"Lumindoria","Riodelsol","Quornova","Lumindoria","Coral Solis","Kondarama","Isliandor","Puerto Sol","Vesperanda","Oceanus","Oceanus","Oceanus","Coralmarica","Kilivaria","Alverossia","Alverossia","Utoporiana","Isliandor","Patacoral","Azurionix","Isliandor","Isliandor","Utoporiana","Isliandor","Galduzim","Oceanus","Marebak","Marebak","Marebak","Oceanus","Qalbushire","Oceanus","Marebak","Marebak","Nalakond","Utoporiana","Marebak","Rio Isla","Icarnia",null,"Sol y Oceana","Rio Isla","Playa Solis","Zawalinda","Marebak","Icarnia","Rio Isla","Kondanovia","Vesperanda","Sol y Oceana","Lumindoria","Lumaland","Oceanus","Osterivaria","Gavanovia","Marebak","Sol y Oceana","Oceanus","Patacoral","Isliandor","Oceanus","Kondarama","Marebak","Islavaria","Marebak","Oceanus","Coralmarica",null,"Marebak","Vesperanda","Utoporiana","Sol y Oceana","Oceanus","Puerto Sol","Mawandia","Coralmarica",null,"Lumindoria","Marebak","Sol y Oceana","Talandria","Rio Isla","Oceanus","Coralmarica","Coralmarica",null,"Isla Solmar","Kondanovia",null,"Coralada","Arreciviento","Oceanus","Marebak",null,"Marebak","Oceanus","Vesperanda","Kethilim","Solovarossa","Marebak","Coralmarica",null,null,"Arreciviento","Kondarama","Coralmarica","Sol y Oceana",null,"Estophoria","Marebak",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"rcvcountry":["Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Coralmarica","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Sol y Oceana","Oceanus","Jiraputra","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Coralmarica","Icarnia","Marebak","Oceanus","Oceanus","Oceanus","Talandria","Oceanus","Oceanus","Oceanus","Marebak","Marebak","Orvietonix","Oceanus","Coralmarica","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,"Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Coralada","Oceanus","Coralmarica","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,"Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,"Oceanus","Oceanus","Oceanus","Icarnia","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Riodelsol","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,null,"Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,"Oceanus","Utoparadia","Oceanus","Utoporiana","Oceanus","Oceanus","Oceanus","Oceanus","Sol y Oceana","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Sol y Oceana","Oceanus","Oceanus","Nyxonix","Oceanus","Kondarama","Oceanus","Islavaria","Oceanus","Oceanus","Islavaria","Oceanus","Oceanus","Oceanus","Oceanus","Mawandia","Oceanus","Sol y Oceana","Oceanus","Coralmarica","Oceanus","Oceanus","Oceanus","Oceanus","Talandria","Oceanus","Coralmarica","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Luminkind","Oceanus","Oceanus","Isla Solmar","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Sol y Oceana","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,"Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus"],"degree_centrality":[2,21,4,1,4,2,8,1,10,1,3,4,2,3,1,1,1,2,1,6,2,1,1,1,1,2,1,1,1,2,1,13,1,1,1,2,1,1,1,1,8,1,4,3,1,2,3,1,1,1,15,1,3,2,1,2,1,1,1,18,2,1,1,1,2,1,1,1,9,1,1,1,1,2,1,1,1,1,1,3,1,1,1,2,2,1,9,1,3,10,1,7,1,1,3,7,1,1,6,20,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,2,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,2,1,1,1,1,1,1,1,1,3,2,1,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,3,1,1,1,2,1,1,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"shape":["dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot"],"shadow":[true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],"title":["Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Export","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import"],"size":[20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20],"borderWidth":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"color.background":["#FFFFBF",null,null,"#FC8D59",null,"#FFFFBF",null,"#FC8D59",null,"#FC8D59","#91BFDB",null,"#FFFFBF","#91BFDB","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59",null,"#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59",null,"#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59",null,"#FC8D59",null,"#91BFDB","#FC8D59","#FFFFBF","#91BFDB","#FC8D59","#FC8D59","#FC8D59",null,"#FC8D59","#91BFDB","#FFFFBF","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59",null,"#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59",null,"#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#91BFDB","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FFFFBF","#FC8D59",null,"#FC8D59","#91BFDB",null,"#FC8D59",null,"#FC8D59","#FC8D59","#91BFDB",null,"#FC8D59","#FC8D59",null,null,"#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FFFFBF","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#91BFDB","#FFFFBF","#FC8D59","#91BFDB","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59",null,"#91BFDB","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#91BFDB","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59"],"color.border":["grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey"],"x":[-0.182998623864798,0.33955291311588,0.090125414782015,0.578037335428274,0.289153419452713,0.845126918285507,0.398121293939336,-0.969048737503082,0.369633045398517,0.788905189136041,-0.347332224291547,0.261688469834901,-0.287838884037704,0.021075480760947,0.262089468443382,0.174127995049889,-0.260424395516771,0.0954103323743327,0.26634659916586,0.029381078042076,0.868671848447259,0.104955070381296,0.770349811800607,-0.553877658263698,-0.603350744156198,0.0120650210465554,0.111903240148791,-0.354336700889443,0.243675728351048,-0.902821587811385,0.889090741472316,0.064722720545535,0.0251376607950087,0.441377836002402,0.145191966329802,0.672334338875853,0.976334610179907,0.901693714545617,-0.579619949826295,-0.340924001956729,-0.37402321246474,0.00922236830419298,0.612068656553508,0.749179566804249,0.0664424557981478,0.239644514825867,0.65684429662203,-0.0118442951253597,-0.442061339618979,-0.0533826889102179,0.626227383161171,0.163952953484458,0.205413647166114,-0.258022448861534,-0.614787398432814,-0.557843797238485,-0.994222094640716,-0.801224125325312,-0.0732403563964663,0.195563738418309,0.444601547214523,0.778068207200355,0.668195136967674,-0.326437371980642,0.505834237028756,0.675594644126999,0.335373650509091,-0.672174856286533,0.4853821467027,-0.124260000631138,1,0.727372487489363,-0.25006569660424,0.785424090149371,-0.209284691302465,0.364939812559376,0.473025126157103,0.742896476929766,0.0632724593542642,0.432444039362136,0.669711529112167,0.142518402727174,0.660218693737064,0.0139431213330401,0.0669464598164511,-0.222664338034912,-0.625493172116173,0.1096170801586,0.116034843623731,0.615318178200329,0.831772914619295,0.0754143322406167,-0.407002075120494,-0.696844165027166,0.602128884052118,-0.145421064919819,-0.177774335261408,0.761790073656507,0.673708845237464,0.21994531867557,0.440009676675459,0.425936977059746,-0.106323430572876,0.465952159634272,-0.818252878510287,-0.881753171800619,-0.273223487640758,-0.539339391168167,0.302907290635834,0.371239892299343,0.53886914245622,-0.601823141164824,0.447749145990977,0.228350265111722,0.0337823875376779,0.762242444504964,0.486513523670992,-0.68581322354585,0.640776588280862,-0.937927420235543,-0.458747596431377,0.205678715449271,-0.134351251790814,-0.293693699305545,-0.726753448382441,-0.923013775872612,0.12208644954272,-0.788009903442462,0.0183222740653324,0.437781529768726,0.558498886578255,-0.114134074489322,-0.751475373447905,-0.522153692719886,-0.876167305402543,0.384673972544383,-0.835224669381363,0.530531969718853,0.442408664806642,-0.464525184644763,-0.00156170416722046,0.61896301731864,0.482296833251199,-0.935971154228598,-0.871722191885263,-0.427286054849761,-0.551206998914103,-0.327096569896459,0.564793628432535,0.364854631435855,0.788101862927267,-0.7194468447577,-0.0952649876499273,0.799164645432654,-0.620070660127903,-0.700136143375388,-0.980227525255132,-0.745593434648455,-0.590037581319518,0.0416821547355506,0.517693290220358,0.50014078401416,0.1302076980935,-0.618054643779935,-0.0860959481855369,-0.317183452873812,-0.138359965649216,0.619243616315148,-0.06963710496272,0.506950792631628,0.717044871041142,-0.647737962320517,-0.146004723949396,-0.680958047943848,0.277691566715623,-0.548112136581035,-0.012438629318329,0.473034266665392,0.8352981769526,-0.341078385085729,-0.662010453495532,-0.622747430706877,0.225913150114044,0.27384361978405,-0.515358653457177,0.680175736651491,-0.468451721029953,0.808979405981635,-0.561016212922973,0.182804561386102,-0.265645468060754,0.808587081460228,0.75998351214253,-0.72319565824096,-0.131713872630966,0.321915857336339,-0.129712912573722,-0.898579593110352,0.463638034143042,0.697414479270755,-0.399738454734918,-0.259147406766034,-0.772063779290774,0.019300358153814,0.50351584430153,0.283432387507956,-0.821853713009799,-0.856634439373972,0.188052268816433,-0.720033712659405,-0.951680251520221,-0.753097130493901,0.307098321771575,0.313628927573772,-0.88247286494624,-0.420394204168688,-0.056067440885073,0.248068650412823,0.736792398370438,-0.0397695984055437,0.421332167446671,0.127928913989677,0.802790850429036,-0.0530151450404243,0.673381973326189,0.129880519211616,-0.0886709126600029,-1,-0.0717298816343206,-0.203937973250754,-0.701283378736628,-0.0322024205353071,0.13766338129111,0.201296436387455,-0.00349971013023131,0.176121274592657,0.284181110055578,-0.671072344763615,0.0523884621792159,-0.22523716886832,0.0829317852007305,0.317523944914375,-0.113074575007578],"y":[-0.0733427875383016,0.24537402425358,0.437081563840566,0.653711279719529,0.548982025713167,0.139551110421982,-0.112272418992899,0.130376627304783,-0.0571490298283835,-0.108922657426765,0.626173551660365,0.0391877708269726,0.302129175557944,-0.193689028453788,-0.322039076386897,-0.656233339790003,0.216253881175216,-0.466739567725097,-0.966605449117697,0.529545870395461,-0.114001425143778,0.342024495721146,0.182481706175533,-0.83406722054197,-0.168434913434377,0.395844322353717,-0.385333957447307,-0.568024925798545,0.180035938051819,-0.378069672052039,-0.368529509245005,-0.017296616296069,-0.110604472077253,0.394049273054688,0.388994842874494,0.11898655712347,0.165207735373055,-0.28368941114151,0.0529660576909088,0.825072338263341,-0.668929338551455,0.856620523223955,-0.261389980805077,-0.227814150244086,-0.270095309113307,0.381876857270739,-0.316388465566079,1,0.671852398357136,0.0470250778617514,-0.0882443037041389,-0.416053525370265,-0.514044973030685,0.766967535404232,0.740803311822553,0.77670235591716,-0.172021954136734,-0.604163017161131,0.85342661697415,-0.232134810531437,-0.876696261588763,0.405241263964973,-0.469889868701389,-0.748973589191601,-0.551270263882642,0.446514908125961,0.709399907563303,-0.182028115635422,-0.339372108712383,-0.0222925436653604,-0.127057695993642,-0.146829709013055,0.961000295574997,-0.259773317206889,-0.98787045662313,-0.235477253455878,0.206325040905318,-0.364952195249782,-0.354739268741169,0.533579864477478,-0.181633152604877,0.978548746061577,0.546949225246313,-0.409744868483034,0.990735489085557,0.17588608346935,-0.273375157659193,-1,0.520760470290841,0.0871399829620745,0.332388197583061,0.303808453426923,-0.911380515802499,-0.0056524751359448,-0.310604037012786,0.637100466826505,0.759894241014255,0.053011116477957,0.318061793048881,0.264968005568156,-0.506733212788778,0.156099170503455,0.0241441962247262,-0.462574262022974,0.0264087791008292,-0.206296346550461,-0.697510715318005,0.545093313578318,0.948558251848603,0.933756873675139,-0.455487855894561,-0.7908791739341,0.690213102000195,0.448535241767385,-0.605082596745528,0.125119746788911,-0.102668473711579,-0.356118220962207,0.23005842329832,-0.319122151873263,-0.718320297943219,0.348550467398922,-0.87628528066971,-0.621634922699772,-0.23089329127097,-0.0188918595707714,-0.880264473685787,0.588975913031655,-0.317057077385854,-0.245166621021451,-0.50028568908702,0.356046534239835,-0.565695313312143,-0.288330811939988,-0.442374523730765,-0.895433979881184,0.477580338630341,0.42301321465787,-0.164837517047513,0.58079837660911,-0.816578280679589,0.616577023802266,0.325684231634137,0.373243892927772,0.364037013312941,-0.58172324222009,-0.350944368567716,-0.109152751858781,0.326798216101803,0.453182770195033,0.456318972666067,0.606022306867213,-0.51128175796765,-0.166299162191996,0.384358448581448,-0.700425072091887,0.0143606900039739,0.317036837394233,0.119095598126309,-0.99860710230655,-0.674411157692135,-0.844309802028578,0.683675124026886,-0.375682527590352,-0.0738703196680455,0.943638422455374,-0.995744295132879,-0.806548246870838,0.238339155522898,0.499407286599942,0.191342341567948,-0.664531379272726,0.478893808637243,0.351601737840524,-0.383512849757231,-0.218065703832207,0.743230634068835,0.264543178310367,0.38891675014267,-0.920499621407581,0.216740591221847,-0.539224766907105,-0.412741220544783,0.714233382382892,0.827700079744988,-0.396559714499651,-0.647169205015778,-0.052767609621155,-0.519200405965345,-0.861286204986593,0.637645489602892,0.0804241439049438,-0.482563533426935,0.186632476532632,-0.280116003233742,-0.135498107264228,-0.806946610734117,0.128625431527942,-0.0288878467412395,0.0331425583349836,-0.76472483086313,0.703248587710422,0.455709710024438,0.674483164648541,0.69192759659337,-0.906060977878393,-0.477217378417569,-0.143048339208426,-0.350726554588833,-0.298385056165301,0.245939988731785,0.0296939900355793,0.164445246159725,0.310041152560611,0.238911377696717,0.324592838436992,0.645709767966738,-0.654775379992642,-0.0667885219112936,0.539658174752125,0.336078935958567,-0.30255975870353,-0.587224978554185,-0.140955340859017,-0.771565507686501,0.240062666633475,0.305354366444166,-0.107380062375986,0.39774186557723,-0.87505243592474,0.671425094014806,-0.0435090126656482,0.148875516912833,0.130709425017221,-0.882455570287221,0.452071553843655,0.444990176005835,0.553336868218317,0.240583601381942,0.273534640487784,0.182410974522742,0.380368132945069,-0.12117737024652]},"edges":{"from":["1024","1024","1024","1024","1024","1024","1024","1024","1024","1024","106","10703","1094","1094","1094","1094","1094","1094","1094","11571","11571","1241","1241","1241","1241","1241","1241","1241","1283","1283","1283","1283","1283","1283","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1310","13118","14263","1427","14950","1520","1561","1622","1665","17170","17728","1880","190","190","1928","1928","1930","1930","206","206","206","206","206","206","206","206","206","206","206","206","206","210","2128","219","2268","230","250","255","255","255","255","255","255","255","2762","2762","2765","2769","2769","277","277","277","277","2866","291","291","2956","302","307","3078","326","326","326","326","326","326","326","326","326","326","326","326","326","326","326","3278","3281","3281","3281","3404","3404","3493","3493","3493","3574","376","376","3989","40","407","4135","431","4437","4442","449","449","449","449","449","449","449","449","449","449","449","449","449","449","449","449","449","449","4531","4664","4664","4664","4664","4664","4757","4757","4757","482","482","4840","4849","4852","4852","4921","4921","4921","4937","510","5121","5266","562","564","571","571","571","571","571","571","571","571","571","5824","590","6475","6735","6735","6738","677","693","6995","7021","7021","721","782","782","782","8061","835","8680","9004","9404","964","964","964","964","964","964","964","964","9648","971","984","984"],"to":["1259","147","1653","1857","25","44","4803","52","6634","8136","339","12281","138","18","2297","23782","24273","52","9","1189","1366","1244","138","341","51","6574","8290","984","1033","215","3440","484","5028","9","12038","12095","138","141","1587","169","184","211","22","23016","26","26664","26706","26785","26837","27265","27458","27460","44","9","9","84","138","9802","339","1518","151","108","44","18","9","255","1859","2588","18","9","25470","7186","1337","19346","207","26563","27715","321","4372","44","52","587","8","9","95","9","3831","25","26","278","341","1445","177","2044","3098","517","6148","8287","848","9","44","1510","51","26","278","6013","725","26768","18","9","9","899","51","3023","1195","139","16934","215","26","278","298","3602","44","49","602","6314","677","783","9","8","1857","558","9","22","9","2174","26382","27011","874","363","5860","234","7470","23951","524","2374","669","688","103","10410","108","172","18199","2186","26","286","332","339","44","4915","52","5714","745","874","9","95","22032","107","27455","84","9","912","21","2914","9","2672","4214","3759","169","3745","3918","138","269","435","9","1195","1099","6462","22","964","1195","1303","1342","1527","2292","26","298","44","524","22","139","2141","18898","298","5137","193","26","95","26","44","9","1568","9","9401","44","899","2738","138","133","10423","162","1700","2111","2427","3201","4360","4919","2588","4053","4227","9"],"weight":[2,8,5,26,2,15,10,3,48,18,6,3,26,2,6,4,3,12,4,3,5,4,13,5,16,3,3,19,5,3,2,2,3,3,1169,164,2,39,7,201,32,14,2,4,15,186,5,16,2,2,5,4,30,76,4,2,3,2,4,8,5,3,16,6,5,4,2,4,2,2,3,2,4,31,1361,2,2,2089,13,39,14,56,14,104,11,5,4,2,8,2,2,83,3,3,2,3,2,3,2,2,3,4,2,50,5,19,24,2,2,2,4,2,2,2,6,3,12,8,599,43,12,3,4,16,7,25,8,29,14,2,60,33,8,7,3,34,2,2,6,2,11,2,2,2,4,4,2,2,9,10,2,2,26,2,35,7,82,28,77,63,41,10,44,17,33,389,4,2,2,2,14,5,2,5,10,28,2,2,11,2,2,3,2,4,2,2,4,2,2,2,5,4,2,72,449,7,2,4,6,3,2,2,3,6,2,2,2,3,70,7,19,3,5,4,10,2,2,2,2,3,2,4,4,3,2,2,7,4,3,4,2],"hscode":["870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"smooth":false,"arrows":"to"},"physics":{"stabilization":false},"layout":{"randomSeed":123},"interaction":{"dragNodes":false,"dragView":true,"navigationButtons":true,"zoomView":true,"zoomSpeed":1}},"groups":null,"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":true,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false,"variable":"degree_centrality","main":"Select by degree_centrality","values":[1,2,3,4,5,6,7,8,9,10,13,15,18,20,21]},"main":{"text":"Trade flow in 2032\n           <br>for hscode 870323<br>","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;"},"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"legend":{"width":0.2,"useGroups":true,"position":"left","ncol":1,"stepX":100,"stepY":100,"zoom":true},"iconsRedraw":true,"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="statistical-plot-of-hscode-against-years" class="level2">
<h2 class="anchored" data-anchor-id="statistical-plot-of-hscode-against-years">Statistical Plot of HScode against Years</h2>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>MC2_challenge_edges_hscode <span class="ot">&lt;-</span> MC2_challenge_edges <span class="sc">%&gt;%</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hscode <span class="sc">==</span> <span class="st">"306170"</span> <span class="sc">|</span> hscode <span class="sc">==</span> <span class="st">"950300"</span> <span class="sc">|</span> hscode <span class="sc">==</span><span class="st">"870899"</span> <span class="sc">|</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>         hscode <span class="sc">==</span> <span class="st">"940360"</span> <span class="sc">|</span>hscode <span class="sc">==</span> <span class="st">"611020"</span>)</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggbarstats</span>(<span class="at">data =</span> MC2_challenge_edges_hscode, </span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">x =</span> hscode, <span class="at">y =</span> year,</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">xlab=</span> <span class="st">"Year"</span>, <span class="at">ylab =</span> <span class="st">"hscode"</span>,</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">title =</span> <span class="st">"Comparison of HScode across the Years"</span>,</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>           <span class="at">type =</span> <span class="st">"nonparametric"</span>, <span class="at">conf.level =</span> <span class="fl">0.95</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>           )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-Home_Ex02_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="data-preparation-for-visnetwork" class="level2">
<h2 class="anchored" data-anchor-id="data-preparation-for-visnetwork">Data Preparation for visNetwork</h2>
<section id="top-30-source-and-top-30-target" class="level3">
<h3 class="anchored" data-anchor-id="top-30-source-and-top-30-target">TOP 30 SOURCE AND TOP 30 TARGET</h3>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co">#filter for top 30 source </span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>MC2_challenge_source <span class="ot">&lt;-</span> MC2_challenge_edges <span class="sc">%&gt;%</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sourcelabel) <span class="sc">%&gt;%</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">weight =</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(weight)) <span class="sc">%&gt;%</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">30</span>,weight)</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="co">#filter for top 30 target</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>MC2_challenge_target <span class="ot">&lt;-</span> MC2_challenge_edges <span class="sc">%&gt;%</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(targetlabel) <span class="sc">%&gt;%</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">weight =</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(weight)) <span class="sc">%&gt;%</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">30</span>,weight)</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a><span class="co">#filter edges for transactions in top 30 source and top 30 target </span></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>revisedlist <span class="ot">&lt;-</span> MC2_challenge_edges<span class="sc">%&gt;%</span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sourcelabel <span class="sc">%in%</span> MC2_challenge_source<span class="sc">$</span>sourcelabel) <span class="sc">%&gt;%</span></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(targetlabel <span class="sc">%in%</span> MC2_challenge_target<span class="sc">$</span>targetlabel) </span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a><span class="co">#filter out nodes that are in top 30 source and top 30 target </span></span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a>check_id_vis <span class="ot">&lt;-</span> MC2_id_list_vis <span class="sc">%&gt;%</span></span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(label <span class="sc">%in%</span> revisedlist<span class="sc">$</span>sourcelabel <span class="sc">|</span> </span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a>           label <span class="sc">%in%</span> revisedlist<span class="sc">$</span>targetlabel) <span class="sc">%&gt;%</span></span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="at">group =</span> rcvcountry)</span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a><span class="co">#aggregate by weight and rename to ensure that it                                         has id in nodes and from and to column in edges </span></span>
<span id="cb35-27"><a href="#cb35-27" aria-hidden="true" tabindex="-1"></a>MC2_agg_rev <span class="ot">&lt;-</span> revisedlist <span class="sc">%&gt;%</span></span>
<span id="cb35-28"><a href="#cb35-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(check_id_vis, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"sourcelabel"</span> <span class="ot">=</span> <span class="st">"label"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb35-29"><a href="#cb35-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">from =</span> id) <span class="sc">%&gt;%</span></span>
<span id="cb35-30"><a href="#cb35-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(check_id_vis, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"targetlabel"</span> <span class="ot">=</span> <span class="st">"label"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb35-31"><a href="#cb35-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">to =</span> id) <span class="sc">%&gt;%</span></span>
<span id="cb35-32"><a href="#cb35-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(from, to) <span class="sc">%&gt;%</span></span>
<span id="cb35-33"><a href="#cb35-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">weight =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb35-34"><a href="#cb35-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(from<span class="sc">!=</span>to) <span class="sc">%&gt;%</span></span>
<span id="cb35-35"><a href="#cb35-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(weight <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb35-36"><a href="#cb35-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(check_id_vis, MC2_agg_rev, <span class="at">main =</span><span class="st">"Top 30 source/targets </span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="st">           &lt;br&gt;by receiving country&lt;br&gt;"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout_with_fr"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">visOptions</span>(<span class="at">highlightNearest =</span> <span class="cn">TRUE</span>,</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>,</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">selectedBy=</span><span class="st">"group"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLegend</span>() <span class="sc">%&gt;%</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>) <span class="sc">%&gt;%</span> <span class="co">#indicate direction </span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span>(<span class="at">randomSeed =</span> <span class="dv">123</span>) <span class="sc">%&gt;%</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addFontAwesome</span>(<span class="at">name =</span> <span class="st">"font-awesome"</span>) <span class="sc">%&gt;%</span> <span class="co">#add icon to network </span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visNodes</span>(<span class="at">shape =</span> <span class="st">"icon"</span>, <span class="at">icon=</span> <span class="fu">list</span>(<span class="at">code =</span><span class="st">"f21a"</span>, <span class="at">color =</span> <span class="st">"#3B9AB2"</span> )) <span class="sc">%&gt;%</span> </span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLegend</span>() <span class="sc">%&gt;%</span></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visInteraction</span>(<span class="at">dragNodes =</span> <span class="cn">FALSE</span>, <span class="at">dragView =</span> <span class="cn">TRUE</span>, </span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>                 <span class="at">zoomView =</span> <span class="cn">TRUE</span>, <span class="at">navigationButtons =</span> <span class="cn">TRUE</span>) <span class="co">#freeze network</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-35ff8b7d3809130595c4" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-35ff8b7d3809130595c4">{"x":{"nodes":{"id":["5","6","8","9","11","18","19","22","26","37","44","49","52","53","59","82","84","88","94","95","97","133","162","199","206","211","215","218","226","255","268","272","291","307","326","339","364","367","376","379","394","419","449","482","488","538","539","571","581","584","629","858","964","1283","1292","1305","1721","9404"],"label":["Olas del Mar Worldwide","French Crab S.p.A. Worldwide","Panope Limited Liability Company","hǎi dǎn Corporation Wharf","Sea Breezes GmbH & Co. KG Shark","Costa de la Felicidad Shipping","Mar del Este CJSC","Black Sea Tuna Snapper","Sailors and Surfers Incorporated Enterprises","Selous Game Reserve  S.A. de C.V.","Caracola del Sol Services","Saltwater Supreme ОАО Forwading","Océano de Coral Corporation Express","Pao gan SE Seal","Oceanic Explorers Sashimi Inc Solutions","Playa de la Luna Incorporated","Uttarakhand  Market Limited Liability Company Nautical","Portuguese Tuna Incorporated Marine","Caracola Azul Oyj &","Coral Cove BV Delivery","Arunachal Pradesh s Brine","ReefRider Foods Ltd. Corporation Family","Kong zhong diao yu  Ges.m.b.H.","Náutica del Norte Kga Holdings","Ianira Starfish Sagl Import","SeaTree Ltd. Liability Co Holdings","Saltwater Supreme Pelican Ltd Enterprises","Orange River   GmbH & Co. KG Shipping","Zambezi Gorge  N.V. Transport","Chhattisgarh   Marine ecology A/S Delivery","Saltwater Symphony S.A. de C.V.","Pao gan LC Freight ","Mar y Luna Sagl","bǐ mù yú Sagl Distribution","Danish Shrimp Kga Solutions","Rift Valley fishery Inc","suō yú Incorporated Brothers","nián yú Ltd. Corporation","Fresh Limited Liability Company","Marine Masterminds Dry dock","Coastal Cruisers Pic Shipping","Marine Mates Cruise ship","Icelandic Cod Pier ОАО Transport","Arunachal Pradesh s A/S Transport","Uttar Pradesh s CJSC","Olas del Sur Sea","Greek Sea Bass LLC","Selous Game Reserve  A/S","Coastal Castaway Coast Corporation Worldwide","Dry Creek Pic Marine biology","Barents Sea Cod CJSC Export","Saltwater Sisters Inc Seafaring","Estrella del Mar Seafarer","Caracola del Este Corporation Express","Playa del Tesoro BV","Sea Breezes S.A. de C.V. Freight ","Tamil Nadu  Market Co","Fisherman's Bounty AG Solutions"],"trade_status":["Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export"],"shpcountry":["Oceanus","Kondanovia","Vesperanda","Marebak","Oceanus","Alverossia","Merigrad","Puerto Sol","Puerto Sol","Isliandor","Puerto Sol","Puerto Sol","Vesperanda","Alverossia","Oceanus","Kondanovia","Helixia","Oceanus","Playa Solis","Quornova","Nalakond","Oceanus","Oceanus","Merigrad","Rio Isla","Gavanovia","Puerto Sol","Marebak","Marebak","Oceanus","Marebak","-22004","Marebak","Alverossia","Rio Isla","Puerto del Mar","Marebak","Merigrad","Marebak","Marebak","Marebak","Alverossia","Utoporiana","Oceanus","Marebak","Rio Isla","Khamseena","Rio Isla","Alverossia","Vesperanda","Marebak","Alverossia","Oceanus","Oceanus","Kondanovia","Isliandor","Talandria","Marebak"],"group":["Oceanus","Utoporiana","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Anderia del Mar","Sol y Oceana","Oceanus","Oceanus","Oceanus","Marebak","Oceanus","Oceanus","Oceanus","Coralmarica","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Marebak","Coralmarica","Oceanus","Oceanus","Coralmarica","Oceanus","Oceanus","Coralmarica","Oceanus","Oceanus","Oceanus","Oceanus","Marebak","Oceanus","Oceanus","Oceanus","Oceanus","Coralmarica","Oceanus","Luminkind"],"x":[0.342040785143281,-0.242423225710149,0.182114359638668,0.369277056141632,-0.272258838019689,0.438036668055026,0.65000351436743,0.447140123146606,0.364238869909909,0.197489346262839,0.341545873790217,0.356647594173968,-0.149951817528422,0.544126835295876,0.277196558708007,0.457246664993296,0.0267462642637959,-0.701400502527383,0.2783485891842,0.0662572438661502,0.0157074873767022,0.163992517177969,0.623849326627369,0.091911698125108,0.416669098006179,-0.431466394671542,-0.111693389592478,-0.253447022188653,-0.149279921399459,0.518067684153556,-0.134337542376615,-0.389316930743744,-0.094587575890955,-0.0405851561878723,0.823851696174232,0.268507421684488,0.123468875503406,0.604245097850896,-0.257372876543175,1,-0.0712243422119785,-0.728194965102217,0.680165968748181,0.250393646284886,0.230976416456854,-0.464280397653765,-1,0.423949109925362,-0.0249590731332373,0.067816602963739,0.0598449161640526,-0.385496681589018,0.0497004617376986,-0.154785818981452,0.473927172880238,0.828837917675702,0.833873441743471,-0.117957026779451],"y":[0.265108027306057,0.615563736261614,0.791558818454918,0.466581222606524,0.755100164516246,0.424180490691766,0.506723397744774,0.564771625853963,0.680492987881886,0.376790317694857,0.528455940126875,0.625077389648464,0.800109455568934,0.631581395642964,-1,0.3164444937556,0.879080633324634,0.449474593119808,0.330424151486624,0.738199762595519,0.78685845326203,0.225087243862409,0.686166212525924,0.559155701393056,1,0.749864485469635,0.351558720761897,0.493390519344659,0.567480766134744,0.0176808087265912,0.708717200996906,0.335252701589762,0.635078266139098,0.55818163816679,0.580681301604312,0.729637951131236,0.476975169964099,0.812832225808385,0.54335022588097,0.691583137922093,0.498744664347915,0.636940754000498,0.778192575438178,-0.33057088622862,0.589514362221312,0.643020416955103,0.462712100032006,0.502737692649708,0.291426172729196,0.290932109563592,0.618880000967359,0.434005415619279,0.420224834635673,0.473412656598346,0.75287868120098,0.409000996677488,0.315529524813601,0.410995283527535]},"edges":{"from":["1283","1283","1283","1283","1283","1283","1283","1283","1283","1283","1283","1283","1283","1283","1283","1283","1283","1283","1283","1283","1283","1283","1283","1283","1283","1283","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1305","1305","1305","1305","1305","1305","1305","1305","1305","1305","1305","1305","1305","1305","1305","1305","1721","1721","1721","1721","1721","1721","1721","1721","1721","1721","1721","1721","1721","1721","1721","199","199","199","199","199","199","199","199","199","199","199","199","199","199","199","199","199","199","199","199","199","199","199","199","199","199","206","206","206","206","206","206","206","206","206","206","206","218","218","218","218","218","218","218","218","218","218","218","218","218","218","218","218","218","218","218","218","218","218","218","218","218","218","226","226","226","226","226","226","226","226","226","226","226","226","226","226","226","226","226","226","226","226","226","226","226","226","226","226","226","226","255","255","255","255","255","255","255","268","268","268","268","268","268","268","268","268","268","268","268","268","268","268","268","268","268","268","268","268","268","291","291","291","291","291","291","291","291","291","291","291","291","291","291","291","291","291","291","291","291","291","291","291","291","291","307","307","307","307","307","307","307","307","307","307","307","307","307","307","307","307","307","307","307","307","307","307","307","307","307","307","307","307","326","326","326","326","326","326","326","326","326","326","326","326","326","326","364","364","364","364","364","364","364","364","364","364","364","364","364","364","364","364","364","364","364","364","364","364","364","364","364","367","367","367","367","367","367","367","367","367","367","367","367","367","367","376","376","376","376","376","376","376","376","376","376","376","376","376","376","376","376","376","376","376","376","376","376","376","376","376","376","376","376","379","379","379","379","379","379","379","379","379","379","379","394","394","394","394","394","394","394","394","394","394","394","394","394","394","394","394","394","394","394","394","394","394","394","394","394","449","449","449","449","449","449","449","449","449","449","449","449","449","449","449","449","482","482","482","482","482","488","488","488","488","488","488","488","488","488","488","488","488","488","488","488","488","488","488","488","488","488","488","488","488","488","538","538","538","538","538","538","538","538","538","538","538","538","538","538","538","538","571","571","571","571","571","571","571","571","571","571","571","571","571","571","571","571","571","571","571","571","571","571","571","571","571","584","584","584","584","584","584","584","584","584","584","584","584","584","584","584","584","584","584","6","6","6","6","6","6","6","6","6","6","6","6","6","6","6","6","6","6","6","6","6","6","6","6","6","6","6","629","629","629","629","629","629","629","629","629","629","629","629","629","629","629","629","629","629","629","629","629","629","629","629","629","629","629","858","858","858","858","858","858","858","858","858","858","858","858","858","858","858","858","858","858","9404","9404","9404","9404","9404","9404","9404","9404","9404","9404","9404","9404","9404","9404","9404","9404","9404","9404","9404","964","964","964","964","964","964","964","964","964","964","964","964","964","964","964","964","964","964","964","964","964","964","964","964","964","964"],"to":["133","162","18","19","211","215","22","26","272","339","37","419","44","49","5","52","53","539","581","82","84","88","9","94","95","97","162","18","19","211","215","22","26","37","44","49","5","52","53","581","8","84","9","95","97","162","18","19","26","272","339","37","44","49","5","53","581","82","9","94","97","133","162","18","19","215","22","26","339","37","44","53","581","82","9","94","11","133","162","18","19","211","215","22","26","272","339","37","419","44","49","5","52","53","581","8","82","84","88","9","95","97","11","162","26","339","44","52","53","8","9","95","97","11","133","18","19","211","215","22","26","272","339","37","419","44","49","5","52","53","581","8","82","84","88","9","94","95","97","11","133","162","18","19","211","215","22","26","272","339","37","419","44","49","5","52","53","539","581","8","82","84","88","9","94","95","97","133","18","37","44","5","82","9","11","162","18","211","22","26","272","339","37","419","44","49","52","53","581","8","84","88","9","94","95","97","11","133","162","18","211","215","22","26","272","339","37","419","44","49","52","53","581","8","82","84","88","9","94","95","97","11","133","162","18","19","211","215","22","26","272","339","37","419","44","49","5","52","53","539","581","8","82","84","88","9","94","95","97","11","133","18","215","22","26","339","44","49","5","52","8","9","95","11","133","162","18","19","211","215","22","26","272","339","37","419","44","49","5","53","581","8","82","88","9","94","95","97","162","18","19","215","26","339","44","5","53","581","84","9","95","97","11","133","162","18","19","211","215","22","26","272","339","37","419","44","49","5","52","53","539","581","8","82","84","88","9","94","95","97","18","26","44","49","53","8","82","84","9","94","97","11","133","162","18","19","211","215","22","26","272","339","37","419","44","5","52","53","539","581","8","88","9","94","95","97","11","133","162","18","19","211","26","339","37","44","49","52","8","84","9","95","133","255","5","581","59","11","133","162","18","19","211","215","22","26","272","339","37","44","49","5","52","53","581","8","82","84","9","94","95","97","11","18","215","22","26","272","339","37","44","49","52","539","8","9","95","97","11","133","162","18","19","211","215","22","26","272","339","37","419","44","49","5","52","53","581","8","82","9","94","95","97","11","133","18","19","215","26","272","37","44","49","52","581","8","82","88","9","94","95","11","162","18","19","211","215","22","26","272","339","37","419","44","49","5","52","53","539","581","8","82","84","88","9","94","95","97","11","133","162","18","19","211","215","22","26","272","339","37","419","44","49","5","52","53","581","8","82","84","88","9","94","95","97","11","133","18","211","215","22","272","37","44","49","52","581","8","82","9","94","95","97","11","133","18","215","22","26","272","339","37","44","5","53","581","8","84","9","94","95","97","133","162","18","19","211","215","22","255","26","272","339","37","44","49","5","52","53","539","581","82","84","88","9","94","95","97"],"weight":[28,125,406,554,108,1364,689,274,282,282,508,15,3499,154,103,4,190,10,126,908,344,265,15966,43,1336,24,600,7827,18,42,11,11,122,4,558,1135,3,4,4,3,3,50,1759,445,267,940,632,1107,40,2,119,333,9442,179,2,4690,16,20,631,4,158,13984,340,240,1049,2,1751,143,5,86,1458,421,59,2,357,8,1330,2388,51,2675,17,77,3,4,1675,2,612,406,2758,942,5624,4,95,76,3060,5592,2,30,394,4970,6814,3,709,3,4,244,470,564,5,8941,5077,7113,2,8532,1234,1384,3,30,462,24,368,157,21,540,5266,1580,136,5,282,42,32,7187,12,11,195,8648,3952,2605,32,123,84,875,1663,328,688,304,491,792,486,848,1200,58,1567,871,996,435,1178,19,211,696,208,114,244,6154,244,957,153,16,8,3,3,78,2,4,1808,20,4165,9,9,296,32,40,141,2,514,9872,13,286,236,8675,10,92,2273,163,174,40,1734,24,159,5634,54,5,330,1132,198,89,618,2,1441,16547,13,1490,1172,18066,30,50,142,6386,453,566,60,2664,833,213,5619,44,43,91,1197,1765,785,2018,3052,187,371,13025,32,16,795,24,1068,4316,68,101,8,8707,2641,1367,75,95,159,78,92,30,4794,106,83,196,6678,1354,350,89,5,13,217,7,6665,592,2,55,2,1136,2,238,279,4347,2781,65,75,538,31,11,8,7,6665,1138,8,75,468,5989,299,834,2,5,71,91,2703,8,2,117,83,2,287,762,1072,3455,1147,626,957,1192,2415,752,1230,1372,430,2416,3080,1231,416,1531,122,505,1150,350,451,824,10598,1471,3684,672,2635,19,41,47134,8,70,15414,198,873,3,2,461,2914,29,3337,33,118,334,1211,756,4,41,44,10064,23752,3,2889,1970,25,131,538,11,6679,66,227,288,312,21,3816,15,4,3,201,451,2,568,18,329,1354,99,9399,4190,8,19,53,17,2,20846,4309,2,8889,11,23,74,235,551,1584,391,3238,6238,73,153,3137,2729,3871,15103,6,468,11367,215,126,20,42,521,367,65,243,284,53,92,24,197,11,21969,10,408,2,104,739,21,4,1527,44,2,1006,684,173,47,21,11,184,377,690,36,407,1395,3,1954,158,4492,27,150,46,6292,7,542,2,95,16,2265,438,343,512,2,562,13310,13,1301,3454,269,928,111,505,64,54,42,747,703,257,4,8,4484,18,258,35898,15,268,4,25,9,2086,1210,19,4,2052,2,63,1904,480,180,210,449,95,752,184,57,2532,155,153,429,60,848,1943,423,78,221,79,909,8,76,71,2685,283,3912,50,206,7,123,12,50,17,57,18,59,37,7,7,506,3,763,427,3237,17,3284,480,4457,2,234,2,102,409,1086,2619,18,237,4598,2683,142,2320,25,12,5,7,181,70,40,32,15,23,74,105,62,111,12,198,8,210,10,14,3,10,149,12,19,638,4,62,7]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"physics":false,"shape":"icon","icon":{"code":"f21a","color":"#3B9AB2"}},"manipulation":{"enabled":false},"edges":{"smooth":false,"arrows":"to"},"physics":{"stabilization":false},"layout":{"randomSeed":123},"interaction":{"dragNodes":false,"dragView":true,"navigationButtons":true,"zoomView":true,"zoomSpeed":1}},"groups":["Oceanus","Utoporiana","Anderia del Mar","Sol y Oceana","Marebak","Coralmarica","Luminkind"],"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":true,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false,"variable":"group","main":"Select by group","values":["Anderia del Mar","Coralmarica","Luminkind","Marebak","Oceanus","Sol y Oceana","Utoporiana"]},"main":{"text":"Top 30 source/targets \n           <br>by receiving country<br>","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;"},"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"legend":{"width":0.2,"useGroups":true,"position":"left","ncol":1,"stepX":100,"stepY":100,"zoom":true},"iconsRedraw":true,"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="filter-unknown-status" class="level2">
<h2 class="anchored" data-anchor-id="filter-unknown-status">filter unknown status</h2>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co">#create df to filter list of unknown parties </span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>unknownMC2_nodes <span class="ot">&lt;-</span> MC2_id_list_vis <span class="sc">%&gt;%</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(trade_status <span class="sc">==</span> <span class="st">"Unknown"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="co">#create df to filter list of exporters who solely do export or both </span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>MC2_exporters <span class="ot">&lt;-</span> MC2_id_list_vis <span class="sc">%&gt;%</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(trade_status <span class="sc">==</span> <span class="st">"Export"</span> <span class="sc">|</span> trade_status <span class="sc">==</span> <span class="st">"Import &amp; Export"</span>)</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a><span class="co">#append by matching exporters to the importers (list of unknown)</span></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>unknownMC2 <span class="ot">&lt;-</span> MC2_challenge_edges <span class="sc">%&gt;%</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(MC2_exporters, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"sourcelabel"</span> <span class="ot">=</span> <span class="st">"label"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">from =</span> id) <span class="sc">%&gt;%</span></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(unknownMC2_nodes, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"targetlabel"</span> <span class="ot">=</span> <span class="st">"label"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">to =</span> id) <span class="sc">%&gt;%</span></span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (<span class="sc">!</span><span class="fu">is.na</span>(to)) <span class="sc">%&gt;%</span></span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(from,to) <span class="sc">%&gt;%</span></span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">weight =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (weight <span class="sc">&gt;</span><span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>unknownMC2_revnodes <span class="ot">&lt;-</span> MC2_id_list_vis <span class="sc">%&gt;%</span></span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(id <span class="sc">%in%</span> unknownMC2<span class="sc">$</span>from <span class="sc">|</span> id <span class="sc">%in%</span> unknownMC2<span class="sc">$</span>to) <span class="sc">%&gt;%</span></span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">group =</span> trade_status)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Incorporate icons for node sharps from Font Awesome. Add in <code>addFontAwesome()</code> function and modify the shape and icon arguments to <code>VisNodes()</code>. Moreover, custom navigation have been included with the feature to zoomView, dragView.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co">#create network diagram for exporters</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(unknownMC2_revnodes, unknownMC2, </span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">main =</span> <span class="st">"Exporters who ship to &lt;br&gt; Unknown Origin&lt;br&gt;"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout_with_fr"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visOptions</span>(<span class="at">highlightNearest =</span> <span class="cn">TRUE</span>,</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span> (<span class="at">randomSeed =</span> <span class="dv">123</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>) <span class="sc">%&gt;%</span> <span class="co">#indicate direction </span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addFontAwesome</span>(<span class="at">name =</span> <span class="st">"font-awesome"</span>) <span class="sc">%&gt;%</span> <span class="co">#add icon to network </span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>  <span class="co">#fill color and shape</span></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visGroups</span>(<span class="at">groupname =</span> <span class="st">"Unknown"</span>, <span class="at">shape =</span> <span class="st">"icon"</span>, </span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">icon=</span> <span class="fu">list</span>(<span class="at">code =</span><span class="st">"f21a"</span>, <span class="at">color =</span> <span class="st">"#E1AF00"</span> )) <span class="sc">%&gt;%</span> </span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visGroups</span>(<span class="at">groupname =</span> <span class="st">"Import &amp; Export"</span>, <span class="at">shape =</span> <span class="st">"icon"</span>, </span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">icon=</span> <span class="fu">list</span>(<span class="at">code =</span><span class="st">"f21a"</span>, <span class="at">color =</span> <span class="st">"#3B9AB2"</span> )) <span class="sc">%&gt;%</span> </span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLegend</span>() <span class="sc">%&gt;%</span></span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visInteraction</span>(<span class="at">dragNodes =</span> <span class="cn">FALSE</span>, <span class="at">dragView =</span> <span class="cn">TRUE</span>, </span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>                 <span class="at">zoomView =</span> <span class="cn">TRUE</span>, <span class="at">navigationButtons =</span> <span class="cn">TRUE</span>) <span class="co">#freeze network</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-cfa36cd09302cc9430ea" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-cfa36cd09302cc9430ea">{"x":{"nodes":{"id":["1","2","9","19","20","24","26","37","49","61","63","67","68","69","70","89","90","91","93","95","99","122","124","131","138","143","149","158","171"],"label":["AquaDelight Inc and Son's","BaringoAmerica Marine Ges.m.b.H.","hǎi dǎn Corporation Wharf","Mar del Este CJSC","8.Marine United AG","SeaBass &  SE Tanker","Sailors and Surfers Incorporated Enterprises","Selous Game Reserve  S.A. de C.V.","Saltwater Supreme ОАО Forwading","ArawakFish Cargo Ges.m.b.H.","Punjab s Marine conservation","Kong zhong diao yu  A/S","Dry CreekWorldLogistics Ltd. Liability Co","-1515","Arunachal Pradesh s SRL","HomabayMarine Carriers N.V.","Selkie Ltd. Liability Co","lú yú GmbH & Co. KG","KambalaSea Freight  Inc","Coral Cove BV Delivery","Maacama Ocean Worldwide LLC","OranjestadCreek Express Sagl","-214","SamakaDredgeTransport OJSC","Fisherman's Best Marine conservation","SavanetaCreek Solutions NV","SouthSeafood Express Corp","StichtingMarine Shipping Company","SumacAmerica Transport GmbH & Co. KG"],"group":["Import & Export","Unknown","Import & Export","Import & Export","Unknown","Import & Export","Import & Export","Import & Export","Import & Export","Unknown","Import & Export","Import & Export","Unknown","Import & Export","Import & Export","Unknown","Import & Export","Import & Export","Unknown","Import & Export","Unknown","Unknown","Import & Export","Unknown","Import & Export","Unknown","Unknown","Unknown","Unknown"],"x":[1,0.948052209537856,0.269130120810115,-0.854111605167614,-0.645069956154684,-0.943353942859405,-0.410380367931963,-0.0498755327855498,0.25187717783899,-0.845856855275305,-0.747396457018025,0.125394216711729,0.364911819074353,0.500486329011383,0.608371037361208,0.358349909565139,0.208359208724707,0.592767449074836,-0.398973924282365,-0.224499150115613,0.429428860643906,0.600805803932367,0.853933052339599,-1,-0.323415663620902,-0.0906972332374769,0.111626671537628,-0.409613696199649,-0.547942745423359],"y":[-0.133017620706906,-0.343259342285056,0.552055911752104,0.315915714720809,0.42950267607726,-0.270140277084958,0.561026415032406,1,-0.957532455367739,-0.470067131593203,-0.666618519255852,-0.624039965800009,-0.728717191977795,-0.512358863047771,-0.813436157874431,0.225665188926562,0.00766626248564406,0.078054321353189,-0.891665139214998,-1,0.790513178196477,0.536371136546305,0.478544468107277,0.150839657019982,-0.344837857261738,0.516523532276352,0.812428516269708,-0.148424981906313,0.779129065231604]},"edges":{"from":["1","124","138","19","19","24","26","26","26","37","49","63","67","69","70","9","9","9","9","9","90","91","95"],"to":["2","122","158","131","20","61","143","171","20","149","68","61","68","68","68","122","143","149","89","99","89","89","93"],"weight":[2,2,2,2,2,2,2,2,2,2,4,2,4,4,4,3,2,2,2,2,2,2,2]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"smooth":false,"arrows":"to"},"physics":{"stabilization":false},"layout":{"randomSeed":123},"groups":{"Unknown":{"shape":"icon","icon":{"code":"f21a","color":"#E1AF00"}},"useDefaultGroups":true,"Import & Export":{"shape":"icon","icon":{"code":"f21a","color":"#3B9AB2"}}},"interaction":{"dragNodes":false,"dragView":true,"navigationButtons":true,"zoomView":true,"zoomSpeed":1}},"groups":["Import & Export","Unknown"],"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":{"text":"Exporters who ship to <br> Unknown Origin<br>","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;"},"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"iconsRedraw":true,"legend":{"width":0.2,"useGroups":true,"position":"left","ncol":1,"stepX":100,"stepY":100,"zoom":true},"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Based on the network above, there are 3 companies who supply to more than 1 unknown organization.</p>
<p>~Hai Dan Corporation Wharf (deliver to 5 Unknown Status) ~Sailors and Surfers Incorporated Enterprises (deliver to 3 Unknown Status) ~Mar del Este CJSC (deliver to 3 Unknown Status )</p>
</section>
</section>
<section id="filter-for-companies-with-duplicated-entries" class="level1">
<h1>filter for companies with duplicated entries</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co">#detect duplicate rows and aggregate it </span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>MC2_dup_rows <span class="ot">&lt;-</span> MC2_challenge_edges[<span class="fu">duplicated</span>(MC2_challenge_edges),] <span class="sc">%&gt;%</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">from =</span> source) <span class="sc">%&gt;%</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">to =</span> target) <span class="sc">%&gt;%</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(from,to) <span class="sc">%&gt;%</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">weight =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (weight <span class="sc">&gt;</span><span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>MC2_dup_top10 <span class="ot">&lt;-</span> MC2_dup_rows <span class="sc">%&gt;%</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">top_n</span>(<span class="dv">10</span>,weight) </span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a><span class="co">#create df with corresponding nodes </span></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>MC2_dup_nodes <span class="ot">&lt;-</span> MC2_id_list_vis <span class="sc">%&gt;%</span></span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(id <span class="sc">%in%</span> MC2_dup_top10<span class="sc">$</span>from <span class="sc">|</span> id <span class="sc">%in%</span> MC2_dup_top10<span class="sc">$</span>to) <span class="sc">%&gt;%</span></span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">group =</span> trade_status)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>There are approximately 32% duplicated rows in the trade data.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co">#create network diagram for exporters</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(MC2_dup_nodes, MC2_dup_top10, </span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">main =</span> <span class="st">"Trade Transactions with  &lt;br&gt; Top 10 duplicates &lt;br&gt;"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout_with_fr"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visOptions</span>(<span class="at">highlightNearest =</span> <span class="cn">TRUE</span>,</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span> (<span class="at">randomSeed =</span> <span class="dv">123</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>) <span class="sc">%&gt;%</span> <span class="co">#indicate direction </span></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addFontAwesome</span>(<span class="at">name =</span> <span class="st">"font-awesome"</span>) <span class="sc">%&gt;%</span> <span class="co">#add icon to network </span></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>  <span class="co">#fill color and shape</span></span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLegend</span>() <span class="sc">%&gt;%</span></span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visInteraction</span>(<span class="at">dragNodes =</span> <span class="cn">FALSE</span>, <span class="at">dragView =</span> <span class="cn">TRUE</span>, </span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>                 <span class="at">zoomView =</span> <span class="cn">TRUE</span>, <span class="at">navigationButtons =</span> <span class="cn">TRUE</span>) <span class="co">#freeze network</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-8e0e1280dbf15fcc9d40" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-8e0e1280dbf15fcc9d40">{"x":{"nodes":{"id":["6","49","59","77","82","95","141","255","379","449","895","1281","1283","2065","14880"],"label":["French Crab S.p.A. Worldwide","Saltwater Supreme ОАО Forwading","Oceanic Explorers Sashimi Inc Solutions","Himachal Pradesh   Plc International","Playa de la Luna Incorporated","Coral Cove BV Delivery","Belgian Shrimps Ocean Corp Holdings","Chhattisgarh   Marine ecology A/S Delivery","Marine Masterminds Dry dock","Icelandic Cod Pier ОАО Transport","Isla del Tesoro GmbH & Co. KG Chart","Isla del Mar Marine Oyj Transit","Caracola del Este Corporation Express","-2119","Himachal Pradesh   S.A. de C.V. America"],"group":["Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export"],"x":[0.885258085470976,0.715272580819628,0.0122005744385643,0.344543279497921,0.238398827856333,-1,1,-0.171300715048575,0.490101095256648,-0.989514242447092,-0.519630786978498,0.596900303651194,-0.407719155525526,-0.527730636060893,-0.776314866141218],"y":[-0.186365378818072,-0.49993109670772,1,0.487484658994546,-1,-0.0300846922921512,0.130699572444492,-0.00474391952451292,-0.77177138057606,-0.33955871956953,0.725588195216991,0.685377044050081,-0.671150827199701,-0.951799445632107,0.546955018971622]},"edges":{"from":["1281","1283","14880","255","379","379","449","59","6","6"],"to":["77","2065","895","255","49","82","95","59","141","49"],"weight":[5174,2277,3048,2652,20406,4502,1540,3041,9929,9272]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"smooth":false,"arrows":"to"},"physics":{"stabilization":false},"layout":{"randomSeed":123},"interaction":{"dragNodes":false,"dragView":true,"navigationButtons":true,"zoomView":true,"zoomSpeed":1}},"groups":["Import & Export","Import"],"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":{"text":"Trade Transactions with  <br> Top 10 duplicates <br>","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;"},"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"iconsRedraw":true,"legend":{"width":0.2,"useGroups":true,"position":"left","ncol":1,"stepX":100,"stepY":100,"zoom":true},"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co">#check for duplicates </span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>dup <span class="ot">&lt;-</span> (<span class="fu">nrow</span>(MC2_challenge_edges) <span class="sc">-</span> <span class="fu">nrow</span>(<span class="fu">unique</span>(MC2_challenge_edges)))</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="co">#reformat output </span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>dup_reformat <span class="ot">&lt;-</span> <span class="fu">format</span>(dup, <span class="at">big.mark=</span><span class="st">","</span>)</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="co">#print output</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>dup_reformat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "155,291"</code></pre>
</div>
</div>
</section>
<section id="references" class="level1">
<h1>References:</h1>
<p>https://vast-challenge.github.io/2023/MC2.html</p>
<p>https://www.nagraj.net/notes/visnetwork/</p>
<p>https://cran.r-project.org/web/packages/visNetwork/vignettes/Introduction-to-visNetwork.html</p>
<p>https://jtr13.github.io/cc21fall2/network-visualization-in-r.html</p>
<p>https://r-graph-gallery.com/38-rcolorbrewers-palettes.html</p>
<p>https://jtr13.github.io/cc21fall2/network-visualization-in-r.html#centrality-measurement</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../Take-Home_Ex/Take_Home_Ex01/Take-Home_Ex01.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Take Home Exercise 1</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->



</body></html>