<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.475">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Oh Jia Wen">
<meta name="dcterms.date" content="2023-06-04">

<title>Take Home Exercise 2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../Take-Home_Ex/Take_Home_Ex03/Take-Home_Ex03.html" rel="next">
<link href="../../Take-Home_Ex/Take_Home_Ex01/Take-Home_Ex01.html" rel="prev">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="../../site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="../../site_libs/plotly-binding-4.10.1/plotly.js"></script>
<script src="../../site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="../../site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="../../site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="../../site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="../../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="../../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<link href="../../site_libs/vis-9.1.0/vis-network.min.css" rel="stylesheet">
<script src="../../site_libs/vis-9.1.0/vis-network.min.js"></script>
<script src="../../site_libs/visNetwork-binding-2.1.2/visNetwork.js"></script>
<link href="../../site_libs/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet">
<script src="../../site_libs/d3-3.5.5/d3.min.js"></script>
<link href="../../site_libs/d3tree-0.1/d3tree.css" rel="stylesheet">
<script src="../../site_libs/d3tree-binding-0.1/d3tree.js"></script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Take Home Exercise 2</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">Welcome</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://isss608-ohjiawen.netlify.app/" title="" class="sidebar-tool px-1"><i class="bi bi-house-fill"></i></a>
    <a href="https://github.com/jiawenoh/ISSS608-VAA" title="" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
    <a href="https://www.linkedin.com/in/jia-wen-oh/" title="" class="sidebar-tool px-1"><i class="bi bi-linkedin"></i></a>
  <a href="" class="quarto-color-scheme-toggle sidebar-tool" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">About</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">Home</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../about_me.html" class="sidebar-item-text sidebar-link">About Me</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">Hands-on Exercise</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html" class="sidebar-item-text sidebar-link">Hands-on Exercise 1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html" class="sidebar-item-text sidebar-link">Hands-on Exercise 2</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03.html" class="sidebar-item-text sidebar-link">Hands-on Exercise 3</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04.html" class="sidebar-item-text sidebar-link">Hands-on Exercise 4</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05.html" class="sidebar-item-text sidebar-link">Hands-on Exercise 5</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Hands-on_Ex/Hands-on_Ex06/Hands-on_Ex06.html" class="sidebar-item-text sidebar-link">Hands-on Exercise 6 Part One</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Hands-on_Ex/Hands-on_Ex06/Hands_on_Ex06_PartTwo.html" class="sidebar-item-text sidebar-link">Hands-on Exercise 6 Part Two</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">In-class Exercise</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../In-class_Ex/In-class_Ex01/In-class_Ex01.html" class="sidebar-item-text sidebar-link">In-class Exercise 1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../In-class_Ex/In-class_Ex03/In-class_Ex03.html" class="sidebar-item-text sidebar-link">In-class Exercise 3</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../In-class_Ex/In-class_Ex04/In-class_Ex04.html" class="sidebar-item-text sidebar-link">In-class Exercise 4</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../In-class_Ex/In-class_Ex05/In-class_Ex05.html" class="sidebar-item-text sidebar-link">In-class Exercise 5</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../In-class_Ex/In-class_Ex06/In-class_Ex06.html" class="sidebar-item-text sidebar-link">In-class Exercise 6</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../In-class_Ex/In-class_Ex07/In-class_Ex07.html" class="sidebar-item-text sidebar-link">In-class Exercise 7</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">Take Home Exercise</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Take-Home_Ex/Take_Home_Ex01/Take-Home_Ex01.html" class="sidebar-item-text sidebar-link">Take Home Exercise 1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Take-Home_Ex/Take_Home_Ex02/Take-Home_Ex02.html" class="sidebar-item-text sidebar-link active">Take Home Exercise 2</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Take-Home_Ex/Take_Home_Ex03/Take-Home_Ex03.html" class="sidebar-item-text sidebar-link">Take Home Exercise 3</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">1. OVERVIEW</a>
  <ul class="collapse">
  <li><a href="#the-task" id="toc-the-task" class="nav-link" data-scroll-target="#the-task">1.1 The Task</a></li>
  </ul></li>
  <li><a href="#datasets" id="toc-datasets" class="nav-link" data-scroll-target="#datasets">2. Datasets</a>
  <ul class="collapse">
  <li><a href="#metadata" id="toc-metadata" class="nav-link" data-scroll-target="#metadata">2.1 Metadata</a></li>
  </ul></li>
  <li><a href="#data-preparation" id="toc-data-preparation" class="nav-link" data-scroll-target="#data-preparation">3. Data Preparation</a>
  <ul class="collapse">
  <li><a href="#install-r-packages" id="toc-install-r-packages" class="nav-link" data-scroll-target="#install-r-packages">3.1 Install R-packages</a></li>
  <li><a href="#importing-data" id="toc-importing-data" class="nav-link" data-scroll-target="#importing-data">3.2 Importing Data</a></li>
  <li><a href="#create-tibble-data-frame" id="toc-create-tibble-data-frame" class="nav-link" data-scroll-target="#create-tibble-data-frame">3.3 Create Tibble Data frame</a></li>
  <li><a href="#concatenate-data-frame-from-bundles" id="toc-concatenate-data-frame-from-bundles" class="nav-link" data-scroll-target="#concatenate-data-frame-from-bundles">3.4 Concatenate Data frame from Bundles</a></li>
  <li><a href="#creating-a-master-id-data-frame" id="toc-creating-a-master-id-data-frame" class="nav-link" data-scroll-target="#creating-a-master-id-data-frame">3.5 Creating a Master ID data frame</a></li>
  <li><a href="#data-wrangling" id="toc-data-wrangling" class="nav-link" data-scroll-target="#data-wrangling">3.5 Data Wrangling</a></li>
  </ul></li>
  <li><a href="#distribution-of-transactions" id="toc-distribution-of-transactions" class="nav-link" data-scroll-target="#distribution-of-transactions">4. Distribution of transactions</a>
  <ul class="collapse">
  <li><a href="#number-of-transactions-by-year-and-month" id="toc-number-of-transactions-by-year-and-month" class="nav-link" data-scroll-target="#number-of-transactions-by-year-and-month">4.1 Number of Transactions by Year and Month</a></li>
  <li><a href="#trade-flow-of-company-with-above-30-transactions-in-mar-2023" id="toc-trade-flow-of-company-with-above-30-transactions-in-mar-2023" class="nav-link" data-scroll-target="#trade-flow-of-company-with-above-30-transactions-in-mar-2023">4.2 Trade flow of Company with above 30 transactions in Mar 2023</a></li>
  </ul></li>
  <li><a href="#distribution-of-median-weight" id="toc-distribution-of-median-weight" class="nav-link" data-scroll-target="#distribution-of-median-weight">5. Distribution of Median Weight</a>
  <ul class="collapse">
  <li><a href="#trade-flow-for-hscode-306170" id="toc-trade-flow-for-hscode-306170" class="nav-link" data-scroll-target="#trade-flow-for-hscode-306170">5.1 Trade flow for Hscode 306170</a></li>
  <li><a href="#trade-flow-for-hscode-873023-in-year-2032" id="toc-trade-flow-for-hscode-873023-in-year-2032" class="nav-link" data-scroll-target="#trade-flow-for-hscode-873023-in-year-2032">5.2 Trade flow for Hscode 873023 in year 2032</a></li>
  <li><a href="#examining-chapter-30-hscode" id="toc-examining-chapter-30-hscode" class="nav-link" data-scroll-target="#examining-chapter-30-hscode">5.3 Examining Chapter 30 Hscode</a></li>
  </ul></li>
  <li><a href="#companies-with-unknown-trade-status" id="toc-companies-with-unknown-trade-status" class="nav-link" data-scroll-target="#companies-with-unknown-trade-status">6. Companies with Unknown Trade Status</a></li>
  <li><a href="#companies-with-duplicated-entries" id="toc-companies-with-duplicated-entries" class="nav-link" data-scroll-target="#companies-with-duplicated-entries">7. Companies with Duplicated Entries</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">8. Conclusion:</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References:</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Take Home Exercise 2</h1>
<p class="subtitle lead">Mini Case 2 of Vast Challenge 2023</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Oh Jia Wen </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 4, 2023</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">June 4, 2023</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="overview" class="level1">
<h1>1. OVERVIEW</h1>
<p>FishEye International is collaborating with the country of Oceanus to identify companies who could potentially engaged in illegal, unreported, and unregulated (IUU) fishing. FishEye has transformed import/export data into a knowledge graph.</p>
<p>The country of Oceanus has sought FishEye International’s help in identifying companies possibly engaged in illegal, unreported, and unregulated (IUU) fishing. 12 groups of link suggestions with various fish types are used to reason on the knowledge graph.</p>
<section id="the-task" class="level2">
<h2 class="anchored" data-anchor-id="the-task">1.1 The Task</h2>
<p>In this take-home exercise, temporal patterns for individual entries and between entities are identified using the knowledge graph FishEye created from trade records. In addition, we evaluate the sets of predicted knowledge graph links (Bundles) to determine which sets are more reliable in completing the graph.</p>
</section>
</section>
<section id="datasets" class="level1">
<h1>2. Datasets</h1>
<p>The trade data is stored in <em><code>mc2_challenge_graph.json</code></em> file with a time period of 7 years from the time period 2028 to 2024. There are a total of 34,576 nodes and 5,464,378 edges in the knowledge graphs. It includes a bundles with 12 types of marine species, ranging from Carp, Catfish, Chub_mackerel, Cod2, Herring, Lichen, Mackerel, Pollock, Salmon_wgl, Salmon, Shark, and Tuna.</p>
<section id="metadata" class="level2">
<h2 class="anchored" data-anchor-id="metadata">2.1 Metadata</h2>
<table class="table">
<colgroup>
<col style="width: 11%">
<col style="width: 16%">
<col style="width: 70%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Location</th>
<th style="text-align: left;">Variables Name</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Node</td>
<td style="text-align: left;">id</td>
<td style="text-align: left;">Name of the company that originated (or received) the shipment</td>
</tr>
<tr class="even">
<td style="text-align: left;">Node</td>
<td style="text-align: left;">shpcountry</td>
<td style="text-align: left;">Country the company most often associated with when shipping</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Node</td>
<td style="text-align: left;">rcvcountry</td>
<td style="text-align: left;">Country the company most often associated with when receiving</td>
</tr>
<tr class="even">
<td style="text-align: left;">Node, Edge</td>
<td style="text-align: left;">dataset</td>
<td style="text-align: left;">Always ’MC2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Edge</td>
<td style="text-align: left;">arrivaldate</td>
<td style="text-align: left;">Date the shipment arrived at port in YYYY-MM-DD format.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Edge</td>
<td style="text-align: left;">hscode</td>
<td style="text-align: left;">Harmonized System code for the shipment.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Edge</td>
<td style="text-align: left;">valueofgoods_omu</td>
<td style="text-align: left;">Customs-declared value of the total shipment, in Oceanus Monetary Units (OMU)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Edge</td>
<td style="text-align: left;">volumeteu</td>
<td style="text-align: left;">The volume of the shipment in ‘Twenty-foot equivalent units’</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Edge</td>
<td style="text-align: left;">weightkg</td>
<td style="text-align: left;">The weight of the shipment in kilograms</td>
</tr>
<tr class="even">
<td style="text-align: left;">Edge</td>
<td style="text-align: left;">type</td>
<td style="text-align: left;">Always ‘shipment’ for MC2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Edge</td>
<td style="text-align: left;">generated_by</td>
<td style="text-align: left;">Name of the program that generated the edge (only in bundles)</td>
</tr>
</tbody>
</table>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body" title="Important">
<p>HS code, also known as The Harmonized System are alphanumeric codes used for classifying goods for international trade and customs purposes. It composed of six digits and could be broken down into chapter/heading/subheading (two digits each).</p>
</div>
</div>
</section>
</section>
<section id="data-preparation" class="level1">
<h1>3. Data Preparation</h1>
<section id="install-r-packages" class="level2">
<h2 class="anchored" data-anchor-id="install-r-packages">3.1 Install R-packages</h2>
<p>Using p_load() of pacman package to load and install the following libraries:</p>
<ul>
<li><p><code>jsonlite</code> : To import data from JSON File into R</p></li>
<li><p><code>lubridate</code> : To convert Date and Time</p></li>
<li><p><code>visNetwork</code>: For Network Visualization</p></li>
<li><p><code>tidyverse</code>: A collection of R packages use in everyday data analyses. It is able to support data science, data wrangling, and analysis.</p></li>
<li><p><code>hrbrthemes</code>: For Additional Themes, and Utilities for ‘ggplot2’ (might not use)</p></li>
<li><p><code>heatmaply</code>: For creating Interactive Cluster Heatmaps</p></li>
<li><p><code>treemap</code>: For viisualizing hierarchical data using nested rectangles</p></li>
<li><p><code>devtools</code>: For the installing for <code>d3treeR</code></p></li>
<li><p><code>igraph</code>: For exploring the network</p></li>
<li><p><code>RColorBrewer</code>: For visualization. Contains ready-to-use color palettes</p></li>
<li><p><code>knitr</code>: For dynamic report generation</p></li>
<li><p><code>stringr</code>: For character manipulation.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman <span class="sc">::</span> <span class="fu">p_load</span> (jsonlite, lubridate, tidygraph, ggraph, visNetwork, tidyverse,</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>                  igraph,heatmaply,hrbrthemes,treemap,devtools,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>                  ggstatsplot,RColorBrewer, knitr,stringr)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="importing-data" class="level2">
<h2 class="anchored" data-anchor-id="importing-data">3.2 Importing Data</h2>
<p>The JSON files will be imported into R with the use of <code>fromJSON</code> function from <code>jsonlite</code>. The code chunk below shows the knowledge graph FishEye created from trade records.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>MC2_challenge <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/mc2_challenge_graph.json"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The bundles which consists of Carp, Catfish, Chub_Mackerel, Cod2, Herring, Lichen, Mackerel, Pollock, Salmon_wgl, Salmon, Shark and Tuna are imported.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>MC2_carp <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/bundles/carp.json"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>MC2_catfish <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/bundles/catfish.json"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>MC2_chub_mackerel <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/bundles/chub_mackerel.json"</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>MC2_cod2 <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/bundles/cod2.json"</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>MC2_herring <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/bundles/herring.json"</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>MC2_lichen <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/bundles/lichen.json"</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>MC2_mackerel <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/bundles/mackerel.json"</span>)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>MC2_pollock <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/bundles/pollock.json"</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>MC2_salmon_wgl <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/bundles/salmon_wgl.json"</span>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>MC2_salmon <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/bundles/salmon.json"</span>)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>MC2_shark <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/bundles/shark.json"</span>)</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>MC2_tuna <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/bundles/tuna.json"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="create-tibble-data-frame" class="level2">
<h2 class="anchored" data-anchor-id="create-tibble-data-frame">3.3 Create Tibble Data frame</h2>
<p>As the imported data is in JSON format, we will use the <code>as_tibble</code> to create a tibble from data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>MC2_challenge_nodes <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_challenge<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,shpcountry,rcvcountry)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>MC2_challenge_edges <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_challenge<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(source,target,arrivaldate, hscode,valueofgoods_omu, </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>         volumeteu, weightkg, valueofgoodsusd)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Additionally, the columns have been re-shuffled for the bundles. We used <code>relocate</code> to revise the order. The column will start from source, to target, etc. By doing so, every fish types have the same sequence.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">#1_fish type :carp</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>MC2_carp_nodes <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_carp<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,dataset,shpcountry,rcvcountry)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>MC2_carp_edges <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_carp<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">7</span>,<span class="dv">6</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co">#2_fish type: catfish</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>MC2_catfish_nodes <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_catfish<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,dataset,shpcountry,rcvcountry)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>MC2_catfish_edges <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_catfish<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">5</span>,<span class="dv">4</span>)</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="co">#3_fish type: chub_mackerel</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>MC2_chub_mackerel_nodes <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_chub_mackerel<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,dataset,shpcountry,rcvcountry)</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>MC2_chub_mackerel_edges <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_chub_mackerel<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">7</span>,<span class="dv">6</span>)</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="co">#4_fish type: cod2</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>MC2_cod2_nodes <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_cod2<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,dataset,shpcountry,rcvcountry)</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>MC2_cod2_edges <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_cod2<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">7</span>,<span class="dv">6</span>)</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a><span class="co">#5_fish type: herring</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>MC2_herring_nodes <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_herring<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,dataset,shpcountry,rcvcountry)</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>MC2_herring_edges <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_herring<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">6</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">9</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a><span class="co">#6_fish type: lichen</span></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>MC2_lichen_nodes <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_lichen<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,dataset,shpcountry,rcvcountry)</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>MC2_lichen_edges <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_lichen<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">relocate</span>(<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">6</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">9</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a><span class="co">#7_fish type: mackerel</span></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>MC2_mackerel_nodes <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_mackerel<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,dataset,shpcountry,rcvcountry)</span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>MC2_mackerel_edges <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_mackerel<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">relocate</span>(<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">5</span>,<span class="dv">4</span>)</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a><span class="co">#8_fish type: pollock</span></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>MC2_pollock_nodes <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_pollock<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,dataset,shpcountry,rcvcountry)</span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>MC2_pollock_edges <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_pollock<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">relocate</span>(<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">7</span>,<span class="dv">6</span>)</span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a><span class="co">#9_fish type: salmon_wgl</span></span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>MC2_salmon_wgl_nodes <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_salmon_wgl<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,dataset,shpcountry,rcvcountry)</span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>MC2_salmon_wgl_edges <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_salmon_wgl<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">6</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">9</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a><span class="co">#10_fish type: salmon</span></span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>MC2_salmon_nodes <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_salmon<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,dataset,shpcountry,rcvcountry)</span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>MC2_salmon_edges <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_salmon<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">7</span>,<span class="dv">6</span>)</span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a><span class="co">#11_fish type: shark</span></span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a>MC2_shark_nodes <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_shark<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,dataset,shpcountry,rcvcountry)</span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a>MC2_shark_edges <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_shark<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a>    <span class="fu">relocate</span>(<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">6</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">9</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a><span class="co">#12_fish type: tuna</span></span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a>MC2_tuna_nodes <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_tuna<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,dataset,shpcountry,rcvcountry)</span>
<span id="cb5-70"><a href="#cb5-70" aria-hidden="true" tabindex="-1"></a>MC2_tuna_edges <span class="ot">&lt;-</span><span class="fu">as_tibble</span>(MC2_tuna<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb5-71"><a href="#cb5-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">4</span>,<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="concatenate-data-frame-from-bundles" class="level2">
<h2 class="anchored" data-anchor-id="concatenate-data-frame-from-bundles">3.4 Concatenate Data frame from Bundles</h2>
<p>After it has been converted to tibble data frame, the bundles are concatenated. Among the 12 files, there are 3 data frames which have 7 variables whereas the rest have 9 variables. As such, <code>bind_rows()</code> - a function from the <code>dplyr</code> package within the <code>tidyverse</code> is used.</p>
<p>Moreover, the <code>knitr: kable()</code> function is used to display the results of the combined_edges.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># concatenante the edges </span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>combined_edges <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(MC2_carp_edges,MC2_chub_mackerel_edges,</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>                        MC2_cod2_edges,MC2_herring_edges,MC2_lichen_edges,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>                        MC2_pollock_edges,MC2_salmon_wgl_edges,</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>                        MC2_salmon_edges,MC2_shark_edges, </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>                        MC2_catfish_edges,MC2_mackerel_edges,MC2_tuna_edges)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co"># concatenate the nodes </span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>combined_nodes <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(MC2_carp_nodes,MC2_catfish_nodes,</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>                            MC2_chub_mackerel_nodes,MC2_cod2_nodes,</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>                            MC2_herring_nodes, MC2_lichen_nodes,</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>                            MC2_mackerel_nodes, MC2_pollock_nodes, </span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>                            MC2_salmon_wgl_nodes,MC2_salmon_nodes,</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>                            MC2_shark_nodes, MC2_tuna_nodes)</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="co">#output for dataframe using knitr:: kable</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(combined_edges), <span class="st">"simple"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">source</th>
<th style="text-align: left;">target</th>
<th style="text-align: left;">dataset</th>
<th style="text-align: left;">generated_by</th>
<th style="text-align: left;">arrivaldate</th>
<th style="text-align: right;">hscode</th>
<th style="text-align: right;">valueofgoods_omu</th>
<th style="text-align: right;">volumeteu</th>
<th style="text-align: right;">weightkg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Tshimbua GmbH &amp; Co.&nbsp;KG</td>
<td style="text-align: left;">Caracola del Sol Services</td>
<td style="text-align: left;">MC2</td>
<td style="text-align: left;">carp</td>
<td style="text-align: left;">2034-03-20</td>
<td style="text-align: right;">80440</td>
<td style="text-align: right;">15915</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">15720</td>
</tr>
<tr class="even">
<td style="text-align: left;">Marine Masterminds Dry dock</td>
<td style="text-align: left;">Playa de la Luna Incorporated</td>
<td style="text-align: left;">MC2</td>
<td style="text-align: left;">carp</td>
<td style="text-align: left;">2034-08-01</td>
<td style="text-align: right;">940179</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">10795</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Marine Masterminds Dry dock</td>
<td style="text-align: left;">Saltwater Supreme ОАО Forwading</td>
<td style="text-align: left;">MC2</td>
<td style="text-align: left;">carp</td>
<td style="text-align: left;">2034-11-27</td>
<td style="text-align: right;">940161</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6555</td>
</tr>
<tr class="even">
<td style="text-align: left;">Marine Masterminds Dry dock</td>
<td style="text-align: left;">Saltwater Supreme ОАО Forwading</td>
<td style="text-align: left;">MC2</td>
<td style="text-align: left;">carp</td>
<td style="text-align: left;">2034-10-10</td>
<td style="text-align: right;">940161</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6675</td>
</tr>
<tr class="odd">
<td style="text-align: left;">zhāng yú Ges.m.b.H. Solutions</td>
<td style="text-align: left;">Portuguese Tuna Incorporated Marine</td>
<td style="text-align: left;">MC2</td>
<td style="text-align: left;">carp</td>
<td style="text-align: left;">2034-04-09</td>
<td style="text-align: right;">40729</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">54775</td>
</tr>
<tr class="even">
<td style="text-align: left;">Nile S.A. de C.V.</td>
<td style="text-align: left;">Caracola del Sol Services</td>
<td style="text-align: left;">MC2</td>
<td style="text-align: left;">carp</td>
<td style="text-align: left;">2034-03-30</td>
<td style="text-align: right;">700711</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">22430</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="callout-Tip callout callout-style-default no-icon callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Catfish, Mackerel, and Tuna have 7 variables while other fishes have 9 variables. It is better to concatenate with the use of <code>blind_rows</code> instead of <code>rbind()</code> as the latter requires an exact match in the numbers of columns.</p>
</div>
</div>
</section>
<section id="creating-a-master-id-data-frame" class="level2">
<h2 class="anchored" data-anchor-id="creating-a-master-id-data-frame">3.5 Creating a Master ID data frame</h2>
<p>Moving on, we would like to create a master ID data frame from the knowledge graph. It is unclear whether there are any missing source or target that are not reflected in the <code>MC_challenge_nodes</code>.</p>
<p>The code chunk below will identify if there are any missing id. If it exists in either columns, it will be appended back to the <code>MC2_challenge_nodes</code> data frame. A new column called <code>trade_status</code> is created to help identify the trade status of the company. <code>!is.na()</code> functions is used to check for values. If it is N/A in both columns, the trade status will be updated as Unknown.</p>
<p>Likewise, we rename the <code>id</code> to <code>label</code> and create an id column through <code>mutate</code> and <code>nrow</code> which becomes an unique identifier to the <code>label</code>.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">#create new df and add new column called trade_status</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>MC2_id_list_vis <span class="ot">&lt;-</span> MC2_challenge_nodes <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">label =</span> id) <span class="sc">%&gt;%</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">id =</span> <span class="fu">as.character</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(MC2_challenge_nodes)),</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">trade_status =</span> <span class="fu">case_when</span>(</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(shpcountry) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(rcvcountry) <span class="sc">~</span> <span class="st">"Import &amp; Export"</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(shpcountry) <span class="sc">~</span> <span class="st">"Export"</span>,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(rcvcountry) <span class="sc">~</span> <span class="st">"Import"</span>,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">is.na</span>(shpcountry) <span class="sc">|</span> <span class="fu">is.na</span>(rcvcountry) <span class="sc">~</span><span class="st">"Unknown"</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(trade_status))</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="co">#reorder the columns </span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>MC2_id_list_vis <span class="ot">&lt;-</span> MC2_id_list_vis <span class="sc">%&gt;%</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,label, trade_status,shpcountry, rcvcountry)</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a><span class="co">#create similar list </span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>MC2_id_list <span class="ot">&lt;-</span> MC2_challenge_nodes <span class="sc">%&gt;%</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">label =</span> id) <span class="sc">%&gt;%</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">trade_status =</span> <span class="fu">case_when</span>(</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(shpcountry) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(rcvcountry) <span class="sc">~</span> <span class="st">"Import &amp; Export"</span>,</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(shpcountry) <span class="sc">~</span> <span class="st">"Export"</span>,</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(rcvcountry) <span class="sc">~</span> <span class="st">"Import"</span>,</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">is.na</span>(shpcountry) <span class="sc">|</span> <span class="fu">is.na</span>(rcvcountry) <span class="sc">~</span><span class="st">"Unknown"</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>  )) </span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a><span class="co">#reorder the columns </span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>MC2_id_list <span class="ot">&lt;-</span> MC2_id_list <span class="sc">%&gt;%</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(label,trade_status,shpcountry, rcvcountry)</span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a><span class="co">#create df to identify companies in target column that are not in the nodes </span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>ID_target <span class="ot">&lt;-</span> MC2_challenge_edges <span class="sc">%&gt;%</span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(target <span class="sc">%in%</span> MC2_id_list<span class="sc">$</span>label)) <span class="sc">%&gt;%</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(target) <span class="sc">%&gt;%</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>  <span class="co">#rename to match names in nodes df</span></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">id =</span> target) <span class="sc">%&gt;%</span></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>  <span class="co">#dummy columns are created to bind rows together</span></span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">dataset =</span> <span class="cn">NA</span>, <span class="at">shpcountry =</span> <span class="cn">NA</span>, <span class="at">rcvcountry =</span> <span class="cn">NA</span>)</span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a><span class="co">#create df to identify companies in source column that are not in the nodes </span></span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>ID_source <span class="ot">&lt;-</span> MC2_challenge_edges <span class="sc">%&gt;%</span></span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(source <span class="sc">%in%</span> MC2_id_list<span class="sc">$</span>label)) <span class="sc">%&gt;%</span></span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(source) <span class="sc">%&gt;%</span></span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">id =</span> source) <span class="sc">%&gt;%</span></span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">dataset =</span> <span class="cn">NA</span>, <span class="at">shpcountry =</span> <span class="cn">NA</span>, <span class="at">rcvcountry =</span> <span class="cn">NA</span>)</span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a><span class="co">#append the distinct companies into the nodes </span></span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a>MC2_challenge_nodes <span class="ot">&lt;-</span> MC2_challenge_nodes <span class="sc">%&gt;%</span></span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rbind</span>(ID_target) <span class="sc">%&gt;%</span></span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rbind</span>(ID_source)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>As observed, all the companies are well stored in the <code>MC2_challenge_nodes</code> data frame.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#output of ID nodes that are not in Master list</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(ID_source)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(ID_target)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
</section>
<section id="data-wrangling" class="level2">
<h2 class="anchored" data-anchor-id="data-wrangling">3.5 Data Wrangling</h2>
<p>After concatenating and creating a master ID data frame, adjustments are made to rectify the following:</p>
<ol type="1">
<li>arrivaldate is not in <code>date</code> format. [Revised through <code>lubridate</code> in the <code>ymd</code> format]</li>
<li>hscode is not in <code>chr</code> format. [Revised from <code>int</code>]</li>
<li>date is not comprehensive. [Create new column called year]</li>
<li>edge data frame does not have corresponding id to source and target. [Rename source and target to sourcelabel and targetlabel respectively. Thereafter, Left_join with master ID <code>MC2_id_list_vis</code> data frame to get the corresponding ID]</li>
</ol>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">#revise the data format for arrivaldate and hscode </span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>MC2_challenge_edges<span class="ot">&lt;-</span> MC2_challenge_edges <span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">sourcelabel =</span> source, <span class="at">targetlabel =</span> target) <span class="sc">%&gt;%</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">arrivaldate =</span><span class="fu">ymd</span>(arrivaldate),</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">hscode =</span> <span class="fu">as.character</span>(hscode),</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">year =</span> <span class="fu">year</span>(arrivaldate))</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co">#to append correspoinding id through left_join </span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>MC2_challenge_edges <span class="ot">&lt;-</span> MC2_challenge_edges <span class="sc">%&gt;%</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(MC2_id_list_vis, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"sourcelabel"</span> <span class="ot">=</span> <span class="st">"label"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">source =</span> id) <span class="sc">%&gt;%</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(MC2_id_list_vis, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"targetlabel"</span> <span class="ot">=</span> <span class="st">"label"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">target =</span> id) <span class="sc">%&gt;%</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(<span class="dv">10</span>,<span class="dv">14</span>)</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="co">#revised the same approach to the bundles </span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>combined_edges_cleaned<span class="ot">&lt;-</span> combined_edges <span class="sc">%&gt;%</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">arrivaldate =</span><span class="fu">ymd</span>(arrivaldate),</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>         <span class="at">hscode =</span> <span class="fu">as.character</span>(hscode))</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a><span class="co">#output for dataframe using knitr:: kable</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(combined_edges_cleaned), <span class="st">"simple"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">source</th>
<th style="text-align: left;">target</th>
<th style="text-align: left;">dataset</th>
<th style="text-align: left;">generated_by</th>
<th style="text-align: left;">arrivaldate</th>
<th style="text-align: left;">hscode</th>
<th style="text-align: right;">valueofgoods_omu</th>
<th style="text-align: right;">volumeteu</th>
<th style="text-align: right;">weightkg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Tshimbua GmbH &amp; Co.&nbsp;KG</td>
<td style="text-align: left;">Caracola del Sol Services</td>
<td style="text-align: left;">MC2</td>
<td style="text-align: left;">carp</td>
<td style="text-align: left;">2034-03-20</td>
<td style="text-align: left;">80440</td>
<td style="text-align: right;">15915</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">15720</td>
</tr>
<tr class="even">
<td style="text-align: left;">Marine Masterminds Dry dock</td>
<td style="text-align: left;">Playa de la Luna Incorporated</td>
<td style="text-align: left;">MC2</td>
<td style="text-align: left;">carp</td>
<td style="text-align: left;">2034-08-01</td>
<td style="text-align: left;">940179</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">10795</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Marine Masterminds Dry dock</td>
<td style="text-align: left;">Saltwater Supreme ОАО Forwading</td>
<td style="text-align: left;">MC2</td>
<td style="text-align: left;">carp</td>
<td style="text-align: left;">2034-11-27</td>
<td style="text-align: left;">940161</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6555</td>
</tr>
<tr class="even">
<td style="text-align: left;">Marine Masterminds Dry dock</td>
<td style="text-align: left;">Saltwater Supreme ОАО Forwading</td>
<td style="text-align: left;">MC2</td>
<td style="text-align: left;">carp</td>
<td style="text-align: left;">2034-10-10</td>
<td style="text-align: left;">940161</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6675</td>
</tr>
<tr class="odd">
<td style="text-align: left;">zhāng yú Ges.m.b.H. Solutions</td>
<td style="text-align: left;">Portuguese Tuna Incorporated Marine</td>
<td style="text-align: left;">MC2</td>
<td style="text-align: left;">carp</td>
<td style="text-align: left;">2034-04-09</td>
<td style="text-align: left;">40729</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">54775</td>
</tr>
<tr class="even">
<td style="text-align: left;">Nile S.A. de C.V.</td>
<td style="text-align: left;">Caracola del Sol Services</td>
<td style="text-align: left;">MC2</td>
<td style="text-align: left;">carp</td>
<td style="text-align: left;">2034-03-30</td>
<td style="text-align: left;">700711</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">22430</td>
</tr>
</tbody>
</table>
</div>
</div>
<ol start="5" type="1">
<li>Duplicates found [Retain for further analyses as the purchases might be broken down into small trade to avoid detection ]</li>
</ol>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">#check for duplicates </span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>dup <span class="ot">&lt;-</span> (<span class="fu">nrow</span>(MC2_challenge_edges) <span class="sc">-</span> <span class="fu">nrow</span>(<span class="fu">unique</span>(MC2_challenge_edges)))</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co">#reformat output </span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>dup_reformat <span class="ot">&lt;-</span> <span class="fu">format</span>(dup, <span class="at">big.mark=</span><span class="st">","</span>)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co">#print output</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>dup_reformat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "155,291"</code></pre>
</div>
</div>
</section>
</section>
<section id="distribution-of-transactions" class="level1">
<h1>4. Distribution of transactions</h1>
<p>In this section, we will create plots with interactivity to study and explore the data from the knowledge graph. The plots are created with the use of <code>heatmaply</code>, <code>visNetwork</code>, and <code>igraph</code>packages.</p>
<section id="number-of-transactions-by-year-and-month" class="level2">
<h2 class="anchored" data-anchor-id="number-of-transactions-by-year-and-month">4.1 Number of Transactions by Year and Month</h2>
<p>Heatmap is created to provide a graphical representation to the transactions. It uses a system of color-coding to represent different values. <code>[RColorBrewer]</code> package is used to include sequential palettes <em>“Blues”</em> showing progress from low to high (gradient).</p>
<p>As fishing might occurs on a seasonality basis, we created an additional column called <em>month</em> before grouping it by <em>year and month</em>. To create an interactive heatmap, data frame are transpose through <code>pivot_wider</code> before converting it to matrix with the <code>as.matrix</code> function. Thereafter, <code>[heatmaply]</code> package is used.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">#aggregate to determine transactions count by year and month </span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>transaction_counts_by_year <span class="ot">&lt;-</span> MC2_challenge_edges <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month =</span> <span class="fu">round</span>(<span class="fu">month</span>(arrivaldate))) <span class="sc">%&gt;%</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, month) <span class="sc">%&gt;%</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>())</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co">#transpose df by using pivot_wider</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>pivoted_data <span class="ot">&lt;-</span> transaction_counts_by_year <span class="sc">%&gt;%</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> year, <span class="at">values_from =</span> count) <span class="sc">%&gt;%</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="co">#remove the month column</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">8</span>)</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="co">#convert pivoted_data into a matrix</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>heatmap_data <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(pivoted_data)</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a><span class="co">#create interactive heatmap without dendrogram</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a><span class="fu">heatmaply</span>(heatmap_data, <span class="at">dendrogram =</span> <span class="st">"none"</span>,</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>          <span class="at">xlab =</span> <span class="st">"Year"</span>, <span class="at">ylab =</span> <span class="st">"Month"</span>,</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>          <span class="at">main =</span> <span class="st">"Number of Transactions by Year and Month"</span>,</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>          <span class="at">scale =</span> <span class="st">"none"</span>,</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>          <span class="at">grid_color =</span> <span class="st">"white"</span>,</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>          <span class="at">grid_width =</span> <span class="fl">0.00001</span>,</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>          <span class="at">titleX =</span> <span class="cn">FALSE</span>,</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>          <span class="at">hide_colorbar =</span>  <span class="cn">FALSE</span>,</span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>          <span class="at">label_names =</span> <span class="fu">c</span>(<span class="st">"Month:"</span>, <span class="st">"Year: "</span>, <span class="st">"No. of Transactions:"</span>),</span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>          <span class="at">fontsize_row =</span> <span class="dv">10</span>, <span class="at">fontsize_col =</span> <span class="dv">10</span>,</span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>          <span class="at">colors =</span> <span class="st">"Blues"</span>,</span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>          <span class="at">labCol =</span> <span class="fu">colnames</span>(heatmap_data),</span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>          <span class="at">labRow =</span> <span class="fu">rownames</span>(heatmap_data),</span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>          <span class="at">plot_method =</span> <span class="st">"plotly"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-46a76d8d37a85410c4f0" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-46a76d8d37a85410c4f0">{"x":{"data":[{"colorbar":{"ticklen":2,"lenmode":"fraction","xanchor":"left","x":1.1,"y":0,"yanchor":"bottom","len":0.3,"thickness":30},"colorscale":[["0","rgba(247,251,255,1)"],["0.0416666666666667","rgba(239,246,252,1)"],["0.0833333333333333","rgba(230,240,250,1)"],["0.125","rgba(222,235,247,1)"],["0.166666666666667","rgba(214,230,244,1)"],["0.208333333333333","rgba(206,224,242,1)"],["0.25","rgba(198,219,239,1)"],["0.291666666666667","rgba(185,213,234,1)"],["0.333333333333333","rgba(172,208,230,1)"],["0.375","rgba(158,202,225,1)"],["0.416666666666667","rgba(142,193,221,1)"],["0.458333333333333","rgba(125,183,218,1)"],["0.5","rgba(107,174,214,1)"],["0.541666666666667","rgba(94,165,209,1)"],["0.583333333333333","rgba(81,155,203,1)"],["0.625","rgba(66,146,198,1)"],["0.666666666666667","rgba(57,135,192,1)"],["0.708333333333333","rgba(46,124,187,1)"],["0.75","rgba(33,113,181,1)"],["0.791666666666667","rgba(27,102,173,1)"],["0.833333333333333","rgba(19,91,164,1)"],["0.875","rgba(8,81,156,1)"],["0.916666666666667","rgba(9,70,139,1)"],["0.958333333333333","rgba(9,59,123,1)"],["1","rgba(8,48,107,1)"]],"showscale":true,"z":[[69088,69737,61575,61605,60394,67510,53017],[67989,71067,69048,62353,60699,65661,56243],[66761,76201,76324,64590,62169,73045,54978],[69955,75622,76863,61842,62485,69728,54384],[73039,73370,77035,71300,68459,68785,62945],[70132,71708,72825,65464,69296,68756,65069],[66806,69961,72990,62310,61645,65828,59874],[66320,71252,72710,64604,60793,63619,59962],[59944,67736,68325,59510,59654,56483,57771],[53412,63652,78775,55773,53639,52072,55030],[62051,60940,64087,62580,56742,57791,58061],[61943,72263,66766,68080,60280,64710,68518]],"x":[1,2,3,4,5,6,7],"y":[1,2,3,4,5,6,7,8,9,10,11,12],"text":[["Month:: 12<br>Year: : 2028<br>No. of Transactions:: 69088","Month:: 12<br>Year: : 2029<br>No. of Transactions:: 69737","Month:: 12<br>Year: : 2030<br>No. of Transactions:: 61575","Month:: 12<br>Year: : 2031<br>No. of Transactions:: 61605","Month:: 12<br>Year: : 2032<br>No. of Transactions:: 60394","Month:: 12<br>Year: : 2033<br>No. of Transactions:: 67510","Month:: 12<br>Year: : 2034<br>No. of Transactions:: 53017"],["Month:: 11<br>Year: : 2028<br>No. of Transactions:: 67989","Month:: 11<br>Year: : 2029<br>No. of Transactions:: 71067","Month:: 11<br>Year: : 2030<br>No. of Transactions:: 69048","Month:: 11<br>Year: : 2031<br>No. of Transactions:: 62353","Month:: 11<br>Year: : 2032<br>No. of Transactions:: 60699","Month:: 11<br>Year: : 2033<br>No. of Transactions:: 65661","Month:: 11<br>Year: : 2034<br>No. of Transactions:: 56243"],["Month:: 10<br>Year: : 2028<br>No. of Transactions:: 66761","Month:: 10<br>Year: : 2029<br>No. of Transactions:: 76201","Month:: 10<br>Year: : 2030<br>No. of Transactions:: 76324","Month:: 10<br>Year: : 2031<br>No. of Transactions:: 64590","Month:: 10<br>Year: : 2032<br>No. of Transactions:: 62169","Month:: 10<br>Year: : 2033<br>No. of Transactions:: 73045","Month:: 10<br>Year: : 2034<br>No. of Transactions:: 54978"],["Month:: 9<br>Year: : 2028<br>No. of Transactions:: 69955","Month:: 9<br>Year: : 2029<br>No. of Transactions:: 75622","Month:: 9<br>Year: : 2030<br>No. of Transactions:: 76863","Month:: 9<br>Year: : 2031<br>No. of Transactions:: 61842","Month:: 9<br>Year: : 2032<br>No. of Transactions:: 62485","Month:: 9<br>Year: : 2033<br>No. of Transactions:: 69728","Month:: 9<br>Year: : 2034<br>No. of Transactions:: 54384"],["Month:: 8<br>Year: : 2028<br>No. of Transactions:: 73039","Month:: 8<br>Year: : 2029<br>No. of Transactions:: 73370","Month:: 8<br>Year: : 2030<br>No. of Transactions:: 77035","Month:: 8<br>Year: : 2031<br>No. of Transactions:: 71300","Month:: 8<br>Year: : 2032<br>No. of Transactions:: 68459","Month:: 8<br>Year: : 2033<br>No. of Transactions:: 68785","Month:: 8<br>Year: : 2034<br>No. of Transactions:: 62945"],["Month:: 7<br>Year: : 2028<br>No. of Transactions:: 70132","Month:: 7<br>Year: : 2029<br>No. of Transactions:: 71708","Month:: 7<br>Year: : 2030<br>No. of Transactions:: 72825","Month:: 7<br>Year: : 2031<br>No. of Transactions:: 65464","Month:: 7<br>Year: : 2032<br>No. of Transactions:: 69296","Month:: 7<br>Year: : 2033<br>No. of Transactions:: 68756","Month:: 7<br>Year: : 2034<br>No. of Transactions:: 65069"],["Month:: 6<br>Year: : 2028<br>No. of Transactions:: 66806","Month:: 6<br>Year: : 2029<br>No. of Transactions:: 69961","Month:: 6<br>Year: : 2030<br>No. of Transactions:: 72990","Month:: 6<br>Year: : 2031<br>No. of Transactions:: 62310","Month:: 6<br>Year: : 2032<br>No. of Transactions:: 61645","Month:: 6<br>Year: : 2033<br>No. of Transactions:: 65828","Month:: 6<br>Year: : 2034<br>No. of Transactions:: 59874"],["Month:: 5<br>Year: : 2028<br>No. of Transactions:: 66320","Month:: 5<br>Year: : 2029<br>No. of Transactions:: 71252","Month:: 5<br>Year: : 2030<br>No. of Transactions:: 72710","Month:: 5<br>Year: : 2031<br>No. of Transactions:: 64604","Month:: 5<br>Year: : 2032<br>No. of Transactions:: 60793","Month:: 5<br>Year: : 2033<br>No. of Transactions:: 63619","Month:: 5<br>Year: : 2034<br>No. of Transactions:: 59962"],["Month:: 4<br>Year: : 2028<br>No. of Transactions:: 59944","Month:: 4<br>Year: : 2029<br>No. of Transactions:: 67736","Month:: 4<br>Year: : 2030<br>No. of Transactions:: 68325","Month:: 4<br>Year: : 2031<br>No. of Transactions:: 59510","Month:: 4<br>Year: : 2032<br>No. of Transactions:: 59654","Month:: 4<br>Year: : 2033<br>No. of Transactions:: 56483","Month:: 4<br>Year: : 2034<br>No. of Transactions:: 57771"],["Month:: 3<br>Year: : 2028<br>No. of Transactions:: 53412","Month:: 3<br>Year: : 2029<br>No. of Transactions:: 63652","Month:: 3<br>Year: : 2030<br>No. of Transactions:: 78775","Month:: 3<br>Year: : 2031<br>No. of Transactions:: 55773","Month:: 3<br>Year: : 2032<br>No. of Transactions:: 53639","Month:: 3<br>Year: : 2033<br>No. of Transactions:: 52072","Month:: 3<br>Year: : 2034<br>No. of Transactions:: 55030"],["Month:: 2<br>Year: : 2028<br>No. of Transactions:: 62051","Month:: 2<br>Year: : 2029<br>No. of Transactions:: 60940","Month:: 2<br>Year: : 2030<br>No. of Transactions:: 64087","Month:: 2<br>Year: : 2031<br>No. of Transactions:: 62580","Month:: 2<br>Year: : 2032<br>No. of Transactions:: 56742","Month:: 2<br>Year: : 2033<br>No. of Transactions:: 57791","Month:: 2<br>Year: : 2034<br>No. of Transactions:: 58061"],["Month:: 1<br>Year: : 2028<br>No. of Transactions:: 61943","Month:: 1<br>Year: : 2029<br>No. of Transactions:: 72263","Month:: 1<br>Year: : 2030<br>No. of Transactions:: 66766","Month:: 1<br>Year: : 2031<br>No. of Transactions:: 68080","Month:: 1<br>Year: : 2032<br>No. of Transactions:: 60280","Month:: 1<br>Year: : 2033<br>No. of Transactions:: 64710","Month:: 1<br>Year: : 2034<br>No. of Transactions:: 68518"]],"showlegend":false,"hoverinfo":"text","type":"heatmap","xaxis":"x","yaxis":"y","frame":null}],"layout":{"xaxis":{"domain":[0,1],"automargin":true,"tickfont":{"size":10},"tickangle":45,"tickvals":[1,2,3,4,5,6,7],"ticktext":["2028","2029","2030","2031","2032","2033","2034"],"linecolor":"#ffffff","range":[0.5,7.5],"showticklabels":true,"anchor":"y"},"yaxis":{"domain":[0,1],"automargin":true,"tickfont":{"size":10},"tickangle":0,"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12],"ticktext":["12","11","10","9","8","7","6","5","4","3","2","1"],"linecolor":"#ffffff","range":[0.5,12.5],"showticklabels":true,"title":"Month","anchor":"x"},"annotations":[],"shapes":[],"images":[],"margin":{"b":24,"l":12,"t":30,"r":null},"scene":{"zaxis":{"title":[]}},"hovermode":"closest","showlegend":false,"title":"Number of Transactions by Year and Month","legend":{"y":1,"yanchor":"top"}},"attrs":{"551523563d66":{"z":[[69088,69737,61575,61605,60394,67510,53017],[67989,71067,69048,62353,60699,65661,56243],[66761,76201,76324,64590,62169,73045,54978],[69955,75622,76863,61842,62485,69728,54384],[73039,73370,77035,71300,68459,68785,62945],[70132,71708,72825,65464,69296,68756,65069],[66806,69961,72990,62310,61645,65828,59874],[66320,71252,72710,64604,60793,63619,59962],[59944,67736,68325,59510,59654,56483,57771],[53412,63652,78775,55773,53639,52072,55030],[62051,60940,64087,62580,56742,57791,58061],[61943,72263,66766,68080,60280,64710,68518]],"x":[1,2,3,4,5,6,7],"y":[1,2,3,4,5,6,7,8,9,10,11,12],"text":[["Month:: 12<br>Year: : 2028<br>No. of Transactions:: 69088","Month:: 12<br>Year: : 2029<br>No. of Transactions:: 69737","Month:: 12<br>Year: : 2030<br>No. of Transactions:: 61575","Month:: 12<br>Year: : 2031<br>No. of Transactions:: 61605","Month:: 12<br>Year: : 2032<br>No. of Transactions:: 60394","Month:: 12<br>Year: : 2033<br>No. of Transactions:: 67510","Month:: 12<br>Year: : 2034<br>No. of Transactions:: 53017"],["Month:: 11<br>Year: : 2028<br>No. of Transactions:: 67989","Month:: 11<br>Year: : 2029<br>No. of Transactions:: 71067","Month:: 11<br>Year: : 2030<br>No. of Transactions:: 69048","Month:: 11<br>Year: : 2031<br>No. of Transactions:: 62353","Month:: 11<br>Year: : 2032<br>No. of Transactions:: 60699","Month:: 11<br>Year: : 2033<br>No. of Transactions:: 65661","Month:: 11<br>Year: : 2034<br>No. of Transactions:: 56243"],["Month:: 10<br>Year: : 2028<br>No. of Transactions:: 66761","Month:: 10<br>Year: : 2029<br>No. of Transactions:: 76201","Month:: 10<br>Year: : 2030<br>No. of Transactions:: 76324","Month:: 10<br>Year: : 2031<br>No. of Transactions:: 64590","Month:: 10<br>Year: : 2032<br>No. of Transactions:: 62169","Month:: 10<br>Year: : 2033<br>No. of Transactions:: 73045","Month:: 10<br>Year: : 2034<br>No. of Transactions:: 54978"],["Month:: 9<br>Year: : 2028<br>No. of Transactions:: 69955","Month:: 9<br>Year: : 2029<br>No. of Transactions:: 75622","Month:: 9<br>Year: : 2030<br>No. of Transactions:: 76863","Month:: 9<br>Year: : 2031<br>No. of Transactions:: 61842","Month:: 9<br>Year: : 2032<br>No. of Transactions:: 62485","Month:: 9<br>Year: : 2033<br>No. of Transactions:: 69728","Month:: 9<br>Year: : 2034<br>No. of Transactions:: 54384"],["Month:: 8<br>Year: : 2028<br>No. of Transactions:: 73039","Month:: 8<br>Year: : 2029<br>No. of Transactions:: 73370","Month:: 8<br>Year: : 2030<br>No. of Transactions:: 77035","Month:: 8<br>Year: : 2031<br>No. of Transactions:: 71300","Month:: 8<br>Year: : 2032<br>No. of Transactions:: 68459","Month:: 8<br>Year: : 2033<br>No. of Transactions:: 68785","Month:: 8<br>Year: : 2034<br>No. of Transactions:: 62945"],["Month:: 7<br>Year: : 2028<br>No. of Transactions:: 70132","Month:: 7<br>Year: : 2029<br>No. of Transactions:: 71708","Month:: 7<br>Year: : 2030<br>No. of Transactions:: 72825","Month:: 7<br>Year: : 2031<br>No. of Transactions:: 65464","Month:: 7<br>Year: : 2032<br>No. of Transactions:: 69296","Month:: 7<br>Year: : 2033<br>No. of Transactions:: 68756","Month:: 7<br>Year: : 2034<br>No. of Transactions:: 65069"],["Month:: 6<br>Year: : 2028<br>No. of Transactions:: 66806","Month:: 6<br>Year: : 2029<br>No. of Transactions:: 69961","Month:: 6<br>Year: : 2030<br>No. of Transactions:: 72990","Month:: 6<br>Year: : 2031<br>No. of Transactions:: 62310","Month:: 6<br>Year: : 2032<br>No. of Transactions:: 61645","Month:: 6<br>Year: : 2033<br>No. of Transactions:: 65828","Month:: 6<br>Year: : 2034<br>No. of Transactions:: 59874"],["Month:: 5<br>Year: : 2028<br>No. of Transactions:: 66320","Month:: 5<br>Year: : 2029<br>No. of Transactions:: 71252","Month:: 5<br>Year: : 2030<br>No. of Transactions:: 72710","Month:: 5<br>Year: : 2031<br>No. of Transactions:: 64604","Month:: 5<br>Year: : 2032<br>No. of Transactions:: 60793","Month:: 5<br>Year: : 2033<br>No. of Transactions:: 63619","Month:: 5<br>Year: : 2034<br>No. of Transactions:: 59962"],["Month:: 4<br>Year: : 2028<br>No. of Transactions:: 59944","Month:: 4<br>Year: : 2029<br>No. of Transactions:: 67736","Month:: 4<br>Year: : 2030<br>No. of Transactions:: 68325","Month:: 4<br>Year: : 2031<br>No. of Transactions:: 59510","Month:: 4<br>Year: : 2032<br>No. of Transactions:: 59654","Month:: 4<br>Year: : 2033<br>No. of Transactions:: 56483","Month:: 4<br>Year: : 2034<br>No. of Transactions:: 57771"],["Month:: 3<br>Year: : 2028<br>No. of Transactions:: 53412","Month:: 3<br>Year: : 2029<br>No. of Transactions:: 63652","Month:: 3<br>Year: : 2030<br>No. of Transactions:: 78775","Month:: 3<br>Year: : 2031<br>No. of Transactions:: 55773","Month:: 3<br>Year: : 2032<br>No. of Transactions:: 53639","Month:: 3<br>Year: : 2033<br>No. of Transactions:: 52072","Month:: 3<br>Year: : 2034<br>No. of Transactions:: 55030"],["Month:: 2<br>Year: : 2028<br>No. of Transactions:: 62051","Month:: 2<br>Year: : 2029<br>No. of Transactions:: 60940","Month:: 2<br>Year: : 2030<br>No. of Transactions:: 64087","Month:: 2<br>Year: : 2031<br>No. of Transactions:: 62580","Month:: 2<br>Year: : 2032<br>No. of Transactions:: 56742","Month:: 2<br>Year: : 2033<br>No. of Transactions:: 57791","Month:: 2<br>Year: : 2034<br>No. of Transactions:: 58061"],["Month:: 1<br>Year: : 2028<br>No. of Transactions:: 61943","Month:: 1<br>Year: : 2029<br>No. of Transactions:: 72263","Month:: 1<br>Year: : 2030<br>No. of Transactions:: 66766","Month:: 1<br>Year: : 2031<br>No. of Transactions:: 68080","Month:: 1<br>Year: : 2032<br>No. of Transactions:: 60280","Month:: 1<br>Year: : 2033<br>No. of Transactions:: 64710","Month:: 1<br>Year: : 2034<br>No. of Transactions:: 68518"]],"showlegend":false,"hoverinfo":"text","zmin":null,"zmax":null,"colors":"Blues","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"heatmap"}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"displaylogo":false,"modeBarButtonsToRemove":["sendDataToCloud","select2d","lasso2d","autoScale2d","hoverClosestCartesian","hoverCompareCartesian","sendDataToCloud"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"subplot":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Observations:</strong></p>
<ul>
<li><p>On a yearly basis, the volume of trade is decreasing at a decreasing rate. It peaks around 2028-2030 with the highest time period, occurring in 2030.</p></li>
<li><p>March seems to be a period with low transactions. However, it reaches a record in Mar 2030, with the highest volume of transactions in the seven years time period.</p></li>
</ul>
</section>
<section id="trade-flow-of-company-with-above-30-transactions-in-mar-2023" class="level2">
<h2 class="anchored" data-anchor-id="trade-flow-of-company-with-above-30-transactions-in-mar-2023">4.2 Trade flow of Company with above 30 transactions in Mar 2023</h2>
<p>Noting that Mar 2030 has a record of high volume, we would like to examine the trade flow of the Company in this time frame. We start off by creating a new edges and nodes data frame. The edges are created by aggregating it from the the master edges file <code>MC2_challenge_edges</code>.</p>
<p>We will be using the <code>[dpylr]</code> package to create <strong><code>MC2_2030_Mar_edges</code></strong>:</p>
<ul>
<li><p><code>mutate()</code>: to add additional column called <strong>month</strong></p></li>
<li><p><code>filter()</code>: is used to filter for <strong>year = 2030</strong> and <strong>month = 3</strong></p></li>
<li><p><code>group_by</code> is used to aggregate it by <strong>hscode</strong> and <strong>year</strong></p></li>
<li><p><code>summarize()</code> is used to compute the <strong>weight</strong> and <strong>median_weight</strong> of goods</p></li>
<li><p><code>filter()</code> is used to remove matching name in source and target and to filter for transactions with above 30 counts. This brings up to ~200 rows.</p></li>
<li><p><code>rename()</code> is used to change the title of the column</p></li>
</ul>
<p>Thereafter, we create <strong><code>MC2_2030_Mar_nodes</code></strong> by filtering out the distinct ID that are in the source and label column from the master ID data frame, <code>MC2_id_list_vis</code> .</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">#create edges df for transactions from Mar 2030</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>MC2_2030_Mar_edges <span class="ot">&lt;-</span> MC2_challenge_edges <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month =</span> <span class="fu">round</span>(<span class="fu">month</span>(arrivaldate))) <span class="sc">%&gt;%</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="st">"2030"</span> <span class="sc">&amp;</span> month <span class="sc">==</span><span class="st">"3"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source, target, hscode) <span class="sc">%&gt;%</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">weight =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">!=</span>target) <span class="sc">%&gt;%</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(weight <span class="sc">&gt;</span><span class="dv">29</span>) <span class="sc">%&gt;%</span> <span class="co">#keep ~200 rows </span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">from =</span> source, <span class="at">to =</span> target) <span class="sc">%&gt;%</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">3</span>) <span class="sc">%&gt;%</span> <span class="co">#relocate weight to 3rd column </span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="co">#create nodes df for transactions from Mar 2030</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>MC2_2030_Mar_nodes <span class="ot">&lt;-</span> MC2_id_list_vis <span class="sc">%&gt;%</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(id <span class="sc">%in%</span> MC2_2030_Mar_edges<span class="sc">$</span>from <span class="sc">|</span> id <span class="sc">%in%</span> MC2_2030_Mar_edges<span class="sc">$</span>to) <span class="sc">%&gt;%</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>In the code chunk below, we compute the centrality between the nodes, by using the <code>graph_from_data_frame</code> function from the <code>[igraph]</code> package. As seen from the output below, the top row represents the ID of the companies while the bottom row represents their score. Given that the result of the betweenness centrality and closeness centrality are not significant, we will would look into the degree centrality.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">#create igraph object </span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(<span class="at">d=</span>MC2_2030_Mar_edges, </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>                           <span class="at">vertices=</span>MC2_2030_Mar_nodes, <span class="at">directed=</span><span class="cn">TRUE</span>) </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co">#compute betweeness centrality </span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>betweenness_centrality <span class="ot">&lt;-</span> <span class="fu">betweenness</span>(g)</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>MC2_2030_Mar_nodes<span class="sc">$</span>betweenness_centrality <span class="ot">&lt;-</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  betweenness_centrality[<span class="fu">as.character</span>(MC2_2030_Mar_nodes<span class="sc">$</span>id)]</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="co">#output for top results</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">sort</span>(betweenness_centrality, <span class="at">decreasing=</span><span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 8  3  5  6  9 11 
 6  0  0  0  0  0 </code></pre>
</div>
</div>
<p>After the data preparation, <code>visNetwork</code> is used to plot the plot the interactive network graph with the <code>Fruchterman and Reingold</code> layout. Additionally, the graph uses three colors tone from the diverging palettes scheme to color-code the nodes based on degree centrality. It ranges from red - yellow - blue.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">#compute degree centrality </span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>degree_centrality <span class="ot">&lt;-</span> <span class="fu">degree</span>(g)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>MC2_2030_Mar_nodes<span class="sc">$</span>degree_centrality <span class="ot">&lt;-</span> </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  degree_centrality[<span class="fu">as.character</span>(MC2_2030_Mar_nodes<span class="sc">$</span>id)]</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="co">#compute closeness centrality </span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>closeness_centrality <span class="ot">&lt;-</span> <span class="fu">closeness</span>(g, <span class="at">normalized=</span><span class="cn">TRUE</span>)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>MC2_2030_Mar_nodes<span class="sc">$</span>closeness_centrality <span class="ot">&lt;-</span> </span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  closeness_centrality[<span class="fu">as.character</span>(MC2_2030_Mar_nodes<span class="sc">$</span>id)]</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="co">#add diverging palettes scheme to nodes based on degree centrality</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>colors <span class="ot">&lt;-</span> <span class="fu">colorRampPalette</span>(<span class="fu">brewer.pal</span>(<span class="dv">3</span>, <span class="st">"RdYlBu"</span>))(<span class="dv">3</span>) <span class="co"># use three colors </span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>MC2_2030_Mar_nodes <span class="ot">&lt;-</span> MC2_2030_Mar_nodes <span class="sc">%&gt;%</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">shape=</span><span class="st">"dot"</span>, <span class="at">shadow=</span><span class="cn">TRUE</span>,  </span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>         <span class="at">title=</span>trade_status, <span class="co"># hover for trade_status</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>         <span class="at">label=</span>label, <span class="co"># add labels on nodes</span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>         <span class="at">size=</span><span class="dv">20</span>, <span class="co"># set size of nodes</span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>         <span class="at">borderWidth=</span><span class="dv">1</span>, <span class="co">#set border width of nodes</span></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>         <span class="at">color.background=</span>colors[degree_centrality], <span class="co">#set color</span></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>         <span class="at">color.border=</span><span class="st">"grey"</span>) <span class="co">#set border color </span></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a><span class="co">#plot network graph </span></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(MC2_2030_Mar_nodes, MC2_2030_Mar_edges, </span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">main =</span><span class="st">"Trade flow of Company  </span></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a><span class="st">           &lt;br&gt;with above 30 transactions in Mar 2023&lt;br&gt;"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout_with_fr"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visOptions</span>(<span class="at">highlightNearest =</span> <span class="cn">TRUE</span>,</span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a>             <span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>,</span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a>             <span class="at">selectedBy =</span><span class="st">"degree_centrality"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>) <span class="sc">%&gt;%</span> <span class="co">#indicate direction </span></span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span>(<span class="at">randomSeed =</span> <span class="dv">123</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addFontAwesome</span>(<span class="at">name =</span> <span class="st">"font-awesome"</span>) <span class="sc">%&gt;%</span> <span class="co">#add icon to network </span></span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visInteraction</span>(<span class="at">dragNodes =</span> <span class="cn">FALSE</span>, <span class="at">dragView =</span> <span class="cn">TRUE</span>, </span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a>                 <span class="at">zoomView =</span> <span class="cn">TRUE</span>, <span class="at">navigationButtons =</span> <span class="cn">TRUE</span>) <span class="co">#freeze network</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-489be0af722b1cd7224e" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-489be0af722b1cd7224e">{"x":{"nodes":{"id":["3","5","6","8","9","11","18","19","21","22","24","26","34","37","39","40","44","45","49","52","53","63","77","80","82","86","95","97","103","112","120","126","133","140","141","156","162","199","206","207","211","215","218","255","268","271","272","277","307","312","318","321","326","339","363","364","365","367","376","379","381","385","394","404","418","419","439","449","481","482","488","491","538","539","555","571","576","581","583","584","590","597","608","609","616","624","629","666","782","788","818","819","855","858","866","874","895","900","903","906","910","966","974","983","995","1006","1008","1011","1015","1024","1034","1052","1098","1106","1121","1155","1178","1191","1214","1241","1242","1250","1254","1281","1283","1292","1295","1305","1366","1372","1373","1379","1391","1445","1539","1554","1557","1610","1622","1691","1721","1754","1770","1775","1786","1792","1872","1875","1910","1922","1930","1958","1963","2038","2044","2072","2073","2131","2144","2271","2292","2343","2385","2388","2429","2556","2603","2765","2805","2806","2817","2823","2948","2951","3057","3289","3299","3300","3387","3390","3782","3880","3891","4062","4072","4122","4318","4332","4344","4549","4907","5014","5015","5278","5622","6319","6860","7420","8449","8457","8580","9404","9777","9853","9864","9978","11118","12038","12095","14249","14880","14896","15017","15194","19139"],"label":["Yu gan  Sea spray GmbH Industrial","Olas del Mar Worldwide","French Crab S.p.A. Worldwide","Panope Limited Liability Company","hǎi dǎn Corporation Wharf","Sea Breezes GmbH & Co. KG Shark","Costa de la Felicidad Shipping","Mar del Este CJSC","Mandalore S.A. de C.V. Logistics","Black Sea Tuna Snapper","SeaBass &  SE Tanker","Sailors and Surfers Incorporated Enterprises","Cape of Good Hope   S.p.A.","Selous Game Reserve  S.A. de C.V.","Cape Verde Islands  Catchers GmbH & Co. KG Shipping","Dubingiai Ltd. Liability Co","Caracola del Sol Services","Scottish Oysters Tsunami Sp Line","Saltwater Supreme ОАО Forwading","Océano de Coral Corporation Express","Pao gan SE Seal","Punjab s Marine conservation","Himachal Pradesh   Plc International","SeaSpray Marine biology Ltd Distribution","Playa de la Luna Incorporated","Niger Bend   Limited Liability Company Marine ecology","Coral Cove BV Delivery","Arunachal Pradesh s Brine","-54","Sea Breeze Corporation Marine sanctuary","The Sea Turtle GmbH & Co. KG","Yu xian  SRL Industrial","ReefRider Foods Ltd. Corporation Family","Black Sea Tuna Sagl","Belgian Shrimps Ocean Corp Holdings","David Ltd. Liability Co Forwading","Kong zhong diao yu  Ges.m.b.H.","Náutica del Norte Kga Holdings","Ianira Starfish Sagl Import","Haryana s Sagl Transport","SeaTree Ltd. Liability Co Holdings","Saltwater Supreme Pelican Ltd Enterprises","Orange River   GmbH & Co. KG Shipping","Chhattisgarh   Marine ecology A/S Delivery","Saltwater Symphony S.A. de C.V.","The Salted Pearl AG Marine conservation","Pao gan LC Freight ","Jammu & Kashmir  AB Consultants","bǐ mù yú Sagl Distribution","Madagascar Coast  AG Freight ","Náutica del Sol Corporation","Kong zhong diao yu  Express Charter Boat ","Danish Shrimp Kga Solutions","Rift Valley fishery Inc","Turkish Salmon A/S Marine","suō yú Incorporated Brothers","Belgian Shrimps Corp Marine life","nián yú Ltd. Corporation","Fresh Limited Liability Company","Marine Masterminds Dry dock","Pez Dorado Plc Seaport","Zambezi Valley  Marine biology","Coastal Cruisers Pic Shipping","Uttarakhand  Market Ltd. Corporation","Aqua Aura SE Marine life","Marine Mates Cruise ship","Samaka Ltd. Corporation Dry dock","Icelandic Cod Pier ОАО Transport","Tshimbua Seagrass ОАО Holdings","Arunachal Pradesh s A/S Transport","Uttar Pradesh s CJSC","Konkan Coast  SE Marine biology","Olas del Sur Sea","Greek Sea Bass LLC","OceanicOrigin Foods Co Consulting","Selous Game Reserve  A/S","Yu gou  SRL Merchants","Coastal Castaway Coast Corporation Worldwide","Mar de la Vida LC","Dry Creek Pic Marine biology","Lake Motoso  Sagl Brothers","Greek ermen Plc Marine sanctuary","Bahía del Sol Merchants Catchers","Bahía Azul Limited Liability Company","Playa de Oro Oyj","Maharashtra   Limited Liability Company","Barents Sea Cod CJSC Export","9 Limited Liability Company","Chuan gou  Ltd Marine ecology","Maharashtra ers Incorporated Express","Kong zhong diao yu  NV Export","-751","Arunachal Pradesh s Company","Saltwater Sisters Inc Seafaring","fēi yú Sagl Holdings","Angrapa Ltd. Liability Co Export","Isla del Tesoro GmbH & Co. KG Chart","Omo River  Ocean Incorporated Marine sanctuary","Ola Azul Ges.m.b.H. Services","Kerala  Market - Ges.m.b.H. Cargo","Manipur  Market Corporation Cargo","Eirene AB Marine sanctuary","Congo Rapids   Ltd. Corporation","Náutica del Este Co Carriers","Mar de la Aventura & Incorporated Shipping","Henties Bay  GmbH & Co. KG Marine biology","Selous Game Reserve  Sp Distribution","Arena Azul S.A. de C.V.","Portuguese Tuna A/S Cargo","Whale Ltd. Liability Co","Black Sea Carp Ltd","Mar de Plata ОАО","Okavango River  NV Marine life","Haryana Sea  Mussel Inc Export","North Atlantic  BV Transit","Saltwater Sirens S.p.A. International","Océano de Coral Corporation Marine conservation","The Salty Pearl Kga","Dry Creek Company Services","Turkish Calamari Oceanography AG Import","Blue Horizon Family &","Playa del Mar Corporation","Scottish Lobster Ltd. Corporation","Isla del Mar Marine Oyj Transit","Caracola del Este Corporation Express","Playa del Tesoro BV","Náutica del Mar Barracuda","Sea Breezes S.A. de C.V. Freight ","Wave Warriors Ltd. Corporation Express","Náutica del Sol A/S","Mar de Cristalino Beach","Kambala and A/S Shipping","Chhattisgarh  GmbH & Co. KG Brothers","Bihar   CJSC & Son's","Mar del Este Sp","Mar del Oeste SRL","Atlantic Ocean Coast  CJSC","West Bengal   OJSC Transport","Oceanic Oracle GmbH & Co. KG","Turkish Mussels Freight  Coral","Tamil Nadu  Market Co","Saltwater Solutions Kga Freight ","Uttar Pradesh s Barracuda","Volta River  AB Transport","Nile   S.A. de C.V.","Mar del Caribe Company","Isla del Mar NV Forwading","Neva  Flounder GmbH Freight ","Isla del Mar Ltd. Liability Co Enterprises","Lake Kainji  S.p.A. Export","Water Wonders Tidepool Ltd Holdings","Oceanfront Oasis Company Green ","Kong zhong diao yu  Sp","Oceanic Opportunities Incorporated Line","Kilwa Coast  Incorporated & Son's","Shou gan  Oyj Overseas","Lake Tanganyika  Inc Jetty","Uttarakhand  Market S.p.A. Express","Hohhot Ges.m.b.H. Marine biology","Olas del Mar Marine","-37","Lake Nasser  LLC United","Mar del Placer Sagl Solutions","Pelagia Ltd. Corporation Family","Neptune's Realm NV Navigation","Marine Mermaids Inc Marine conservation","Mar del Caribe Sagl","zūn yú Co Marine ecology","Samaka GmbH & Co. KG Freight ","Blue Water Ventures Pic","Bahía del Este Corp Transit","Neva  Jetty GmbH Forwading","Oceanic Oracle GmbH America","Ola del Mar N.V.","Okavango Delta  Cargo ship","Diao er  Co Underwater","Olas del Mar N.V.","lǐyú GmbH & Co. KG Logistics","Olas del Sur NV","shí rén yú Seaside","Mizoram  S.A. de C.V.","Blue Nile  N.V. Marine","Madhya Pradesh  Market LLC","Costa del Viento GmbH Marine biology","Diao yu bi sai  Company","Orange River Mouth   LLC","Kafue River  Express Mussel","Marine Mavericks Corporation Express","SeaBass Company Tilapia OJSC United","Coral del Mar Logistics","BlueTide Starfish Ltd Worldwide","Playa del Tesoro OJSC","Fresh Wharf SRL Consulting","Brisa del Este ОАО","Marine Mates Salt spray LLC Freight ","AG S.A. de C.V.","Adriatic Tuna Ltd. Liability Co","-7678","Marine Mermaids Incorporated Services","Playa de la Felicidad SE","Caracola de Coral BV","Fisherman's Bounty AG Solutions","-21760","-6354","Bahía del Este Oyj Transit","Arena Azul AS Investment","guī yú AG Carriers","-2821","-703","-2023","Himachal Pradesh   S.A. de C.V. America","-12813","-2033","-2050","-8198"],"trade_status":["Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import","Export","Import & Export","Import & Export","Import","Import","Import","Import & Export","Import","Import","Import","Import"],"shpcountry":["Oceanus","Oceanus","Kondanovia","Vesperanda","Marebak","Oceanus","Alverossia","Merigrad","Osterivaria","Puerto Sol","Arreciviento","Puerto Sol","Kondanovia","Isliandor","Anderia del Mar","Kondanovia","Puerto Sol","Marebak","Puerto Sol","Vesperanda","Alverossia","Riodelsol","Isliandor","Utoporiana","Kondanovia","Quornova","Quornova","Nalakond","Nalakond","Coralada","Marebak","Sirenareef","Oceanus","Nalakond","Lumaland","Coralada","Oceanus","Merigrad","Rio Isla","Osterivaria","Gavanovia","Puerto Sol","Marebak","Oceanus","Marebak","Kondanovia","-22004","Rio Isla","Alverossia","Oceanus","Mawazam","Mawazam","Rio Isla","Puerto del Mar","Vesperanda","Marebak","Valtalmo","Merigrad","Marebak","Marebak","Alverossia","Kondanovia","Marebak","-22005","Kondanovia","Alverossia","Alverossia","Utoporiana","Utoporiana","Oceanus","Marebak",null,"Rio Isla","Khamseena","Arreciviento","Rio Isla","Marebak","Alverossia","Puerto Sol","Vesperanda","Kondanovia","Myriadonia","Marebak","Kondanovia","Arreciviento","Marebak","Marebak","Alverossia","Rio Isla","Marebak","Calabrix",null,"Marebak","Alverossia","Alverossia","Oceanus","Coralmarica","Rio Isla","Mawandia","Osterivaria","Vesperanda","Alverossia","Brindivaria","Isliandor","Marebak","Marebak","Alverossia","Marebak","Vesperanda","Utoporiana","Alverossia","Nalakond","Kondanovia","Talandria","Marebak","Marebak","Marebak","Isliandor","Vesperanda","Marebak","Osterivaria","Vesperanda","Mawazam","Marebak","Oceanus","Kondanovia","Islavaria","Isliandor","Coralada","Kondanovia","Kondanovia","Rio Isla","Islavaria","Osterivella","Utoporiana","Vesperanda","Rio Isla","Isliandor","Lumindoria","Osterivaria","Talandria","Mango del Oro",null,"Talandria","Marebak","Mawazam","Oceanus","Marebak","Merigrad","Sol y Oceana","Oceanus","Mawazam","Riodelsol","Osterivaria","Coralmarica","Mawazam","Mawazam","Alverossia","Chrysazul","Sirenareef","Azurionix","Anderia del Mar","Marebak","Osterivaria","Mawazam","Marebak","Oceanus","Marebak","Vesperanda","Marebak","Kondanovia","Quornova","Coralmarica","Marebak","Playa Solis","Solovarossa","Mawazam",null,"Vesperanda","Riodelsol","Marebak","Sol y Oceana","Merigrad","Vesperanda","Zawalinda","Alverossia","Merigrad","Alverossia","Isliandor","Mawazam","Marebak","Quirinelle","Oceanus","Isliandor","Anderia del Mar","Isla Solmar","Merigrad",null,"Marebak","Marebak","Morolaria","Marebak",null,null,"Sol y Oceana","Sol y Oceana","Helixia",null,null,null,"Sirenareef",null,null,null,null],"rcvcountry":["Oceanus","Oceanus","Utoporiana","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Anderia del Mar","Sol y Oceana","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Marebak","Coralmarica","Oceanus","Kondanovia","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Coralmarica","Oceanus","Oceanus","Oceanus","Oceanus","Coralmarica","Oceanus","Khamseena","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,"Oceanus","Coralmarica","Oceanus","Marebak","Oceanus","Oceanus",null,"Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,"Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Marebak",null,"Oceanus","Coralmarica","Maripuerto","Oceanus",null,"Coralmarica","Oceanus","Coralmarica","Oceanus","Oceanus","Oceanus","Coralmarica","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,"Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,"Oceanus","Puerto Sol","Oceanus",null,"Oceanus","Sol y Oceana","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Coralmarica","Oceanus","Coralmarica","Oceanus","Sol y Oceana",null,"Oceanus","Oceanus","Oceanus","Oceanus",null,"Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,"Sol y Oceana","Oceanus","Oceanus",null,"Oceanus",null,"Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Talandria","Luminkind","Oceanus","Oceanus",null,"Sol y Oceana","Oceanus","Oceanus","Oceanus","Oceanus","Sirenareef","Oceanus","Oceanus","Oceanus","Oceanus"],"betweenness_centrality":[0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"degree_centrality":[3,3,7,10,19,1,8,4,1,2,1,3,1,2,1,3,11,1,12,1,1,1,2,1,8,1,5,1,1,1,1,1,3,1,1,2,5,1,9,1,1,1,3,2,2,1,1,1,3,1,1,2,2,1,1,5,1,1,1,10,1,1,6,1,1,5,1,4,1,1,5,1,3,3,1,1,1,2,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,4,1,2,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,4,1,2,1,1,2,1,1,1,1,1,1,1,1,1,7,1,2,1,1,1,1,1,1,3,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,3,1,2,1,1,1,1,1,1,1,1,1,1,2,1,1,1,2,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1],"closeness_centrality":[null,null,0.00918836140888208,0.0333333333333333,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.0103092783505155,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.0188679245283019,0.0168539325842697,null,null,null,0.0201342281879195,0.0303030303030303,0.0217391304347826,0.032258064516129,null,0.0217391304347826,0.018348623853211,null,null,null,0.018018018018018,null,null,0.0172413793103448,null,0.00282485875706215,0.0113636363636364,0.0196078431372549,0.024390243902439,0.0212765957446809,0.0211267605633803,0.02,0.0294117647058824,null,0.00371747211895911,0.032258064516129,0.03125,0.0333333333333333,0.0298507462686567,null,0.0277777777777778,null,0.0117647058823529,0.0333333333333333,0.0285714285714286,null,null,0.0333333333333333,0.025,null,0.025,null,0.0208333333333333,0.0212765957446809,0.025,0.0163934426229508,0.0263157894736842,0.0087719298245614,0.0256410256410256,null,0.0294117647058824,0.0163934426229508,0.0147058823529412,null,null,0.0188679245283019,0.0212765957446809,0.0196078431372549,0.032258064516129,0.032258064516129,null,0.0277777777777778,0.0217391304347826,0.0138888888888889,0.0175438596491228,0.0222222222222222,null,0.0263157894736842,0.0161290322580645,null,0.025,0.0181818181818182,0.0238095238095238,0.0333333333333333,null,0.00549450549450549,null,0.0099009900990099,0.0303030303030303,0.0294117647058824,0.0263157894736842,0.0158730158730159,0.00934579439252336,0.00975609756097561,0.0217391304347826,0.0123456790123457,null,0.032258064516129,0.0333333333333333,null,0.0303030303030303,null,0.0136986301369863,0.00636942675159236,0.0204081632653061,null,0.0256410256410256,null,0.0253164556962025,null,null,0.0256410256410256,0.00367647058823529,0.032258064516129,null,0.0277777777777778,0.0238095238095238,0.0253164556962025,0.0266666666666667,0.0277777777777778,0.03125,null,null,0.0217391304347826,null,0.0285714285714286,0.025,0.0256410256410256,null,0.0227272727272727,0.0333333333333333,null,0.0188679245283019,0.03125,0.032258064516129,0.0277777777777778,0.0178571428571429,null,0.0212765957446809,null,0.0169491525423729,null,0.0144927536231884,0.0238095238095238,0.03125,null,0.024390243902439,null,0.0277777777777778,0.00719424460431655,0.0105633802816901,0.0333333333333333,0.024390243902439,null,0.0227272727272727,null,null,null,0.0147058823529412,0.00833333333333333,null,0.0113636363636364,0.00813008130081301,0.0222222222222222,0.0263157894736842,null,0.0238095238095238,null,0.0333333333333333,0.0307692307692308,null,null,0.0121951219512195,null,0.0185185185185185,null,null,null,0.00628930817610063,null,null,null,null],"shape":["dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot"],"shadow":[true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],"title":["Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import","Export","Import & Export","Import & Export","Import","Import","Import","Import & Export","Import","Import","Import","Import"],"size":[20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20],"borderWidth":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"color.background":["#91BFDB","#91BFDB",null,null,null,"#FC8D59",null,null,"#FC8D59","#FFFFBF","#FC8D59","#91BFDB","#FC8D59","#FFFFBF","#FC8D59","#91BFDB",null,"#FC8D59",null,"#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59",null,"#FC8D59",null,"#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#91BFDB","#FC8D59","#FC8D59","#FFFFBF",null,"#FC8D59",null,"#FC8D59","#FC8D59","#FC8D59","#91BFDB","#FFFFBF","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#91BFDB","#FC8D59","#FC8D59","#FFFFBF","#FFFFBF","#FC8D59","#FC8D59",null,"#FC8D59","#FC8D59","#FC8D59",null,"#FC8D59","#FC8D59",null,"#FC8D59","#FC8D59",null,"#FC8D59",null,"#FC8D59","#FC8D59",null,"#FC8D59","#91BFDB","#91BFDB","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59",null,"#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59",null,"#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59",null,"#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#91BFDB","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#91BFDB","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59"],"color.border":["grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey"],"x":[-0.0663843776350383,0.683141881202096,-0.666483043330835,0.526036913885466,0.175880701955486,-0.253050246162009,-0.599437082814401,0.162830955254154,-0.389551838334453,-0.699971942369975,0.871002454396023,0.613467517503651,0.267384918055963,-0.743368068044436,-0.241711106501634,-0.930131695063392,-0.721510006507898,-0.759660261170844,-0.517734691005213,0.199709354484684,-0.236815694385288,0.448532229990329,-0.310722234691493,-0.713774924109895,-0.273175856579546,-0.593967137023404,0.4319520208299,0.955894175132519,-0.153832044225856,-0.516195963453912,-0.351291858154559,0.604408289361173,-0.676330399860125,-0.855183900754993,-0.785629013216829,0.968429750463184,0.335217686113312,-0.111398317872174,0.35860634297538,0.392791650710814,0.860021225215281,-0.397931159064859,-0.958668454227298,0.885038662030189,0.596259737046677,-0.550698044904918,0.407705636880179,0.941058575039531,-0.467973587599499,0.0299211220496958,0.0425398223061411,0.425950716314978,0.680989337766518,-0.0393900232192896,-0.620068399670329,-0.768535602035191,-0.800532447588263,-0.608366661334817,-0.440465174680403,-0.329006097218079,0.267347392675263,0.133937074077695,-0.810001781125074,-0.871885181234386,0.0696993615728507,-0.858632777479876,-0.54204494386063,-0.0402680620065108,0.307392250417572,-0.0875662536756043,-0.652469392706708,0.505673754207542,0.0276032819299119,0.00989017728425456,0.561924063369912,0.795397641616269,0.330031658156583,-0.0297538167601933,0.233245176319516,0.757417259198068,-0.7312541296951,0.794568309064652,-0.382973188365791,-0.341635646957371,0.828516286032111,0.256887436612721,-0.589721808982447,0.160891133865732,-0.0743099115527242,-0.527401660069703,0.553219706815159,0.562224600058829,0.458610375739404,0.350296502819962,0.424132261787439,-0.0740908449427564,0.734069130230378,0.553352989551484,0.058425639550332,0.669412863034893,-0.535170114940705,0.244634330746519,-0.278302368413663,0.176007790648659,-0.261436378069525,-0.594028072388523,0.650346284085029,-0.320638846578874,0.794657475353203,-0.448355687481581,0.663844869239722,-0.782613435855251,-0.720354169937715,-0.385361753402547,-0.419398636539372,0.0114333885335893,-0.721859352383541,0.499312559179807,-0.735855262168525,0.0817643538639479,0.082238390980389,-0.421369033088898,0.421499167730977,-0.23896627037353,0.287022431905042,-0.527054570182238,0.251277802523845,-0.714399655990384,0.0853017258689237,0.0942110840587345,0.698033100432235,1,0.996844333869484,0.900764538722268,0.0817736033264382,-0.173837071438276,-0.977050001019456,-0.0508067383525648,-0.969305995612539,-0.840828936740228,-0.719693254055755,-0.44350890694067,-0.357889866079225,0.902713175572257,-0.661112829441477,-0.886270899111679,0.645160003076808,-0.21950596472419,0.905991769241338,0.55479542438105,0.0348829722597401,-0.509118184020173,0.145337208167694,0.298836484644077,0.932106071305381,-0.649794273750318,-0.582059441641293,0.275046688844607,0.838010167940764,0.397827734869487,0.848343952995294,0.760331520690715,-0.490055961381462,0.64237613300469,0.575486772275193,-0.136375032653744,0.255188089539319,0.330725533166109,0.418666987935878,0.372807358780883,0.0935454892293108,0.245577453859247,0.172807948384591,0.0264223985255789,0.329688939423457,-0.380651508792791,-0.934583257653984,-0.989622088688938,0.179530032632915,-0.121920534633701,-0.0850578286696602,0.155500635902632,0.0674949126587105,-0.468896913455533,0.279766905341909,-0.0640811175442932,0.00734143627895345,0.380660352372665,0.489896084117885,0.775410954058899,-0.231021195297346,0.625018911036461,0.574984040472748,0.603869010283047,0.623483993746833,-0.00833895551914865,0.158543961891665,-0.502718563450566,0.229683908113082,-0.136720042449202,0.974177454659315,-0.613841133455207,-0.288240969462474,-0.25281698068424,0.434258863196051,0.0994266557665273,-0.171714542503194,-0.424631154138695,-0.467407694836657,-1,0.671853851490681,-0.17455952939866,-0.940070216038899,-0.130752999053656,0.71791206712283],"y":[-0.762752332975109,-0.665911472646531,-0.209099691441754,0.552594494759547,0.74364117170917,0.131812843634166,0.211091805714624,-0.0122164389261029,-0.775274117182035,-0.0416031433797899,-0.379260380775284,-0.549849307060288,0.203147205507296,-0.625802138330288,-0.663660462079277,0.248130324900035,0.286314437865357,-0.27687775635957,-0.240109836895147,-0.972128877841739,0.451296701076499,-0.319193258765244,-0.924161661793358,-0.328309474514427,-0.317896598429561,-0.647963322142099,0.455762632116679,-0.282762085819688,0.889748726957017,-0.864704796401125,0.908747323069475,0.814944435167642,0.0896916123091429,0.40508552841181,-0.211013493407491,-0.0830055071722697,-0.655568244024728,-0.0672460972486988,0.614123166861986,0.545260523814984,0.485038776331446,-0.634470061015599,0.158552864213709,0.310833350943873,0.533391357489162,0.807718484291846,-0.372492708920446,0.15018514870769,-0.34566427031919,-0.931574137699931,1,0.667429884819508,-0.59108567752214,0.960506995684642,0.791182941420744,0.324866266097279,0.44999729521821,-0.716783512395792,-0.159082601619319,-0.302480660353786,-0.341158030333443,-1,0.261119481100724,-0.452124491807528,0.75675895592332,0.212736304990012,-0.163552019381739,0.816211656969666,0.848735517455454,-0.993680968630625,0.25126504067405,0.120945704273204,-0.223809951483591,-0.271036872860563,0.450829825590789,0.102456658100076,0.779572788713213,-0.0428161703165992,-0.276337823330906,-0.0493287854110465,-0.698032452204736,-0.260592754365545,0.503908095835806,0.429549494076377,-0.565041000049766,0.798213374943744,-0.355266013187894,0.833296058935799,-0.530610854172686,-0.379147475948277,-0.763506040994216,-0.828369135223285,0.0657276395434996,0.379936380431087,0.340683578153185,0.562308047367805,0.219581020104642,0.659183626066718,-0.022423816642957,0.771058039568148,-0.80127624687947,0.878351252615977,0.287671174111392,-0.0995917328285435,0.372423653249216,-0.281238007471204,0.451869611327177,-0.77914207553754,-0.508866872000593,0.626690938627193,0.562740604148787,0.0514304218656318,-0.55822067662739,0.779878453534132,-0.241122158716508,-0.778665333071957,0.563162469028188,0.356832834046315,-0.149748338670816,0.678975962431029,-0.881982873461342,0.892147006197463,-0.631243319002446,-0.941426132820553,0.71272685916533,-0.00816536314523342,-0.624383064391322,0.455284977198989,-0.589202703994234,-0.658577041450311,-0.719905519103279,0.124325584482431,-0.0178263792374544,0.377446044726527,0.824728788423229,-0.336635913835808,0.315593070461851,-0.464389981971699,-0.267550873594373,-0.50875206988752,0.132960504018212,-0.461907656013209,0.732917374628023,-0.111068908869172,0.397314032121281,0.110739659131508,-0.171824555734488,0.0689427404866083,-0.434870837306748,-0.52808069216014,0.617268478374599,0.29376660438325,0.644610067167072,0.511123162017437,0.264588846002583,0.671526653821249,0.677254022797654,-0.875176766072839,0.549707154801257,-0.723525389621382,0.0608082025855801,-0.32213179687751,0.20537385634833,-0.38267122433017,-0.178575543026831,-0.802356351521848,-0.0178794453922575,-0.561892952344322,-0.122321013677193,-0.175465993502523,0.304841551574347,-0.807623564985993,0.0742066586828358,0.336064527279064,0.164968915354509,-0.918358910002185,-0.133166664378346,-0.0988868825070848,0.895881062279068,-0.938002734653536,-0.688456835309663,0.586438626842621,0.904162095685388,-0.632067494839203,-0.735225016717346,0.17262353279561,0.177122999772648,-0.935208920245047,-0.485804050910096,-0.117522503742482,-0.593547723836288,0.0250089506071693,-0.0239631915977511,-0.325364395427794,0.629507869317111,0.717127990103128,-0.447743839239374,0.581713700382881,0.645634901802449,0.820843187835337,-0.21900180852562,0.315540995389331,-0.414282314809837,-0.222571459073095,-0.889512658333085,-0.407816418028725,0.568549266306005,-0.00909277848175005,0.0636748922177639,0.0722146367471082,0.190323927935142,0.345467971313629,-0.332942175848968,0.70486372958647,0.379718900873658]},"edges":{"from":["1006","1008","1008","1011","1024","1034","1098","1106","1106","11118","1121","1155","1191","1241","1242","1250","1254","1281","1283","1292","1292","1292","1292","1295","1305","1305","1372","1373","1373","1391","14880","1539","1554","1557","1622","1721","1721","1721","1721","1721","1721","1721","1775","1786","1792","1875","1910","1922","1922","1922","1930","1930","1958","1963","199","206","206","206","206","206","206","206","206","206","2072","2131","2144","218","218","218","2271","2343","2385","2429","255","255","2556","2603","268","268","271","2765","277","2805","2817","2948","3057","307","307","307","326","326","3289","3299","3387","364","364","364","364","364","367","376","3782","379","379","379","379","379","379","379","379","379","379","381","385","3880","3891","3891","3891","394","394","394","394","394","394","404","4062","4072","4072","418","4318","439","449","449","449","449","481","482","488","488","488","488","488","4907","5014","5278","538","538","538","555","5622","571","576","584","590","6","6","6","6","6","6","6","608","616","624","629","63","6319","6319","666","6860","782","788","8","818","8449","855","858","8580","866","900","903","903","906","910","9404","9404","966","983","9864","995","995","995","995"],"to":["49","19139","8","21","7420","8","37","1770","1770","874","49","3","95","9","312","120","162","77","9","12038","12095","18","49","162","1178","44","1366","5","5","156","895","9","82","40","15017","1052","133","133","133","22","44","44","156","44","419","11","24","26","26","4344","874","9","18","9","581","2038","207","321","321","8","8","9","9","95","2073","2823","211","14249","40","419","162","597","18","1872","1445","2044","3","19","8","8","363","162","1379","2806","2951","19","34","1754","49","49","26","5","77","3300","9","140","18","365","419","44","86","49","3","49","82","82","82","82","82","82","82","9777","9853","583","52","9","318","339","9","40","419","419","44","44","44","1691","215","162","2823","9","4122","49","103","8457","8457","9","9","3390","18","18","18","44","44","39","5015","2388","539","539","539","8","8","2292","9","4549","37","1214","141","22","45","49","49","80","609","1015","9","49","272","15194","9","9","9978","1610","49","95","819","9","491","95","97","95","8","19","581","126","112","18","44","9","19","4332","14896","53","609","974"],"weight":[72,31,55,45,38,47,40,55,58,54,42,30,182,101,33,34,38,63,107,203,35,138,34,46,36,126,31,30,98,33,159,73,157,49,39,30,55,85,172,39,44,34,39,272,31,36,42,40,40,39,33,42,36,32,53,42,140,66,57,145,34,38,33,50,46,35,40,35,36,78,39,44,30,53,34,32,32,31,48,31,31,36,46,56,47,59,69,37,72,223,36,75,42,32,41,39,45,38,58,110,354,88,36,65,58,38,133,74,58,65,36,72,31,41,47,139,50,44,190,76,85,34,32,39,36,50,30,41,41,34,44,269,30,32,94,31,32,30,33,63,37,57,34,68,120,88,36,44,59,70,108,30,35,30,40,162,276,34,49,98,124,34,40,48,47,40,97,50,40,61,38,38,114,30,39,42,34,61,30,68,38,51,43,51,31,34,31,31,36,82,35,60,42,47],"hscode":["842139","850811","850811","640399","870323","640299","390330","202300","204420","730840","841451","304750","640299","870829","306170","306170","160521","844331","760120","870323","870323","870899","870899","307320","304620","304620","870894","721012","721049","405100","220300","401110","630260","401110","630790","206100","201300","202300","206100","202300","202300","206100","202300","700721","853650","630260","160414","730419","730429","730429","760120","760120","160521","350300","611020","870899","870323","870323","870899","870324","870899","853690","870899","870899","160414","940180","160414","950691","940360","940360","901819","330790","160529","306170","841290","220300","304710","202300","520852","600122","840999","481890","721049","200599","930630","203290","940161","870830","940180","950300","870323","870893","844399","160414","850300","950300","950300","940360","940360","940360","304620","940320","304710","940320","830629","940161","940179","940320","940360","940540","950629","950699","950699","940161","540220","630900","304620","304620","304620","940360","940360","940390","640299","950300","950510","680291","960200","207140","207140","610910","640299","732111","870323","870829","870899","870829","720851","300212","630790","940179","940490","611020","620462","940130","160414","640399","842911","842952","843149","160414","280461","870323","850440","611020","870899","841810","841810","841810","841810","841810","842211","841810","852872","803100","392410","620462","160250","630221","630221","732111","304620","401110","820559","620920","220890","160540","611120","950300","620520","420212","844399","710800","710800","304610","306170","950300","420291","611020","640299","611595","852872","852852","852872","852852"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"smooth":false,"arrows":"to"},"physics":{"stabilization":false},"layout":{"randomSeed":123},"interaction":{"dragNodes":false,"dragView":true,"navigationButtons":true,"zoomView":true,"zoomSpeed":1}},"groups":null,"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":true,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false,"variable":"degree_centrality","main":"Select by degree_centrality","values":[1,2,3,4,5,6,7,8,9,10,11,12,19]},"main":{"text":"Trade flow of Company  \n           <br>with above 30 transactions in Mar 2023<br>","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;"},"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"iconsRedraw":true,"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note about visNetwork
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body" title="Note about visNetwork">
<p><code>visIgraphLayout</code> is used to compute coordinates. In the example above, the <em>Fruchterman and Reingold</em> layout is used.</p>
<p><code>visOptions</code> is an options for network visualization. We highlighted the nearest when clicking a node, a dropdown list for ID, a dropdown list by degree of centrality.</p>
<p><code>visEdges</code> is edges options. We includes arrow to indicate direction.</p>
<p><code>visLayout</code> is an layout options. <code>randomSeed</code> is included for the layout to remain the same every time.</p>
<p><code>addFontAwesome</code> is used to add icons to the network.</p>
<p><code>visInteraction</code> is used for network visualization interaction.</p>
<p>The default setting as as follows:</p>
<ol type="1">
<li><p><code>dragNodes</code> : IF TRUE, nodes can be dragged around by user.</p></li>
<li><p><code>dragView</code> : If TRUE, view can be dragged around by user.</p></li>
<li><p><code>zoomView</code> : If TRUE, user can zoom in.</p></li>
<li><p><code>navigationButtons</code>: If FALSE, navigation buttons are not on the network graph</p></li>
</ol>
</div>
</div>
</div>
<p><strong>Observations:</strong></p>
<ul>
<li><p><em>Blue nodes</em> refer to a high degree of centrality. <code>hǎi dǎn Corporation Wharf</code> has the highest degree of 19, followed by <code>Saltwater Supreme OAO forwarding</code> with a score of 12.</p></li>
<li><p>Majority of the Company have low degree of centrality and work exclusively with another counterpart. For companies in cluster, they generally have high degree of centrality and deals with companies with low degree of centrality <em>(Orange nodes).</em></p></li>
</ul>
</section>
</section>
<section id="distribution-of-median-weight" class="level1">
<h1>5. Distribution of Median Weight</h1>
<section id="by-hscode-and-year" class="level4">
<h4 class="anchored" data-anchor-id="by-hscode-and-year"><u>By hscode and year</u></h4>
<p>A <code>treemap</code> displays hierarchical data as a set of nested rectangles, where each group is represented by an area that is proportional to its value. We would like to examine the distribution by <strong>hscode</strong> and <strong>year</strong> of the <strong>median weight</strong> and <strong>transaction counts<em>(weight)</em>.</strong> Based on median weight, we will be able to identify companies who over fish.</p>
<p>As per section 3.1, the <code>[devtools]</code> package have been loaded. Thereafter, we install the package found in github <em>(#install_github)</em> and load the <code>[d3treeR]</code> package.</p>
<p><em>(Note: we are only required to install the github package once)</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install_github("timelyportfolio/d3treeR")</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(d3treeR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We will aggregate from <code>MC2_challenge_edges</code> data frame by using the <code>[dpylr]</code> package:</p>
<ul>
<li><p><code>group_by()</code> is used to aggregate it by <strong>hscode</strong> and <strong>year</strong></p></li>
<li><p><code>summarize()</code> is used to compute the <strong>weight</strong> and <strong>median_weight</strong> of goods</p></li>
<li><p><code>arrange(desc())</code> to sort weight in descending order</p></li>
<li><p><code>MC2_hscode_weight[1:100,]</code> to retrieve the first 100 rows</p></li>
</ul>
<p><em>(We are only interested in the highly utilized hscode)</em></p>
<p>We build our treemap by inputting our aggregated data frame (<code>MC2_hscode_weight</code>) into the <code>treemap()</code> function and saved it as an object called <strong>it.</strong> Thereafter, the <code>d3tree</code> function from the <code>[d3treeR]</code> package is used to build our interactive treemap.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co">#aggregate into new df by hscode and year before sorting in descending order </span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>MC2_hscode_weight <span class="ot">&lt;-</span> MC2_challenge_edges <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hscode,year) <span class="sc">%&gt;%</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">weight =</span> <span class="fu">n</span>(),</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">median_weight =</span> <span class="fu">median</span>(weightkg)) <span class="sc">%&gt;%</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(weight)) </span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="co">#retrieve the first 100 rows</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>MC2_hscode_weight <span class="ot">&lt;-</span> MC2_hscode_weight[<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>,]</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="co">#treemap saved under 'it' object </span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>it <span class="ot">&lt;-</span> <span class="fu">treemap</span>(MC2_hscode_weight,</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">index=</span><span class="fu">c</span>(<span class="st">"hscode"</span>,<span class="st">"year"</span>),</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">vSize=</span><span class="st">"weight"</span>,</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">vColor=</span><span class="st">"median_weight"</span>,</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">type =</span><span class="st">"value"</span>,</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">algorithm =</span> <span class="st">"pivotSize"</span>,</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">sortID =</span> <span class="st">"weight"</span>,</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">palette=</span><span class="st">"Blues"</span>,</span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">border.lwds =</span> <span class="st">"white"</span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>        )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">d3tree</span>(it, <span class="at">rootname =</span> <span class="st">"Distribution of hscode"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="d3tree html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-7d9627e060cb0c0ff6f5" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-7d9627e060cb0c0ff6f5">{"x":{"data":{"name":"Distribution of hscode","id":1,"size":null,"children":[{"name":"160414","color":"#08306B","h":1,"id":2,"size":83954,"stdErr":83954,"vColor":140720,"vColorValue":140720,"vSize":83954,"w":0.068801896039101,"x0":0.38417082709133,"y0":0,"children":[{"name":"2028","color":"#2676B7","h":0.157431450556257,"id":3,"size":13217,"stdErr":13217,"vColor":19900,"vColorValue":19900,"vSize":13217,"w":0.068801896039101,"x0":0.38417082709133,"y0":0.17401195892989},{"name":"2029","color":"#2676B7","h":0.17401195892989,"id":4,"size":14609,"stdErr":14609,"vColor":19730,"vColorValue":19730,"vSize":14609,"w":0.068801896039101,"x0":0.38417082709133,"y0":0},{"name":"2030","color":"#2676B7","h":0.142756747742811,"id":5,"size":11985,"stdErr":11985,"vColor":19970,"vColorValue":19970,"vSize":11985,"w":0.068801896039101,"x0":0.38417082709133,"y0":0.331443409486147},{"name":"2031","color":"#2373B6","h":0.12081616123115,"id":6,"size":10143,"stdErr":10143,"vColor":20275,"vColorValue":20275,"vSize":10143,"w":0.068801896039101,"x0":0.38417082709133,"y0":0.87918383876885},{"name":"2032","color":"#2373B6","h":0.1248779093313,"id":7,"size":10484,"stdErr":10484,"vColor":20290,"vColorValue":20290,"vSize":10484,"w":0.068801896039101,"x0":0.38417082709133,"y0":0.754305929437549},{"name":"2033","color":"#2373B6","h":0.142018248088239,"id":8,"size":11923,"stdErr":11923,"vColor":20280,"vColorValue":20280,"vSize":11923,"w":0.068801896039101,"x0":0.38417082709133,"y0":0.474200157228959},{"name":"2034","color":"#2373B6","h":0.138087524120352,"id":9,"size":11593,"stdErr":11593,"vColor":20275,"vColorValue":20275,"vSize":11593,"w":0.068801896039101,"x0":0.38417082709133,"y0":0.616218405317198}]},{"name":"304620","color":"#08306B","h":1,"id":10,"size":90198,"stdErr":90198,"vColor":145150,"vColorValue":145150,"vSize":90198,"w":0.0739189725198898,"x0":0.452972723130431,"y0":0,"children":[{"name":"2028","color":"#2676B7","h":0.143085212532429,"id":11,"size":12906,"stdErr":12906,"vColor":19785,"vColorValue":19785,"vSize":12906,"w":0.0739189725198898,"x0":0.452972723130431,"y0":0.633971928424134},{"name":"2029","color":"#2676B7","h":0.135368855185259,"id":12,"size":12210,"stdErr":12210,"vColor":19965,"vColorValue":19965,"vSize":12210,"w":0.0739189725198898,"x0":0.452972723130431,"y0":0.777057140956562},{"name":"2030","color":"#2676B7","h":0.145402337080645,"id":13,"size":13115,"stdErr":13115,"vColor":19965,"vColorValue":19965,"vSize":13115,"w":0.0739189725198898,"x0":0.452972723130431,"y0":0.488569591343489},{"name":"2031","color":"#2373B6","h":0.184948668484889,"id":14,"size":16682,"stdErr":16682,"vColor":20340,"vColorValue":20340,"vSize":16682,"w":0.0739189725198898,"x0":0.452972723130431,"y0":0},{"name":"2032","color":"#2171B5","h":0.147985542916694,"id":15,"size":13348,"stdErr":13348,"vColor":21300,"vColorValue":21300,"vSize":13348,"w":0.0739189725198898,"x0":0.452972723130431,"y0":0.340584048426794},{"name":"2033","color":"#2171B5","h":0.155635379941906,"id":16,"size":14038,"stdErr":14038,"vColor":21785,"vColorValue":21785,"vSize":14038,"w":0.0739189725198898,"x0":0.452972723130431,"y0":0.184948668484889},{"name":"2034","color":"#1F6EB3","h":0.0875740038581786,"id":17,"size":7899,"stdErr":7899,"vColor":22010,"vColorValue":22010,"vSize":7899,"w":0.0739189725198898,"x0":0.452972723130431,"y0":0.912425996141821}]},{"name":"306170","color":"#08306B","h":1,"id":18,"size":156886,"stdErr":156886,"vColor":129865,"vColorValue":129865,"vSize":156886,"w":0.128571053934183,"x0":0.871428946065817,"y0":0,"children":[{"name":"2028","color":"#2B7BBA","h":0.223474369924659,"id":19,"size":15282,"stdErr":15282,"vColor":18060,"vColorValue":18060,"vSize":15282,"w":0.0560417240793549,"x0":0.871428946065817,"y0":0.776525630075341},{"name":"2029","color":"#2B7BBA","h":0.127289879275397,"id":20,"size":19970,"stdErr":19970,"vColor":17995,"vColorValue":17995,"vSize":19970,"w":0.128571053934183,"x0":0.871428946065817,"y0":0.649235750799944},{"name":"2030","color":"#2B7BBA","h":0.223474369924659,"id":21,"size":19778,"stdErr":19778,"vColor":18090,"vColorValue":18090,"vSize":19778,"w":0.0725293298548278,"x0":0.927470670145172,"y0":0.776525630075341},{"name":"2031","color":"#2B7BBA","h":0.133001032596918,"id":22,"size":20866,"stdErr":20866,"vColor":18395,"vColorValue":18395,"vSize":20866,"w":0.128571053934183,"x0":0.871428946065817,"y0":0.516234718203026},{"name":"2032","color":"#2878B9","h":0.167580281223308,"id":23,"size":26291,"stdErr":26291,"vColor":19020,"vColorValue":19020,"vSize":26291,"w":0.128571053934183,"x0":0.871428946065817,"y0":0.348654436979718},{"name":"2033","color":"#2878B9","h":0.175732697627577,"id":24,"size":27570,"stdErr":27570,"vColor":19080,"vColorValue":19080,"vSize":27570,"w":0.128571053934183,"x0":0.871428946065817,"y0":0},{"name":"2034","color":"#2878B9","h":0.172921739352141,"id":25,"size":27129,"stdErr":27129,"vColor":19225,"vColorValue":19225,"vSize":27129,"w":0.128571053934183,"x0":0.871428946065817,"y0":0.175732697627577}]},{"name":"392410","color":"#08478E","h":0.311210380143288,"id":26,"size":29222,"stdErr":29222,"vColor":34967.5,"vColorValue":34967.5,"vSize":29222,"w":0.0769511077380632,"x0":0.100253426278003,"y0":0.688789619856712,"children":[{"name":"2029","color":"#4A97C9","h":0.149886212105148,"id":27,"size":6998,"stdErr":6998,"vColor":8872.5,"vColorValue":8872.5,"vSize":6998,"w":0.0382623171771327,"x0":0.100253426278003,"y0":0.850113787894852},{"name":"2032","color":"#4A97C9","h":0.149886212105148,"id":28,"size":7076,"stdErr":7076,"vColor":8830,"vColorValue":8830,"vSize":7076,"w":0.0386887905609304,"x0":0.138515743455136,"y0":0.850113787894852},{"name":"2033","color":"#4A97C9","h":0.0778824690297675,"id":29,"size":7313,"stdErr":7313,"vColor":8480,"vColorValue":8480,"vSize":7313,"w":0.0769511077380632,"x0":0.100253426278003,"y0":0.772231318865084},{"name":"2034","color":"#4A97C9","h":0.0834416990083726,"id":30,"size":7835,"stdErr":7835,"vColor":8785,"vColorValue":8785,"vSize":7835,"w":0.0769511077380632,"x0":0.100253426278003,"y0":0.688789619856712}]},{"name":"392690","color":"#1D6BB1","h":0.176034831405557,"id":31,"size":38064,"stdErr":38064,"vColor":23550,"vColorValue":23550,"vSize":38064,"w":0.177204534016066,"x0":0,"y0":0.512754788451155,"children":[{"name":"2028","color":"#5DA5D0","h":0.0888206119960762,"id":32,"size":7575,"stdErr":7575,"vColor":4070,"vColorValue":4070,"vSize":7575,"w":0.0698920678116646,"x0":0,"y0":0.512754788451155},{"name":"2029","color":"#5DA5D0","h":0.176034831405557,"id":33,"size":7639,"stdErr":7639,"vColor":4045,"vColorValue":4045,"vSize":7639,"w":0.03556287923888,"x0":0.105436325304641,"y0":0.512754788451155},{"name":"2030","color":"#5AA2CF","h":0.0872142194094804,"id":34,"size":7438,"stdErr":7438,"vColor":4750,"vColorValue":4750,"vSize":7438,"w":0.0698920678116646,"x0":0,"y0":0.601575400447231},{"name":"2033","color":"#5AA2CF","h":0.176034831405557,"id":35,"size":7635,"stdErr":7635,"vColor":4985,"vColorValue":4985,"vSize":7635,"w":0.0355442574929767,"x0":0.0698920678116646,"y0":0.512754788451155},{"name":"2034","color":"#57A0CE","h":0.176034831405557,"id":36,"size":7777,"stdErr":7777,"vColor":5700,"vColorValue":5700,"vSize":7777,"w":0.0362053294725448,"x0":0.140999204543521,"y0":0.512754788451155}]},{"name":"611020","color":"#1F6EB3","h":1,"id":37,"size":91495,"stdErr":91495,"vColor":22395,"vColorValue":22395,"vSize":91495,"w":0.0749818886306493,"x0":0.526891695650321,"y0":0,"children":[{"name":"2028","color":"#61A7D2","h":0.140914804087655,"id":38,"size":12893,"stdErr":12893,"vColor":2940,"vColorValue":2940,"vSize":12893,"w":0.0749818886306493,"x0":0.526891695650321,"y0":0.681053609486857},{"name":"2029","color":"#61A7D2","h":0.166632056396524,"id":39,"size":15246,"stdErr":15246,"vColor":3195,"vColorValue":3195,"vSize":15246,"w":0.0749818886306493,"x0":0.526891695650321,"y0":0.194043390349199},{"name":"2030","color":"#5DA5D0","h":0.194043390349199,"id":40,"size":17754,"stdErr":17754,"vColor":3455,"vColorValue":3455,"vSize":17754,"w":0.0749818886306493,"x0":0.526891695650321,"y0":0},{"name":"2031","color":"#61A7D2","h":0.165571889174272,"id":41,"size":15149,"stdErr":15149,"vColor":2850,"vColorValue":2850,"vSize":15149,"w":0.0749818886306493,"x0":0.526891695650321,"y0":0.360675446745724},{"name":"2032","color":"#64A9D3","h":0.154806273566862,"id":42,"size":14164,"stdErr":14164,"vColor":2025,"vColorValue":2025,"vSize":14164,"w":0.0749818886306493,"x0":0.526891695650321,"y0":0.526247335919996},{"name":"2033","color":"#5DA5D0","h":0.178031586425488,"id":43,"size":9405,"stdErr":9405,"vColor":3410,"vColorValue":3410,"vSize":9405,"w":0.0432933060698175,"x0":0.558580278211153,"y0":0.821968413574512},{"name":"2034","color":"#5AA2CF","h":0.178031586425488,"id":44,"size":6884,"stdErr":6884,"vColor":4520,"vColorValue":4520,"vSize":6884,"w":0.0316885825608319,"x0":0.526891695650321,"y0":0.821968413574512}]},{"name":"620462","color":"#1D6BB1","h":0.487245211548845,"id":45,"size":42249,"stdErr":42249,"vColor":22902.5,"vColorValue":22902.5,"vSize":42249,"w":0.0710604360189145,"x0":0.177204534016066,"y0":0.512754788451155,"children":[{"name":"2028","color":"#5DA5D0","h":0.0977281337467138,"id":46,"size":8474,"stdErr":8474,"vColor":4115,"vColorValue":4115,"vSize":8474,"w":0.0710604360189145,"x0":0.177204534016066,"y0":0.716053294668652},{"name":"2029","color":"#5AA2CF","h":0.0955023218735588,"id":47,"size":8281,"stdErr":8281,"vColor":4410,"vColorValue":4410,"vSize":8281,"w":0.0710604360189145,"x0":0.177204534016066,"y0":0.813781428415366},{"name":"2030","color":"#5AA2CF","h":0.1007843003083,"id":48,"size":8739,"stdErr":8739,"vColor":4715,"vColorValue":4715,"vSize":8739,"w":0.0710604360189145,"x0":0.177204534016066,"y0":0.615268994360353},{"name":"2031","color":"#5AA2CF","h":0.102514205909197,"id":49,"size":8889,"stdErr":8889,"vColor":4610,"vColorValue":4610,"vSize":8889,"w":0.0710604360189145,"x0":0.177204534016066,"y0":0.512754788451155},{"name":"2032","color":"#5AA2CF","h":0.0907162497110751,"id":50,"size":7866,"stdErr":7866,"vColor":5052.5,"vColorValue":5052.5,"vSize":7866,"w":0.0710604360189145,"x0":0.177204534016066,"y0":0.909283750288925}]},{"name":"640299","color":"#08306B","h":0.838573220472038,"id":51,"size":66869,"stdErr":66869,"vColor":42327.5,"vColorValue":42327.5,"vSize":66869,"w":0.0653495878606121,"x0":0.318821239230718,"y0":0.161426779527962,"children":[{"name":"2028","color":"#549ECD","h":0.125054242691638,"id":52,"size":9972,"stdErr":9972,"vColor":5980,"vColorValue":5980,"vSize":9972,"w":0.0653495878606121,"x0":0.318821239230718,"y0":0.448956229631641},{"name":"2029","color":"#57A0CE","h":0.139663969199436,"id":53,"size":11137,"stdErr":11137,"vColor":5730,"vColorValue":5730,"vSize":11137,"w":0.0653495878606121,"x0":0.318821239230718,"y0":0.309292260432205},{"name":"2030","color":"#57A0CE","h":0.147865480904243,"id":54,"size":11791,"stdErr":11791,"vColor":5810,"vColorValue":5810,"vSize":11791,"w":0.0653495878606121,"x0":0.318821239230718,"y0":0.161426779527962},{"name":"2031","color":"#549ECD","h":0.115924731191487,"id":55,"size":9244,"stdErr":9244,"vColor":6550,"vColorValue":6550,"vSize":9244,"w":0.0653495878606121,"x0":0.318821239230718,"y0":0.574010472323279},{"name":"2032","color":"#549ECD","h":0.110870894468188,"id":56,"size":8841,"stdErr":8841,"vColor":6320,"vColorValue":6320,"vSize":8841,"w":0.0653495878606121,"x0":0.318821239230718,"y0":0.689935203514766},{"name":"2033","color":"#549ECD","h":0.0936025739521047,"id":57,"size":7464,"stdErr":7464,"vColor":6180,"vColorValue":6180,"vSize":7464,"w":0.0653495878606121,"x0":0.318821239230718,"y0":0.906397426047895},{"name":"2034","color":"#57A0CE","h":0.105591328064941,"id":58,"size":8420,"stdErr":8420,"vColor":5757.5,"vColorValue":5757.5,"vSize":8420,"w":0.0653495878606121,"x0":0.318821239230718,"y0":0.800806097982954}]},{"name":"640399","color":"#084286","h":0.184584486669839,"id":59,"size":55918,"stdErr":55918,"vColor":36732.5,"vColorValue":36732.5,"vSize":55918,"w":0.248264970034981,"x0":0,"y0":0.328170301781316,"children":[{"name":"2028","color":"#549ECD","h":0.184584486669839,"id":60,"size":10681,"stdErr":10681,"vColor":5975,"vColorValue":5975,"vSize":10681,"w":0.0474215484270472,"x0":0.200843421607933,"y0":0.328170301781316},{"name":"2029","color":"#57A0CE","h":0.184584486669839,"id":61,"size":10644,"stdErr":10644,"vColor":5855,"vColorValue":5855,"vSize":10644,"w":0.0472572756724549,"x0":0.153586145935478,"y0":0.328170301781316},{"name":"2030","color":"#549ECD","h":0.184584486669839,"id":62,"size":10570,"stdErr":10570,"vColor":6300,"vColorValue":6300,"vSize":10570,"w":0.0469287301632702,"x0":0.106657415772208,"y0":0.328170301781316},{"name":"2031","color":"#509CCB","h":0.184584486669839,"id":63,"size":9362,"stdErr":9362,"vColor":7012.5,"vColorValue":7012.5,"vSize":9362,"w":0.0415654467160394,"x0":0.0650919690561689,"y0":0.328170301781316},{"name":"2032","color":"#549ECD","h":0.0946403100946172,"id":64,"size":7517,"stdErr":7517,"vColor":6630,"vColorValue":6630,"vSize":7517,"w":0.0650919690561689,"x0":0,"y0":0.328170301781316},{"name":"2034","color":"#5AA2CF","h":0.0899441765752222,"id":65,"size":7144,"stdErr":7144,"vColor":4960,"vColorValue":4960,"vSize":7144,"w":0.0650919690561689,"x0":0,"y0":0.422810611875933}]},{"name":"760120","color":"#6BAED6","h":0.180786655649943,"id":66,"size":22116,"stdErr":22116,"vColor":65,"vColorValue":65,"vSize":22116,"w":0.100253426278003,"x0":0,"y0":0.688789619856712,"children":[{"name":"2028","color":"#6BAED6","h":0.0899827156933848,"id":67,"size":6903,"stdErr":6903,"vColor":35,"vColorValue":35,"vSize":6903,"w":0.0628691792842116,"x0":0,"y0":0.77959355981327},{"name":"2033","color":"#6BAED6","h":0.0908039399565577,"id":68,"size":6966,"stdErr":6966,"vColor":15,"vColorValue":15,"vSize":6966,"w":0.0628691792842116,"x0":0,"y0":0.688789619856712},{"name":"2034","color":"#6BAED6","h":0.180786655649943,"id":69,"size":8247,"stdErr":8247,"vColor":15,"vColorValue":15,"vSize":8247,"w":0.0373842469937914,"x0":0.0628691792842116,"y0":0.688789619856712}]},{"name":"841810","color":"#1D6BB1","h":0.671829698218684,"id":70,"size":57841,"stdErr":57841,"vColor":23180,"vColorValue":23180,"vSize":57841,"w":0.0705562691957377,"x0":0.248264970034981,"y0":0.328170301781316,"children":[{"name":"2028","color":"#5AA2CF","h":0.135594818502531,"id":71,"size":11674,"stdErr":11674,"vColor":4420,"vColorValue":4420,"vSize":11674,"w":0.0705562691957377,"x0":0.248264970034981,"y0":0.483313353926109},{"name":"2029","color":"#5AA2CF","h":0.126465340402224,"id":72,"size":10888,"stdErr":10888,"vColor":4575,"vColorValue":4575,"vSize":10888,"w":0.0705562691957377,"x0":0.248264970034981,"y0":0.873534659597776},{"name":"2030","color":"#5AA2CF","h":0.155143052144793,"id":73,"size":13357,"stdErr":13357,"vColor":4710,"vColorValue":4710,"vSize":13357,"w":0.0705562691957377,"x0":0.248264970034981,"y0":0.328170301781316},{"name":"2033","color":"#5AA2CF","h":0.127336473808742,"id":74,"size":10963,"stdErr":10963,"vColor":4760,"vColorValue":4760,"vSize":10963,"w":0.0705562691957377,"x0":0.248264970034981,"y0":0.61890817242864},{"name":"2034","color":"#5AA2CF","h":0.127290013360394,"id":75,"size":10959,"stdErr":10959,"vColor":4715,"vColorValue":4715,"vSize":10959,"w":0.0705562691957377,"x0":0.248264970034981,"y0":0.746244646237382}]},{"name":"870323","color":"#08306B","h":0.166743522253354,"id":76,"size":64869,"stdErr":64869,"vColor":194517.5,"vColorValue":194517.5,"vSize":64869,"w":0.318821239230718,"x0":0,"y0":0.161426779527962,"children":[{"name":"2028","color":"#2878B9","h":0.166743522253354,"id":77,"size":10410,"stdErr":10410,"vColor":18612.5,"vColorValue":18612.5,"vSize":10410,"w":0.0511635619539653,"x0":0.213220826921122,"y0":0.161426779527962},{"name":"2029","color":"#2B7BBA","h":0.166743522253354,"id":78,"size":11076,"stdErr":11076,"vColor":17992.5,"vColorValue":17992.5,"vSize":11076,"w":0.0544368503556311,"x0":0.264384388875087,"y0":0.161426779527962},{"name":"2030","color":"#2878B9","h":0.166743522253354,"id":79,"size":9766,"stdErr":9766,"vColor":18820,"vColorValue":18820,"vSize":9766,"w":0.0479984001961984,"x0":0.165222426724923,"y0":0.161426779527962},{"name":"2031","color":"#2171B5","h":0.166743522253354,"id":80,"size":8474,"stdErr":8474,"vColor":21130,"vColorValue":21130,"vSize":8474,"w":0.0416484172908648,"x0":0.0764357075416013,"y0":0.161426779527962},{"name":"2032","color":"#08306B","h":0.166743522253354,"id":81,"size":9591,"stdErr":9591,"vColor":42210,"vColorValue":42210,"vSize":9591,"w":0.0471383018924574,"x0":0.118084124832466,"y0":0.161426779527962},{"name":"2033","color":"#084286","h":0.166743522253354,"id":82,"size":8418,"stdErr":8418,"vColor":36960,"vColorValue":36960,"vSize":8418,"w":0.0413731858336677,"x0":0.0350625217079336,"y0":0.161426779527962},{"name":"2034","color":"#083D7E","h":0.166743522253354,"id":83,"size":7134,"stdErr":7134,"vColor":38792.5,"vColorValue":38792.5,"vSize":7134,"w":0.0350625217079336,"x0":0,"y0":0.161426779527962}]},{"name":"870899","color":"#08306B","h":1,"id":84,"size":110625,"stdErr":110625,"vColor":53460,"vColorValue":53460,"vSize":110625,"w":0.0906592866251225,"x0":0.676994791137394,"y0":0,"children":[{"name":"2028","color":"#549ECD","h":0.143240677966102,"id":85,"size":15846,"stdErr":15846,"vColor":6470,"vColorValue":6470,"vSize":15846,"w":0.0906592866251225,"x0":0.676994791137394,"y0":0.461559322033899},{"name":"2029","color":"#4D99CA","h":0.162928813559322,"id":86,"size":18024,"stdErr":18024,"vColor":7737.5,"vColorValue":7737.5,"vSize":18024,"w":0.0906592866251225,"x0":0.676994791137394,"y0":0},{"name":"2030","color":"#549ECD","h":0.15265988700565,"id":87,"size":16888,"stdErr":16888,"vColor":6530,"vColorValue":6530,"vSize":16888,"w":0.0906592866251225,"x0":0.676994791137394,"y0":0.162928813559322},{"name":"2031","color":"#509CCB","h":0.130621468926554,"id":88,"size":14450,"stdErr":14450,"vColor":7180,"vColorValue":7180,"vSize":14450,"w":0.0906592866251225,"x0":0.676994791137394,"y0":0.739073446327684},{"name":"2032","color":"#509CCB","h":0.130305084745763,"id":89,"size":14415,"stdErr":14415,"vColor":7155,"vColorValue":7155,"vSize":14415,"w":0.0906592866251225,"x0":0.676994791137394,"y0":0.869694915254237},{"name":"2033","color":"#4695C7","h":0.145970621468927,"id":90,"size":16148,"stdErr":16148,"vColor":9340,"vColorValue":9340,"vSize":16148,"w":0.0906592866251225,"x0":0.676994791137394,"y0":0.315588700564972},{"name":"2034","color":"#4A97C9","h":0.134273446327683,"id":91,"size":14854,"stdErr":14854,"vColor":9047.5,"vColorValue":9047.5,"vSize":14854,"w":0.0906592866251225,"x0":0.676994791137394,"y0":0.6048}]},{"name":"940161","color":"#08458A","h":0.161426779527962,"id":92,"size":75673,"stdErr":75673,"vColor":36297.5,"vColorValue":36297.5,"vSize":75673,"w":0.38417082709133,"x0":0,"y0":0,"children":[{"name":"2028","color":"#5DA5D0","h":0.161426779527962,"id":93,"size":13215,"stdErr":13215,"vColor":3815,"vColorValue":3815,"vSize":13215,"w":0.0670888887715821,"x0":0.248140045809867,"y0":0},{"name":"2029","color":"#5DA5D0","h":0.161426779527962,"id":94,"size":13580,"stdErr":13580,"vColor":4190,"vColorValue":4190,"vSize":13580,"w":0.0689418925098816,"x0":0.315228934581449,"y0":0},{"name":"2030","color":"#5AA2CF","h":0.161426779527962,"id":95,"size":11536,"stdErr":11536,"vColor":4360,"vColorValue":4360,"vSize":11536,"w":0.0585650715754045,"x0":0.189574974234462,"y0":0},{"name":"2031","color":"#57A0CE","h":0.161426779527962,"id":96,"size":8775,"stdErr":8775,"vColor":5560,"vColorValue":5560,"vSize":8775,"w":0.0445482405577475,"x0":0.043512589153328,"y0":0},{"name":"2032","color":"#57A0CE","h":0.161426779527962,"id":97,"size":9746,"stdErr":9746,"vColor":5697.5,"vColorValue":5697.5,"vSize":9746,"w":0.0494777381738811,"x0":0.0880608297110755,"y0":0},{"name":"2033","color":"#549ECD","h":0.161426779527962,"id":98,"size":10250,"stdErr":10250,"vColor":6005,"vColorValue":6005,"vSize":10250,"w":0.0520364063495056,"x0":0.137538567884957,"y0":0},{"name":"2034","color":"#549ECD","h":0.161426779527962,"id":99,"size":8571,"stdErr":8571,"vColor":6670,"vColorValue":6670,"vSize":8571,"w":0.043512589153328,"x0":0,"y0":0}]},{"name":"940320","color":"#1866AD","h":0.130423724493346,"id":100,"size":15955,"stdErr":15955,"vColor":25005,"vColorValue":25005,"vSize":15955,"w":0.100253426278003,"x0":0,"y0":0.869576275506654,"children":[{"name":"2028","color":"#3B8BC2","h":0.130423724493346,"id":101,"size":7587,"stdErr":7587,"vColor":12995,"vColorValue":12995,"vSize":7587,"w":0.047673001891019,"x0":0,"y0":0.869576275506654},{"name":"2029","color":"#3E8EC3","h":0.130423724493346,"id":102,"size":8368,"stdErr":8368,"vColor":12010,"vColorValue":12010,"vSize":8368,"w":0.0525804243869839,"x0":0.047673001891019,"y0":0.869576275506654}]},{"name":"940360","color":"#08306B","h":1,"id":103,"size":91665,"stdErr":91665,"vColor":81515,"vColorValue":81515,"vSize":91665,"w":0.0751212068564236,"x0":0.601873584280971,"y0":0,"children":[{"name":"2028","color":"#3B8BC2","h":0.124954999181803,"id":104,"size":11454,"stdErr":11454,"vColor":12840,"vColorValue":12840,"vSize":11454,"w":0.0751212068564236,"x0":0.601873584280971,"y0":0.790028909616538},{"name":"2029","color":"#3B8BC2","h":0.17263950253641,"id":105,"size":15825,"stdErr":15825,"vColor":13400,"vColorValue":13400,"vSize":15825,"w":0.0751212068564236,"x0":0.601873584280971,"y0":0},{"name":"2030","color":"#3888C1","h":0.166595756286478,"id":106,"size":15271,"stdErr":15271,"vColor":14060,"vColorValue":14060,"vSize":15271,"w":0.0751212068564236,"x0":0.601873584280971,"y0":0.17263950253641},{"name":"2031","color":"#4090C5","h":0.159450171821306,"id":107,"size":14616,"stdErr":14616,"vColor":11680,"vColorValue":11680,"vSize":14616,"w":0.0751212068564236,"x0":0.601873584280971,"y0":0.50334369715813},{"name":"2032","color":"#4393C6","h":0.164108438335243,"id":108,"size":15043,"stdErr":15043,"vColor":10505,"vColorValue":10505,"vSize":15043,"w":0.0751212068564236,"x0":0.601873584280971,"y0":0.339235258822888},{"name":"2033","color":"#4393C6","h":0.127235040637102,"id":109,"size":11663,"stdErr":11663,"vColor":10185,"vColorValue":10185,"vSize":11663,"w":0.0751212068564236,"x0":0.601873584280971,"y0":0.662793868979436},{"name":"2034","color":"#4A97C9","h":0.0850160912016581,"id":110,"size":7793,"stdErr":7793,"vColor":8845,"vColorValue":8845,"vSize":7793,"w":0.0751212068564236,"x0":0.601873584280971,"y0":0.914983908798342}]},{"name":"950300","color":"#083D7E","h":1,"id":111,"size":126629,"stdErr":126629,"vColor":38200,"vColorValue":38200,"vSize":126629,"w":0.103774868303301,"x0":0.767654077762517,"y0":0,"children":[{"name":"2028","color":"#57A0CE","h":0.130752039422249,"id":112,"size":16557,"stdErr":16557,"vColor":5580,"vColorValue":5580,"vSize":16557,"w":0.103774868303301,"x0":0.767654077762517,"y0":0.532942690852806},{"name":"2029","color":"#57A0CE","h":0.152690142068562,"id":113,"size":19335,"stdErr":19335,"vColor":5515,"vColorValue":5515,"vSize":19335,"w":0.103774868303301,"x0":0.767654077762517,"y0":0.380252548784244},{"name":"2030","color":"#549ECD","h":0.203855356987736,"id":114,"size":25814,"stdErr":25814,"vColor":6305,"vColorValue":6305,"vSize":25814,"w":0.103774868303301,"x0":0.767654077762517,"y0":0},{"name":"2031","color":"#57A0CE","h":0.211744545088408,"id":115,"size":14416,"stdErr":14416,"vColor":5725,"vColorValue":5725,"vSize":14416,"w":0.0557945213687533,"x0":0.815634424697064,"y0":0.788255454911592},{"name":"2032","color":"#57A0CE","h":0.211744545088408,"id":116,"size":12397,"stdErr":12397,"vColor":5675,"vColorValue":5675,"vSize":12397,"w":0.0479803469345473,"x0":0.767654077762517,"y0":0.788255454911592},{"name":"2033","color":"#5AA2CF","h":0.176397191796508,"id":117,"size":22337,"stdErr":22337,"vColor":4585,"vColorValue":4585,"vSize":22337,"w":0.103774868303301,"x0":0.767654077762517,"y0":0.203855356987736},{"name":"2034","color":"#5AA2CF","h":0.124560724636537,"id":118,"size":15773,"stdErr":15773,"vColor":4815,"vColorValue":4815,"vSize":15773,"w":0.103774868303301,"x0":0.767654077762517,"y0":0.663694730275055}]}]},"meta":{"type":"value","vSize":"weight","vColor":"median_weight","stdErr":"weight","algorithm":"pivotSize","vpCoorX":[0.0164041994750656,0.983595800524934],"vpCoorY":[0.143070866141732,0.925262467191601],"aspRatio":2.47302988104626,"range":[0,40000],"mapping":[null,null,null],"draw":true},"options":{"id":"id","celltext":"name","valueField":"size"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note about Treemap
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body" title="Note about Treemap">
<p><code>index</code> vector shows the hscode code followed by the year.</p>
<p><code>vSize</code> vector shows the distribution by weight(the size of the rectangles)</p>
<p><code>vColor</code> vector shows the different intensity by median_weight</p>
<p><code>type</code> vector reflects the value type treemap</p>
<p><code>algorithm</code> vector to pivot by size</p>
<p><code>sortID</code> vector to determined the order from top left to bottom right</p>
<p><code>palette</code> vector paints the treemap using <code>[rColorBrewer]</code> package</p>
<p><code>border.lwds</code> vector paints the border width to white</p>
</div>
</div>
</div>
<p><strong>Observations:</strong></p>
<ul>
<li><p>As observed from top left to bottom right, <code>hscode '306170'</code> has the highest transactions count. Likewise, the median weight is more left-skewed.</p></li>
<li><p>As observed from the treemap, <code>hscode '870323</code> has the darkest gradient in 2032. With reference to section 4.1, the transaction counts did not increased. Thus, it would be ideal to observe the transactions of hscode 870323 in year 2032.</p></li>
<li><p>HS code is a hierarchical model. As iterated, it composes of six digits and could be broken down into chapter/heading/subheading with two digits each. As observed, hscode that starts with <code>30</code> occupies a higher weightage as well. From the graph above, hscode <code>306170</code> and <code>304620</code> are rank in the first and sixth position.</p></li>
</ul>
</section>
<section id="trade-flow-for-hscode-306170" class="level3">
<h3 class="anchored" data-anchor-id="trade-flow-for-hscode-306170">5.1 Trade flow for Hscode 306170</h3>
<p>In this section, we will be looking into the trade flow of hscode 306170 with the use of Eigenvector centrality. It measures the importance or influence of a node based on its connections to other highly central nodes.</p>
<p>After using similar approach as section 4.2, we retrieve the top 300 rows and create a color scale <code>RdYlBu</code> based on the range of Eigenvector. The <em>blue nodes</em> below represents key players or market leader in the network. Moreover, a high Eigenvector centrality indicates an important/influential connection to other nodes.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co">#create edges df for transactions for hscode 306170</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>MC2_306170_edges <span class="ot">&lt;-</span> MC2_challenge_edges <span class="sc">%&gt;%</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hscode <span class="sc">==</span><span class="st">"306170"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source, target) <span class="sc">%&gt;%</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">weight =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">!=</span>target) <span class="sc">%&gt;%</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(weight <span class="sc">&gt;</span><span class="dv">103</span>) <span class="sc">%&gt;%</span> <span class="co">#keep ~300 rows </span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">from =</span> source, <span class="at">to =</span> target) <span class="sc">%&gt;%</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="co">#create nodes df for transactions from Mar 2030</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>MC2_306170_nodes <span class="ot">&lt;-</span> MC2_id_list_vis <span class="sc">%&gt;%</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(id <span class="sc">%in%</span> MC2_306170_edges<span class="sc">$</span>from <span class="sc">|</span> id <span class="sc">%in%</span> MC2_306170_edges<span class="sc">$</span>to) <span class="sc">%&gt;%</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() </span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a><span class="co">#create igraph object </span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>g_hscode <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(<span class="at">d=</span>MC2_306170_edges, </span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>                           <span class="at">vertices=</span>MC2_306170_nodes, <span class="at">directed=</span><span class="cn">TRUE</span>) </span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a><span class="co">#compute eigen centrality </span></span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>ev_centrality <span class="ot">&lt;-</span> <span class="fu">eigen_centrality</span>(g_hscode)<span class="sc">$</span>vector</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>MC2_306170_nodes<span class="sc">$</span>eigen_centrality <span class="ot">&lt;-</span> ev_centrality</span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a><span class="co"># define color palette</span></span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>num_color_groups <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>color_palette <span class="ot">&lt;-</span> <span class="fu">colorRampPalette</span>(brewer.pal</span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>                                  (num_color_groups, <span class="st">"RdYlBu"</span>))(num_color_groups)</span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a><span class="co"># create a color scale based on the eigenvector values range </span></span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a>min_centrality <span class="ot">&lt;-</span> <span class="fu">min</span>(MC2_306170_nodes<span class="sc">$</span>eigen_centrality, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a>max_centrality <span class="ot">&lt;-</span> <span class="fu">max</span>(MC2_306170_nodes<span class="sc">$</span>eigen_centrality, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a>color_scale <span class="ot">&lt;-</span> scales<span class="sc">::</span><span class="fu">rescale</span>(MC2_306170_nodes<span class="sc">$</span>eigen_centrality, <span class="at">to =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>))</span>
<span id="cb23-33"><a href="#cb23-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-34"><a href="#cb23-34" aria-hidden="true" tabindex="-1"></a><span class="co"># assign colors to the nodes based on eigenvector centrality</span></span>
<span id="cb23-35"><a href="#cb23-35" aria-hidden="true" tabindex="-1"></a>MC2_306170_nodes<span class="sc">$</span>color <span class="ot">&lt;-</span> color_palette[<span class="fu">cut</span>(color_scale, <span class="at">breaks =</span> num_color_groups)]</span>
<span id="cb23-36"><a href="#cb23-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-37"><a href="#cb23-37" aria-hidden="true" tabindex="-1"></a><span class="co">#add diverging palettes scheme to nodes based on degree centrality</span></span>
<span id="cb23-38"><a href="#cb23-38" aria-hidden="true" tabindex="-1"></a>MC2_306170_nodes <span class="ot">&lt;-</span> MC2_306170_nodes <span class="sc">%&gt;%</span></span>
<span id="cb23-39"><a href="#cb23-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">shape=</span><span class="st">"dot"</span>, <span class="at">shadow=</span><span class="cn">TRUE</span>,  </span>
<span id="cb23-40"><a href="#cb23-40" aria-hidden="true" tabindex="-1"></a>         <span class="at">title=</span>trade_status, <span class="co"># hover for trade_status</span></span>
<span id="cb23-41"><a href="#cb23-41" aria-hidden="true" tabindex="-1"></a>         <span class="at">label=</span>label, <span class="co"># add labels on nodes</span></span>
<span id="cb23-42"><a href="#cb23-42" aria-hidden="true" tabindex="-1"></a>         <span class="at">size=</span><span class="dv">20</span>, <span class="co"># set size of nodes</span></span>
<span id="cb23-43"><a href="#cb23-43" aria-hidden="true" tabindex="-1"></a>         <span class="at">borderWidth=</span><span class="dv">1</span>, <span class="co">#set border width of nodes</span></span>
<span id="cb23-44"><a href="#cb23-44" aria-hidden="true" tabindex="-1"></a>         <span class="at">color.background=</span>colors[eigen_centrality], <span class="co">#set color for nodes</span></span>
<span id="cb23-45"><a href="#cb23-45" aria-hidden="true" tabindex="-1"></a>         <span class="at">color.border=</span><span class="st">"grey"</span>) <span class="co">#set color for border</span></span>
<span id="cb23-46"><a href="#cb23-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-47"><a href="#cb23-47" aria-hidden="true" tabindex="-1"></a><span class="co">#plot network graph </span></span>
<span id="cb23-48"><a href="#cb23-48" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(MC2_306170_nodes, MC2_306170_edges, </span>
<span id="cb23-49"><a href="#cb23-49" aria-hidden="true" tabindex="-1"></a><span class="at">main =</span><span class="st">"Trade flow of top 300 transactions</span></span>
<span id="cb23-50"><a href="#cb23-50" aria-hidden="true" tabindex="-1"></a><span class="st">           &lt;br&gt; for hscode 361070&lt;br&gt;"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-51"><a href="#cb23-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout_with_fr"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-52"><a href="#cb23-52" aria-hidden="true" tabindex="-1"></a>    <span class="fu">visOptions</span>(<span class="at">highlightNearest =</span> <span class="cn">TRUE</span>,</span>
<span id="cb23-53"><a href="#cb23-53" aria-hidden="true" tabindex="-1"></a>             <span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-54"><a href="#cb23-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>) <span class="sc">%&gt;%</span> <span class="co">#indicate direction </span></span>
<span id="cb23-55"><a href="#cb23-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span>(<span class="at">randomSeed =</span> <span class="dv">123</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-56"><a href="#cb23-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addFontAwesome</span>(<span class="at">name =</span> <span class="st">"font-awesome"</span>) <span class="sc">%&gt;%</span> <span class="co">#add icon to network </span></span>
<span id="cb23-57"><a href="#cb23-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visInteraction</span>(<span class="at">dragNodes =</span> <span class="cn">FALSE</span>, <span class="at">dragView =</span> <span class="cn">TRUE</span>, </span>
<span id="cb23-58"><a href="#cb23-58" aria-hidden="true" tabindex="-1"></a>                 <span class="at">zoomView =</span> <span class="cn">TRUE</span>, <span class="at">navigationButtons =</span> <span class="cn">TRUE</span>) <span class="co">#freeze network</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-05f52e33003591ef97e3" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-05f52e33003591ef97e3">{"x":{"nodes":{"id":["9","18","19","22","24","25","26","37","40","44","49","52","53","63","65","90","94","96","97","112","120","126","130","154","155","156","162","172","193","215","249","272","282","286","312","318","320","339","357","363","422","503","504","508","524","529","539","540","581","588","597","600","606","626","641","663","719","727","778","783","840","877","895","909","910","1007","1027","1131","1132","1145","1171","1217","1233","1234","1238","1240","1242","1249","1250","1251","1255","1256","1257","1258","1261","1298","1321","1329","1332","1336","1337","1339","1342","1349","1350","1351","1356","1364","1377","1396","1408","1422","1573","1601","1650","1659","1692","1714","1736","1872","1873","1958","1959","2082","2096","2134","2136","2137","2234","2245","2249","2339","2341","2351","2392","2401","2429","2879","2897","2997","3222","3226","3233","3242","3284","3323","3504","3513","3750","3793","3896","3903","3923","4048","4055","4083","4103","4105","4106","4227","4443","4512","4549","5034","5130","5172","5240","5243","5283","5505","6094","6207","6554","6675","6789","7803","7805","7883","8124","8481","8502","8582","8923","8975","9051","9966","10339","10555","11820","13401","13760","14420","15989","16103","18273","19097","19890","19921","22395","23985","25269","26580"],"label":["hǎi dǎn Corporation Wharf","Costa de la Felicidad Shipping","Mar del Este CJSC","Black Sea Tuna Snapper","SeaBass &  SE Tanker","Caracola Azul Ltd. Corporation","Sailors and Surfers Incorporated Enterprises","Selous Game Reserve  S.A. de C.V.","Dubingiai Ltd. Liability Co","Caracola del Sol Services","Saltwater Supreme ОАО Forwading","Océano de Coral Corporation Express","Pao gan SE Seal","Punjab s Marine conservation","Tripura  Pier N.V. Solutions","Selkie Ltd. Liability Co","Caracola Azul Oyj &","Playa de Arena Submarine S.A. de C.V. Marine","Arunachal Pradesh s Brine","Sea Breeze Corporation Marine sanctuary","The Sea Turtle GmbH & Co. KG","Yu xian  SRL Industrial","Great Ruaha River  GmbH","Tamil Nadu   Corporation Compass","Estrella del Sol Buoy","David Ltd. Liability Co Forwading","Kong zhong diao yu  Ges.m.b.H.","Assam  Market Cargo ship Company Marine conservation","Isla del Este SE","Saltwater Supreme Pelican Ltd Enterprises","Mar de Plata BV Marine","Pao gan LC Freight ","3 Oceanography ОАО Marine life","Mar del Paraíso Corporation Logistics","Madagascar Coast  AG Freight ","Náutica del Sol Corporation","3 Trawler Corp Distribution","Rift Valley fishery Inc","Ocean Outfitters Ltd. Corporation","Turkish Salmon A/S Marine","Ancla de Oro N.V.","Surf and Sea Marine","AquaDelight N.V. Coral Reef","páng xiè S.A. de C.V. Line","Ancla Marina AB Holdings","Costa del Mar Ges.m.b.H. Marine biology","Greek Sea Bass LLC","Daniel Ferry N.V. Transit","Coastal Castaway Coast Corporation Worldwide","Marine Masterminds SE Saltwater","Greek ermen Plc Marine sanctuary","Dutch Mussels GmbH Carriers","Caracola del Este Ltd. Liability Co","Maharashtra  Ltd. Liability Co Shipping","Mar de la Felicidad GmbH Worldwide","Chituku Ltd. Liability Co Transport","Mar del Placer Manatee","-41","Orange River   Incorporated Shipping","Punjab s A/S Marine","Océano de Coral NV and Son's","hǎi mǎ Sagl Express","Isla del Tesoro GmbH & Co. KG Chart","Dutch Eel AB Holdings","Manipur  Market Corporation Cargo","Náutica del Sol Brothers","Estrella de la Costa SRL","Tripura  Market S.A. de C.V.","Himachal Pradesh  BV Holdings","Playa de Arena OJSC Express","Italian Sardines Ltd. Liability Co","Arena del Sol Pic","Spanish Shrimp A/S Marine","Ob River AS Consulting","Samaka Ltd. Liability Co Distribution","CoralCove Foods AG Marine conservation","Blue Horizon Family &","Aqua Adventures Carriers Seabed","Playa del Mar Corporation","Brisa del Este BV","Wave Watchers Ltd. Liability Co","Viento y Mar BV","French  Seabed S.p.A. Forwading","Adriatic Mackerel Ges.m.b.H. Family","Selous Game Reserve  AB","Adriatic Catch Ltd. Liability Co Transportation","jīn qiāng yú Express","The Sea Turtle Plc Consultants","Ocean Emporium Pic Holdings","Turkish Sword NV Ocean","Rybachit Sagl and Son's","Uttar Pradesh Sea  A/S Express","Lake Turkana  Charter Boat  NV Marine","Perla del Mar BV","Aqua Azul LC International","-5669","Balkan Cat ОАО Transport","Isla del Tesoro SE Transport","Rift Valley fishery Sagl","The Salty Dog LLC","Lake Tana  & Son's","suō yú GmbH & Co. KG Freight ","Water Wonders AG Transport","Sahara  LLC Co Consultants","Costa del Viento A/S Freight ","Richard S.A. de C.V. Solutions","Mar de la Felicidad NV","Mar de la Vida S.p.A.","Shou gan  Limited Liability Company Distribution","Isla del Mar NV Forwading","Viento Azul N.V. Distribution","Oceanfront Oasis Company Green ","Perla del Mar Deep-sea","Ltd. Corporation Ltd. Liability Co","Chuan gou  N.V. Delivery","Adriatic Tuna AS Solutions","Oceanfront Oases Co Shipping","hǎi dǎn AG Express","SeaBass  Ltd. Liability Co Consulting","East Ltd Marine life","1 Ltd. Liability Co Cargo","Michael Ltd. Corporation Seal","The Sea Lion Corporation","Arena del Mar Marine Marine biology","Baltic Catch SE Solutions","Baltic Flounder Salt spray LLC Marine conservation","Neptune's Realm NV Navigation","Deep Blue Cargo ship","Mar del Oeste Cruise ship","Danish Plaice BV Investment","Haryana s Plc Transit","guī yú Ltd. Corporation","-1539","Amerigo Dockyard S.p.A. Distribution","Costa de Coral Marine biology SE Consulting","Spanish Anchovy SE Marine","Coral del Sur Sagl Family","Danish Plaice Ltd. Liability Co Logistics","Bahía del Sol Kga Consulting","South Ltd. Liability Co","Arunachal Pradesh s Plc","Adriatic Catch Ges.m.b.H. Marine biology","shí rén yú Marine conservation","Ocean Emporium A/S &","Rufiji River  Ges.m.b.H. Family","Marmooska Ltd. Liability Co","-753","Dolphin Dreams AG Forwading","Lake Chad  Ltd. Corporation","Malabar Sea Catch Port","Southeast Fish Oyj Logistics","Mar del Este SRL","Coral del Mar Logistics","Sea Striders Kelp BV Solutions","Náutica del Norte Marina CJSC Marine ecology","Norwegian Haddock Ltd. Corporation Logistics","Estrella de Mar Sagl","Spanish Shrimp Incorporated Carriers","Mar de la Costa Sagl","Mar de la Luz Ltd. Liability Co","Caracola Azul Ltd Solutions","Mar de la Felicidad BV","Bay of Bengal's Corp","Donald Sp & Son's","Ethiopian Highlands  Incorporated Marine biology","Tamil Nadu s Barge","Noord Limited Liability Company Line","Irish Mackerel Ltd. Corporation","Rift Valley fishery GmbH & Co. KG Cargo","Black Sea Anchovy Pic Wharf","Balkan Anchovy Ltd. Corporation","Ola de la Costa Ges.m.b.H.","Seafarer's Club GmbH & Co. KG Overseas","Edward Tsunami Ges.m.b.H. Family","Tristen Jetty Company Solutions","-1363","Lake Chad  Company Ray","qīng yú Ltd. Corporation","Lake Victoria Catch  LLC","-430","Mar de la Luna S.p.A.","Baltic Catch Oyj Shipping","-295","TideTable Limited Liability Company Wave","Caracola del Este Incorporated","Seaside Strolls A/S Marine ecology","Marine Muse Ltd. Corporation Catfish","-5897","Sea Striders ОАО Industrial","Spanish Anchovy OJSC International","Marit GmbH & Co. KG","-6070"],"trade_status":["Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Export","Import & Export","Import & Export","Export","Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Export","Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Export","Export","Export","Import & Export","Import","Import & Export","Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Export","Export","Export","Import & Export","Export","Import & Export","Import & Export","Export","Export","Export","Import & Export","Import & Export","Import & Export","Export","Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Export","Export","Import","Import & Export","Import & Export","Import","Import","Export","Export","Import & Export","Import","Import & Export","Export","Export","Import"],"shpcountry":["Marebak","Alverossia","Merigrad","Puerto Sol","Arreciviento","Lumaland","Puerto Sol","Isliandor","Kondanovia","Puerto Sol","Puerto Sol","Vesperanda","Alverossia","Riodelsol","Orvietea","Lumaland","Playa Solis","Vesperanda","Nalakond","Coralada","Marebak","Sirenareef","Puerto Sol","Utoporiana","Merigrad","Coralada","Oceanus","Faraluna","Helixia","Puerto Sol","Oceanus","-22004","Faraluna","Marebak","Oceanus","Mawazam","Brindisola","Puerto del Mar","Mawazam","Vesperanda","Merigrad","Arreciviento","Coralmarica","Riodelsol","Kondanovia","Mawazam","Khamseena","Osterivaria","Alverossia","Vesperanda","Myriadonia","Coralmarica","Brindivaria","Alverossia","Coralmarica","Marebak","Puerto del Mar","Isliandor","Merigrad","Nalaloria","Arreciviento","Rio Isla","Coralmarica","Vesperanda","Vesperanda","Mawazam","Mawazam","Vesperanda","Merigrad","Vesperanda","Vesperanda","Merigrad","Marebak","Vesperanda","Arreciviento","Thessalandia","Osterivaria","Mawazam","Vesperanda",null,"Merigrad","Arreciviento","Osterivaria","Sol y Oceana","Mawazam","Vesperanda","Oceanus","Puerto del Mar","Vesperanda","Mawazam","Sol y Oceana","Merigrad","Alverossia","Arreciviento","Arreciviento",null,"Vesperanda","Osterivaria","Osterivaria","Vesperanda","Osterivaria","Mawazam","Rio Isla","Mango del Oro","Mawazam","Arreciviento","Vesperanda","Vesperanda","Arreciviento","Oceanus","Vesperanda","Mawazam","Osterivaria","Marebak","Merigrad","Mawazam","Vesperanda","Polarisdom","Mawandia","Coralmarica","Mawandia","Mawazam","Mawazam","Coral Solis","Marebak","Merigrad","Mawazam","Thessalandia","Arreciviento","Vesperanda","Marebak","Oceanus",null,"Polarinda","Vesperanda","Vesperanda","Solovarossa","Arreciviento","Vesperanda","Arreciviento","Osterivaria","Isliandor","Merigrad","Merigrad","Vesperanda","Vesperanda",null,"Marebak","Vesperanda","Lumaland",null,"Mawazam","Mawazam","Puerto del Mar","Arreciviento","Vesperanda","Rio Isla","Osterivaria","Arreciviento","Vesperanda","Vesperanda","Mawazam","Osterivaria","Merigrad","Osterivaria","Vesperanda","Isliandor","Osterivaria","Merigrad","Vesperanda","Faraluna","Merigrad","Mawazam","Osterivaria","Merigrad",null,"Jiraputra","Mawazam","Anderia del Mar",null,"Vesperanda","Solovarossa",null,null,"Vesperanda","Vesperanda","Osterivaria",null,"Marebak","Osterivaria","Vesperanda",null],"rcvcountry":["Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Riodelsol","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Utoporiana","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,"Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Coralmarica","Oceanus","Oceanus","Oceanus","Oceanus","Mawazam","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,null,"Oceanus","Oceanus",null,null,"Coralmarica","Oceanus","Merigrad","Oceanus","Luminkind","Oceanus","Coralmarica","Coralmarica","Coral Solis",null,"Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Puerto Sol","Oceanus","Oceanus","Oceanus",null,"Oceanus","Oceanus","Oceanus",null,"Oceanus","Oceanus",null,"Oceanus","Marebak",null,"Oceanus","Oceanus","Nyxonix","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,"Oceanus","Oceanus","Oceanus",null,null,"Oceanus","Oceanus","Jiraputra",null,"Oceanus","Oceanus",null,null,null,"Oceanus","Oceanus","Oceanus",null,"Oceanus","Oceanus",null,"Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,"Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Puerto del Mar","Oceanus",null,"Oceanus",null,null,null,"Oceanus",null,"Oceanus","Oceanus",null,null,null,"Oceanus","Oceanus","Oceanus",null,null,"Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,null,"Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,null,"Oceanus","Oceanus","Oceanus",null,null,"Oceanus"],"eigen_centrality":[0.0935605711445578,0.133237585059867,1,0.000213568407214154,0.00375144646636973,0.0167455085157007,0,0.0601772121844172,0.000370155795964512,0.315755974186136,7.33362054889958e-06,3.53951025049233e-05,0.0521525264280972,0.0070623449165392,0.00744935342979095,0,0.00978766866671768,0.000648848738782362,0.0146980243715743,0.673740456030995,0.0205190619362192,4.15582113097252e-18,0.0122773563091496,0.0235351073974257,0.00919406459032245,0.000573739707049394,0.0138760367336577,0.0207946722221889,0.00340973386813655,0.0056000197544278,0,0.0290670742692021,0.000430983190428375,0.0235985702723169,0.197301165634203,9.6602451248087e-05,1.89556710097452e-05,0,5.63474758043198e-05,0.0120774908135988,0.00317710457411915,0.0253726258969153,0.0880394698730408,0.00220291922396567,0.00189323305504788,0.00619325839908166,0.00305862699814662,0.121251442161551,0.0169612482377926,0.0242963649430805,0.000111902825271752,0.000148650766512985,0.128490554232421,0.000441348431282545,0.000616878030887695,0.000149709155457865,0.0821403030479874,0.00278002882961741,0.0759061588921292,0,0.00382750954582774,0.00702456451029634,0.0227006841623457,0.0148548114506522,0.646502498878287,0.00512986563039864,0.0104561474374421,0.116122134235359,0.00330010872841349,0.199550750338199,0.000754492842013635,0.0102496734039958,0.0760292069787595,0.0121451609513101,0,0.0556488109863821,0.365951483270755,0.0389957646839135,0.108060360473399,0.00937941688477209,0.813648852932373,0,0.0120444982103345,0.0136806571971007,0.00415649967323367,0.0348178871617611,0.023345054613068,0.000797507681840277,0.103435419829813,0,0,0.00326458127997528,0.00188945717589002,0.00506616749746847,0.0224009361572047,0.00075205345499088,0.115309010994916,0.000827212112769979,0.00500299633610033,0.000138591272713733,0.0816618584661616,0,0,4.47890633593065e-05,0.00337949498084693,0.00219230531444446,0,0.164499060602759,0,0,0.00927226487953684,0.0125545367151331,0.0194024990649885,0.00588645276142047,0.325313995036593,0.0287131261796869,0.0171332609763745,0.00946171013719022,0.00331124921549675,0.00216910062998104,0.00384740515121318,0.0663677005054556,0.000704422814780685,0.000939374808688991,0.00447310708247732,0.00877540531164025,0,0.00394811289994758,0.0683002205894256,0.0170566453595959,0.000573060235019788,0.00772054420670124,1.76644115137566e-06,0,0.00229808134635553,0.00269085335120992,0,0.0065983964571995,0.00531440789934726,0.0193840684665175,0.00406068006800316,0.000631813693056458,0.0907150472858063,0.00218084733047529,0.00407712973359912,0.0261819157861259,4.64981877391686e-05,0.000485277010301787,0.0151639003785143,0,0.000129533762327098,0.000398459193453106,0.0534323442045967,0.00596957667976128,1.51399002535487e-05,0.0122257705284094,0.000722072792064525,0.0391307582085711,0.00186729274049631,0.0140073912673517,0.000793802287073648,0.0023547799396543,0.0111677760741605,0.00949794621633738,0.00935560366199576,0.0553442319582995,0,0.00772235667424341,0.00252871254883331,0,0,0.0867102028485382,0.000298206751582516,0.00487201573369328,0.391752249792626,0,0.0178185853564656,0,0.00553655908511976,0.000517659886059604,4.11696056613056e-19,0.00260021028928515,2.28139049320819e-05,0.000177647101277355,3.50652876552747e-19,0.000538325688935002,0.0736184547409744,0.00018033027403991,0.000248436518072161,0.00397355338243059,0.00876401960003243,0.000135406096792056],"color":["#FC8D59","#FC8D59","#91BFDB","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#91BFDB","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#91BFDB","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59"],"shape":["dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot"],"shadow":[true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],"title":["Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Export","Import & Export","Import & Export","Export","Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Export","Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Export","Export","Export","Import & Export","Import","Import & Export","Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Export","Export","Export","Import & Export","Export","Import & Export","Import & Export","Export","Export","Export","Import & Export","Import & Export","Import & Export","Export","Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Export","Export","Import","Import & Export","Import & Export","Import","Import","Export","Export","Import & Export","Import","Import & Export","Export","Export","Import"],"size":[20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20],"borderWidth":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"color.background":["#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59"],"color.border":["grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey"],"x":[-0.0427023159002281,-0.0200522642867406,0.0300898163887813,0.490363706717558,0.307790626315944,0.321725532632279,0.697719768575692,-0.245753066372313,-0.26282252592067,-0.285940902180627,0.0367654437389342,-0.304051531318279,0.402733287680777,-0.318262513501079,0.266046990544301,0.95916043790965,0.512688696425751,0.260085111889194,-0.601089221494962,-0.3079824894096,-0.305922335392398,-0.179757857286698,0.0470493745915759,0.13912968625873,0.421588293559578,-0.586365830737756,-0.376281339498422,0.0298873520831178,-0.387343169534948,-0.0898281941193523,0.992082177175503,0.0463564800924274,-0.491015385998961,-0.213005717956228,-0.105647166107628,0.112872480513569,-0.239232039423354,0.9153628718246,-0.866565985441644,-0.165292682707764,0.608820968034791,-0.117344979649225,-0.017611755498293,-0.298895746856885,0.0160523872645726,0.248437786325234,-0.10883615975281,0.12751163188575,-0.70195678450794,0.121212734243974,0.318755931679113,-0.147679629635168,-0.320549208312213,-0.849800871373571,-0.634160343188351,0.830190702607689,-0.58100578480274,-0.64633409374841,0.374840454908214,0.551437144664753,0.0591270385541305,-0.332629447716584,0.396969995285051,-0.20131475935272,-0.486096798822595,0.21566899227058,0.19901739673838,-0.103167924772168,0.230478711657234,-0.120821834564437,-0.294289403444453,-0.543442836649414,-0.0423563192456275,-0.486521225928011,-0.0933653146600065,-0.0910554287223165,0.188417253930132,-0.403836988607114,-0.281691911477178,-0.478941669489555,-0.0396803933873187,0.697611681642009,-0.350584485864056,0.473389779906166,0.676750917243919,-0.243051570837797,0.14607118902199,-0.197966867739038,-0.144208950867066,0.214920204173153,0.304989089528716,-0.425888748810633,-0.636074741131875,0.611129216073429,-0.632363188900109,-0.856379954529865,-0.193094295089251,0.227506742672522,0.291986615125822,-0.0192796192638225,0.143419315535006,0.926942140821622,0.443782450780372,-0.36525182508426,0.0789626505889798,0.132455912566534,0.512016541634396,-0.25927368992163,-0.848971485440908,0.209371844788981,-0.0848520658472764,-0.168460583810332,-0.423024872993826,-0.173750164805819,-0.174267092635181,-0.497689329553868,-0.379055358178415,-0.270825490112541,0.183716739270623,0.330966477338304,0.473397694264331,0.0968168724920295,0.190960346028854,-0.623395203370359,0.0502294429268393,-0.508312488687849,0.298213381108503,-0.414423748889946,-0.246675145264829,0.590793084924885,0.41258584902085,-0.119895190863047,-1,-0.79540133499429,-0.260338557484121,-0.390682306350641,-0.266731607488613,-0.42292628432921,-0.797527593431042,-0.227385253331996,0.0576488944190532,-0.0856577364479477,-0.171703066485833,-0.260785254561132,-0.016605065941089,0.0885324856125895,-0.797685217312374,0.710504449205865,-0.472902599749463,0.749452077595836,0.791611971611955,0.653819050139153,-0.544052537999553,-0.137988393824374,-0.539775708076728,-0.405927037343525,-0.158234104682195,0.240081628098197,-0.639633318583861,-0.813979798128812,-0.440188985522053,-0.325025927447942,0.153842328566587,-0.63813805725184,0.0164948503454476,-0.135941900847297,0.864823872727598,-0.535944143349309,-0.367206754312735,0.881606252533439,0.752821333283829,0.273341167055556,-0.603255217539708,-0.0540962563135777,0.201194151397272,0.812338545252118,0.390865245836401,1,0.139760882049379,-0.633696430376965,0.507080977979449,0.0519876828779895,-0.42039307617278,-0.0293846729063324,0.655622611277233,-0.496911669237439,0.212950044118567,0.150277707457785,0.461705705450922,0.0686308490542329,-0.35767034015579,0.248177060282869],"y":[-0.220731530982439,0.141714360441484,0.122562548971178,-0.365788593564213,0.16311304123327,-0.0985924318370194,0.649058913732397,0.287927556519334,-0.593782044080929,-0.0840845676932093,-1,-0.896702005423099,0.00782928730170696,0.0311878343751557,-0.349302365201775,0.235647400054325,-0.166941999579587,0.644244559773079,-0.058232067647751,0.133548224489193,-0.311497896109351,0.994078065458299,0.169962105013657,0.476993347711758,-0.151527287562284,0.395100222568945,-0.235143504741247,0.0913926100375957,0.328172036245255,-0.663143035599795,-0.148421871936627,-0.137254322286441,0.661260723678221,0.240845407964549,-0.126511310407903,0.682924920000654,-0.892235988383932,-0.419194580154744,-0.265836826407356,-0.22440415524677,0.0820677798823797,-0.294264352998437,0.021886384121131,-0.536478814123795,-0.579860366829444,0.132714892574539,0.495482019446621,0.0232846415645442,0.233065442139748,-0.391945771877178,-0.641849091701797,-0.711791019208573,0.177944383797959,-0.150241872823516,0.306510092104109,0.103053828324418,0.0971510975576793,0.0886415490346735,0.0744785364405487,0.77123447578754,-0.390947308950695,0.353165720777327,-0.0568172001900789,-0.32542183457439,0.127122303901457,0.203120840910167,0.164935710115921,-0.0575150129862214,-0.135251561644866,0.04713720618933,-0.708947368693826,-0.202615689501397,-0.31615034431761,-0.215631306225389,1,-0.0162574995751656,-0.0808483821726017,0.043378831715277,-0.364378415558136,-0.601623908969055,0.175788517767684,-0.740239663732761,-0.0761518242195023,-0.246666559359828,0.0611906565510179,-0.0173886471863874,0.366829408431895,0.508218022799075,0.232001085529651,0.921330020247182,0.900003951124318,0.498691851624372,-0.202194540327618,-0.0344134225940346,-0.014657795802989,-0.00575283001768268,0.13397974662834,-0.274407258363874,-0.229238242233071,-0.881157651681036,-0.047972597049639,0.304892010780875,-0.941185499383867,-0.881108971989482,-0.547850328249158,0.231428747140572,-0.89779321239487,0.0445412198581356,0.644824577698776,0.990512585978338,0.123793485199849,0.31816272130968,0.200317145138424,-0.0216883331228617,0.109901016948527,-0.268302496817769,0.425986416480807,0.348765653207208,-0.471148380782358,0.0360909591792191,-0.0888160975730208,-0.000591140239588728,-0.320325040955045,-0.484319088238464,0.392536995771459,-0.0718156830478611,0.971786901354143,0.282646673963067,-0.155072407981133,0.150801204022003,-0.532141503206279,-0.365799423866933,-0.28831967938526,0.70554646105214,0.480578761150987,-0.584205344407165,0.983434859292103,-0.347252368752071,0.195408073256194,-0.2546550277633,0.474971258711797,-0.549041739240294,0.162999359758544,0.566031547206994,-0.452812686402105,-0.100419284298047,-0.504786615763491,-0.223809060775729,-0.151207977847673,-0.683802665172051,-0.0533343324551834,-0.348645181305402,0.0100334559137545,-0.463463685002925,0.795371047437103,-0.287698862991376,-0.541066287655896,0.330217941707745,-0.405669489587887,0.128002370085926,-0.503423994765506,0.559212969629872,0.052044581993304,-0.130083894718304,-0.0546666117187038,-0.0842596498943251,0.438664266340375,-0.133212262145228,0.522007039595462,-0.488504481134482,0.597518280868398,0.290123648482165,-0.735620115264527,0.363799890951317,0.362218478775456,0.481644097379261,-0.218942974826328,-0.0706608889270871,-0.522065874116794,0.361138281408958,0.828584757591562,-0.448290783520793,-0.843539219342372,0.618611745807306,0.707325198160414,-0.47079807644634,0.100973848755405,-0.756622346056327,-0.486018919598062,0.270208228779841,-0.0221910392790949,-0.715312525206596]},"edges":{"from":["1007","1007","1027","1027","10555","1131","1131","1131","1131","1131","1131","1145","1145","1145","1145","1145","1145","1145","1145","1145","1145","1145","1171","1171","1171","1171","1171","1171","1171","11820","11820","1217","1233","1233","1233","1233","1233","1233","1233","1234","1238","1240","1240","1240","1240","1242","1242","1242","1242","1242","1242","1242","1242","1242","1242","1242","1242","1242","1242","1242","1249","1249","1249","1249","1249","1249","1250","1250","1250","1250","1250","1250","1255","1255","1255","1255","1256","1257","1257","1257","1261","1261","1298","1298","1298","1298","1298","1321","1329","1332","1332","1332","1336","1336","1339","1349","1349","1349","1350","1350","1350","1350","1356","1356","1356","1356","1356","1356","1356","1356","1356","1356","1356","1356","1356","1356","1364","13760","1377","1377","1377","1377","1377","1396","1396","1408","1408","1408","1408","1408","1408","1408","1408","1422","14420","1650","1650","1659","1692","1714","1714","1714","1714","1714","1714","18273","1873","1873","1873","1873","1873","19097","1958","1958","1958","1959","1959","1959","1959","1959","1959","1959","19890","19890","19890","19890","19890","2082","2096","2096","2096","2096","2096","2134","2136","2136","2136","2136","2234","2234","22395","2249","2249","2339","2339","2339","2339","2339","2339","2339","2339","2341","2392","23985","2401","2429","2429","25269","25269","25269","2897","2897","2897","2997","3222","3226","3242","3284","3504","3513","3513","3513","357","357","363","363","363","3750","3793","3793","3896","3896","3923","3923","3923","4048","4055","4083","4083","4105","4106","422","4512","4549","4549","503","503","503","503","503","5034","5034","5130","5172","5172","5243","5283","5283","5283","529","529","540","540","540","540","540","5505","588","6094","6207","6554","6554","6675","6675","6789","6789","6789","7803","7803","7803","7803","7803","7805","7883","8124","840","8481","8502","8582","8923","8975","8975","8975","8975","9051","909","909","909","909","909","909","910","910","910","910","910","96"],"to":["24","504","24","504","249","1132","162","19","286","44","9","172","18","19","272","286","312","37","44","504","606","9","120","15989","1601","215","320","40","52","26580","9","44","2082","215","272","312","44","524","65","44","126","19","504","63","9","10339","1258","155","172","18","19","25","272","312","44","53","778","895","9","94","112","1342","18","44","606","727","120","1251","312","3323","44","9","112","154","19","9","4227","606","9","97","53","663","112","120","286","44","504","19","286","19","44","539","1337","1872","37","4443","53","895","1351","44","719","97","130","18","19","193","2137","286","2879","312","37","44","504","606","877","9","272","783","1132","22","53","65","9","215","49","130","18","19","25","312","504","65","895","90","9","19921","9","504","1573","120","18","19","37","44","719","26","172","272","286","37","504","120","18","37","606","13401","156","2137","312","606","63","641","172","18","19","53","778","37","19","37","44","504","606","44","2137","282","286","606","597","9","65","1132","53","18","19","2245","24","44","504","53","9","272","18","504","44","1337","1872","162","504","719","44","63","9","53","65","312","1736","286","126","1342","2351","9","1342","3233","120","272","44","719","44","9","18","318","19","37","44","37","9","19","9","94","44","53","1258","44","727","3903","44","504","5240","9","312","600","282","120","44","19","162","2351","4103","24","504","18","19","312","504","53","719","9","120","37","18","272","44","626","18","504","9","120","172","19","312","44","9966","44","37","9","339","26","19","1251","16103","172","18","2137","19","120","162","40","504","508","9","112","44","581","606","719","154"],"weight":[166,255,192,526,164,117,462,391,113,347,131,116,216,295,182,120,109,297,1292,168,478,424,104,136,267,210,113,159,211,110,266,146,258,329,626,420,745,112,280,173,144,200,335,203,207,219,168,113,124,855,947,171,111,1683,392,430,911,159,181,120,113,191,123,142,290,148,191,390,465,112,1179,151,517,130,3298,109,210,218,227,335,358,162,144,286,205,106,175,105,152,246,693,133,523,356,244,115,340,222,151,113,295,2771,117,130,256,133,242,489,154,191,347,199,208,272,274,560,128,114,132,192,139,175,144,111,238,511,237,193,156,475,309,136,524,545,125,240,162,112,284,107,471,393,474,507,1136,137,167,180,122,126,256,118,222,197,117,120,133,390,307,152,460,143,133,280,275,149,109,114,1193,228,408,196,859,409,368,113,192,537,152,159,150,155,322,500,151,147,184,119,259,164,117,109,151,203,125,643,904,212,196,234,922,169,159,1471,346,176,133,438,137,158,599,308,134,141,112,106,155,291,205,240,137,107,342,142,182,163,196,107,115,223,216,274,131,760,126,112,209,328,128,204,136,112,158,110,167,176,595,146,112,291,304,525,194,709,1489,200,767,1168,174,176,317,275,135,209,120,104,181,446,221,142,229,152,150,110,189,184,191,160,390,143,164,294,107,160,1762,1106,390,104,261,667,152,4022,465,118,223,250,124]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"smooth":false,"arrows":"to"},"physics":{"stabilization":false},"layout":{"randomSeed":123},"interaction":{"dragNodes":false,"dragView":true,"navigationButtons":true,"zoomView":true,"zoomSpeed":1}},"groups":null,"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":{"text":"Trade flow of top 300 transactions\n           <br> for hscode 361070<br>","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;"},"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"iconsRedraw":true,"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Observations:</strong></p>
<ul>
<li>There are three key opinion leaders and three sub-leaders in the network where <code>Mar del Este CJSC</code> could be inferred as the market leader.</li>
<li>Interestingly, the company with high degree of centrality in the previous section - <code>hǎi dǎn Corporation Wharf</code> do not have a high eigenvector centrality. Although they have a large number of connections who could potential reach and interact with other connection, their eigenvector remains low. We deduced that the nodes that they are connected to are not well connected.</li>
</ul>
</section>
<section id="trade-flow-for-hscode-873023-in-year-2032" class="level3">
<h3 class="anchored" data-anchor-id="trade-flow-for-hscode-873023-in-year-2032">5.2 Trade flow for Hscode 873023 in year 2032</h3>
<p>In this section, we will be looking into the trade flow of hscode 873023 in year 2032 since there is a spike increase in median_weight. It will be measured with Degree Centrality as it helps to identify node who has the greatest interaction in the time period. Moreover, we color the node based on values. Blue nodes represents high degree while Orange nodes represents low degree.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#create edges df for transactions from Mar 2030</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>MC2_2032_870323_edges <span class="ot">&lt;-</span> MC2_challenge_edges <span class="sc">%&gt;%</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="st">"2032"</span> <span class="sc">&amp;</span> hscode <span class="sc">==</span><span class="st">"870323"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source, target, hscode) <span class="sc">%&gt;%</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">weight =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">!=</span>target) <span class="sc">%&gt;%</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(weight <span class="sc">&gt;</span><span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="co">#keep ~200 rows </span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">from =</span> source, <span class="at">to =</span> target) <span class="sc">%&gt;%</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">3</span>) <span class="sc">%&gt;%</span> <span class="co">#relocate weight to 3rd column </span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="co">#create nodes df for transactions from Mar 2030</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>MC2_2032_870323_nodes <span class="ot">&lt;-</span> MC2_id_list_vis <span class="sc">%&gt;%</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(id <span class="sc">%in%</span> MC2_2032_870323_edges<span class="sc">$</span>from <span class="sc">|</span> id <span class="sc">%in%</span> MC2_2032_870323_edges<span class="sc">$</span>to) <span class="sc">%&gt;%</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() </span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a><span class="co">#create igraph object </span></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>gg <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(<span class="at">d=</span>MC2_2032_870323_edges, </span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>                           <span class="at">vertices=</span>MC2_2032_870323_nodes, <span class="at">directed=</span><span class="cn">TRUE</span>) </span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a><span class="co">#compute degree centrality </span></span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>degree_centrality <span class="ot">&lt;-</span> <span class="fu">degree</span>(gg)</span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>MC2_2032_870323_nodes<span class="sc">$</span>degree_centrality <span class="ot">&lt;-</span> </span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>  degree_centrality[<span class="fu">as.character</span>(MC2_2032_870323_nodes<span class="sc">$</span>id)]</span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a><span class="co">#add diverging palettes scheme to nodes based on degree centrality</span></span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>colors <span class="ot">&lt;-</span> <span class="fu">colorRampPalette</span>(<span class="fu">brewer.pal</span>(<span class="dv">3</span>, <span class="st">"RdYlBu"</span>))(<span class="dv">3</span>) <span class="co"># use three colors </span></span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>MC2_2032_870323_nodes <span class="ot">&lt;-</span> MC2_2032_870323_nodes <span class="sc">%&gt;%</span></span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">shape=</span><span class="st">"dot"</span>, <span class="at">shadow=</span><span class="cn">TRUE</span>,  </span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a>         <span class="at">title=</span>trade_status, <span class="co"># hover for trade_status</span></span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a>         <span class="at">label=</span>label, <span class="co"># add labels on nodes</span></span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a>         <span class="at">size=</span><span class="dv">20</span>, <span class="co"># set size of nodes</span></span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a>         <span class="at">borderWidth=</span><span class="dv">1</span>, <span class="co">#set border width of nodes</span></span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a>         <span class="at">color.background=</span>colors[degree_centrality], <span class="co">#set color for nodes</span></span>
<span id="cb24-35"><a href="#cb24-35" aria-hidden="true" tabindex="-1"></a>         <span class="at">color.border=</span><span class="st">"grey"</span>) <span class="co">#set color for border</span></span>
<span id="cb24-36"><a href="#cb24-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-37"><a href="#cb24-37" aria-hidden="true" tabindex="-1"></a><span class="co">#plot network graph </span></span>
<span id="cb24-38"><a href="#cb24-38" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(MC2_2032_870323_nodes, MC2_2032_870323_edges, <span class="at">main =</span><span class="st">"Trade flow in 2032</span></span>
<span id="cb24-39"><a href="#cb24-39" aria-hidden="true" tabindex="-1"></a><span class="st">           &lt;br&gt;for hscode 870323&lt;br&gt;"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-40"><a href="#cb24-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout_with_fr"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-41"><a href="#cb24-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">visOptions</span>(<span class="at">highlightNearest =</span> <span class="cn">TRUE</span>,</span>
<span id="cb24-42"><a href="#cb24-42" aria-hidden="true" tabindex="-1"></a>             <span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>,</span>
<span id="cb24-43"><a href="#cb24-43" aria-hidden="true" tabindex="-1"></a>             <span class="at">selectedBy =</span> <span class="st">"degree_centrality"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-44"><a href="#cb24-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>) <span class="sc">%&gt;%</span> <span class="co">#indicate direction </span></span>
<span id="cb24-45"><a href="#cb24-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span>(<span class="at">randomSeed =</span> <span class="dv">123</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-46"><a href="#cb24-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addFontAwesome</span>(<span class="at">name =</span> <span class="st">"font-awesome"</span>) <span class="sc">%&gt;%</span> <span class="co">#add icon to network </span></span>
<span id="cb24-47"><a href="#cb24-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visInteraction</span>(<span class="at">dragNodes =</span> <span class="cn">FALSE</span>, <span class="at">dragView =</span> <span class="cn">TRUE</span>, </span>
<span id="cb24-48"><a href="#cb24-48" aria-hidden="true" tabindex="-1"></a>                 <span class="at">zoomView =</span> <span class="cn">TRUE</span>, <span class="at">navigationButtons =</span> <span class="cn">TRUE</span>) <span class="co">#freeze network</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-22cd65fe4b7b51a7b642" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-22cd65fe4b7b51a7b642">{"x":{"nodes":{"id":["8","9","18","21","22","25","26","40","44","49","51","52","84","95","103","106","107","108","133","138","139","141","147","151","162","169","172","177","184","190","193","206","207","210","211","215","219","230","234","250","255","269","277","278","286","291","298","302","307","321","326","332","339","341","363","376","407","431","435","449","482","484","510","517","524","558","562","564","571","587","590","602","669","677","688","693","721","725","745","782","783","835","848","874","899","912","964","971","984","1024","1033","1094","1099","1189","1195","1241","1244","1259","1283","1292","1303","1310","1337","1342","1366","1427","1445","1510","1518","1520","1527","1561","1568","1587","1622","1653","1665","1700","1857","1859","1880","1928","1930","2044","2111","2128","2141","2174","2186","2268","2292","2297","2374","2427","2588","2672","2738","2762","2765","2769","2866","2914","2956","3023","3078","3098","3201","3278","3281","3404","3440","3493","3574","3602","3745","3759","3831","3918","3989","4053","4135","4214","4227","4360","4372","4437","4442","4531","4664","4757","4803","4840","4849","4852","4915","4919","4921","4937","5028","5121","5137","5266","5714","5824","5860","6013","6148","6314","6462","6475","6574","6634","6735","6738","6995","7021","7186","7470","8061","8136","8287","8290","8680","9004","9401","9404","9648","9802","10410","10423","10703","11571","12038","12095","12281","13118","14263","14950","16934","17170","17728","18199","18898","19346","22032","23016","23782","23951","24273","25470","26382","26563","26664","26706","26768","26785","26837","27011","27265","27455","27458","27460","27715"],"label":["Panope Limited Liability Company","hǎi dǎn Corporation Wharf","Costa de la Felicidad Shipping","Mandalore S.A. de C.V. Logistics","Black Sea Tuna Snapper","Caracola Azul Ltd. Corporation","Sailors and Surfers Incorporated Enterprises","Dubingiai Ltd. Liability Co","Caracola del Sol Services","Saltwater Supreme ОАО Forwading","Turkish Sword S.A. de C.V. Trout","Océano de Coral Corporation Express","Uttarakhand  Market Limited Liability Company Nautical","Coral Cove BV Delivery","-54","Kong zhong diao yu  AG Transport","Mar de la Vida Incorporated","Ancla Azul Transportation Seafaring","ReefRider Foods Ltd. Corporation Family","Fisherman's Best Marine conservation","Kilimanjaro fishery Ltd. Corporation Carriers","Belgian Shrimps Ocean Corp Holdings","Fisherman's Bounty Corp Marine","Spanish Anchovy CJSC Marine","Kong zhong diao yu  Ges.m.b.H.","Olas del Mar ОАО","Assam  Market Cargo ship Company Marine conservation","Playa del Mar Anchor N.V. Services","Portuguese Tuna Bonito Kga Consultants","Tamil Nadu   Sp Worldwide","Isla del Este SE","Ianira Starfish Sagl Import","Haryana s Sagl Transport","Gvardeysk GmbH & Co. KG","SeaTree Ltd. Liability Co Holdings","Saltwater Supreme Pelican Ltd Enterprises","Richard Seafood Ltd. Liability Co Delivery","Playa del Mar NV","Olas del Sur Oyj","Rajasthan  Market Kga Submarine","Chhattisgarh   Marine ecology A/S Delivery","Limited Liability Company Co","Jammu & Kashmir  AB Consultants","Belgian Shrimps - Company Brothers","Mar del Paraíso Corporation Logistics","Mar y Luna Sagl","Dutch  Ltd. Liability Co Consultants","Lake Nakuru  Kga Logistics","bǐ mù yú Sagl Distribution","Kong zhong diao yu  Express Charter Boat ","Danish Shrimp Kga Solutions","Dutch Oyster Company Shark","Rift Valley fishery Inc","Nazhivka & A/S Transport","Turkish Salmon A/S Marine","Fresh Limited Liability Company","Arunachal Pradesh s Kga","Ethiopian Highlands  Kga Services","Ancla del Este Merchants","Icelandic Cod Pier ОАО Transport","Arunachal Pradesh s A/S Transport","Stichting S.A. de C.V. and","Madhya Pradesh   Ltd. Corporation","Mar de la Vida GmbH","Ancla Marina AB Holdings","Caracola de Coral Oyj","River Gambia  Brine Pic Express","Olas del Sur Ltd. Corporation","Selous Game Reserve  A/S","Kilimajaro Slopes   Oceanfront AB Overseas","Lake Motoso  Sagl Brothers","Tamil Nadu  Market ОАО","Black Sea Tuna AB Freight ","Tide Turners Transport Sextant","Estrella de Coral AG Worldwide","Line S.A. de C.V.","Cameroon Estuary  Co Investment","West Bengal  Marine ecology","Bujagali Falls  Pic Family","Chuan gou  Ltd Marine ecology","Punjab s A/S Marine","Coastal Castaway Anchor Pic Export","Cape of Good Hope   Nori","Angrapa Ltd. Liability Co Export","Tamil Nadu s Plc","Playa de la Felicidad Sagl Line","Estrella del Mar Seafarer","Oceanic Oasis Co Transit","SeaScape Foods NV Marine biology","Whale Ltd. Liability Co","Mar del Paraíso NV Worldwide","Estrella de Mar SE","Playa del Mar Delivery","Niger River   NV Delivery","Caracola del Este Plc","Turkish Calamari Oceanography AG Import","CoralCove Brine LLC Marine conservation","Meghalaya  Marine GmbH & Co. KG Import","Caracola del Este Corporation Express","Playa del Tesoro BV","AtlanticAppetite Oyster  Ltd. Corporation Investment","bái suō wěn lú Ltd Cargo","Rybachit Sagl and Son's","Lake Turkana  Charter Boat  NV Marine","Wave Warriors Ltd. Corporation Express","Mar de la Vida SRL","Bihar   CJSC & Son's","Oceanic Outfitters S.A. de C.V. Express","Estrella del Sol Ges.m.b.H.","The Salted Pearl LLC","-7673","TideTracker Ltd. Liability Co Overseas","Wave Riders Plc Marine mist","Ocean Outfitters Ges.m.b.H. Dredge","Oceanic Oracle GmbH & Co. KG","Uttarakhand s Corp Transport","AquaFresh Foods CJSC -","Congo River  Marine conservation Seaside","Marmooska Hull Limited Liability Company Solutions","Ancla Marina Ges.m.b.H. & Son's","5 Seagull A/S Marine ecology","Bay of Bengal's A/S","Water Wonders Tidepool Ltd Holdings","Kilwa Coast  Incorporated & Son's","Coral Kingdom GmbH Delivery","Andhra Pradesh  Catfish Kga Worldwide","Diao yu bi sai  CJSC Forwading","Volga River S.A. de C.V. Family","Costa del Sol A/S","Gvardeysk Ltd. Liability Co","-37","Beach Bums SE Logistics","Brisa del Este LC","Caracola del Este Sp","Mar de Cielo Co","Gulf of Guinea   Enterprises","Changsha Ltd. Liability Co Transport","Sikkim  Market Limited Liability Company","zūn yú Co Marine ecology","BlueWaterBites S.A. de C.V.","Orange River Mouth   Seabed","1 Oyj Marine conservation","East Ltd. Liability Co","bái suō wěn lú AS","Playa de la Luna Kga","Isla del Tesoro Starfish","Selkie Beach Sp Transport","Madhya Pradesh  Market BV Export","Mar de la Aventura Shipyard","Zambezi Rapids  Brine Oyj Carriers","-4245","Balkan Cat BV Transportation","West Bengal  SE Family","Danish Plaice S.A. de C.V.","Holdings Ltd. Liability Co","Lake Malawi  LC Forwading","Barco de Plata ОАО","Wave Watchers Charter Boat  Ltd. Liability Co Transport","Mar de la Costa Corp Solutions","Italian Sword Ltd. Liability Co","Bahía de Plata United","SilverFin Ltd. Liability Co","Malabar Sea Catch Port","Greek ermen Tugboat Oyj Express","Blue Horizon Limited Liability Company","The Salted Pearl Plc","móguǐ yú ОАО Laksa","jīn qiāng yú SRL","Faroe Islands Halibut Dredge","SaltWaterSolutions Ltd. Liability Co Seafarer","Seafaring Souls GmbH & Co. KG Freight ","8 Ltd. Liability Co","Lake Rukwa  Limited Liability Company","Stichting S.A. de C.V.","Ocean Outlaws CJSC and Son's","Baltic Salmon Plc Freight ","Mar de la Luz SRL Tsunami","Arena del Mar Ltd. Liability Co Investment","-3455","Mar del Paraíso Plc","Seaside Summit S.A. de C.V.","French Sole Ltd. Corporation","Simien Mountains   Leska SRL Delivery","Beachcomber's Bounty GmbH Caviar","Christopher Ltd. Liability Co","Irish Scallop Corporation Transport","7 Ltd. Liability Co Enterprises","-3958","Playa de Arena Corp","East S.A. de C.V.","Baltic Catch OJSC Transport","Belgian Lobster Oyj Services","Saltwater Solitude Ltd. Corporation Solutions","Playa del Sol SRL Seal","Danish Plaice CJSC Export","Sailors and Surfers AB Export","-2922","Baltic Salmon Pier SE International","Himachal Pradesh   Limited Liability Company","-2967","Mar de la Luz A/S","Rift Valley fishery Whale S.A. de C.V. Forwading","Drakensberg  Caviar N.V. Services","Diao yu bi sai  Ltd","-2911","Fisherman's Bounty AG Solutions","Arena del Sol Marine life","SeaScape Foods S.A. de C.V. Solutions","Mar de Estrellas Marine conservation","Lake Mweru  Sp Consulting","Seashell s  Creek Oyj and Son's","Zambezi Valley  Seafood LLC Brothers","-2821","-703","Kagera River   S.p.A. Transport","Bu yu wang Plc Carriers","Lake Kivu   GmbH Enterprises","Poseidon Seabass LC Express","-7774","Baltic Sprat Pic Delivery","Pao gan A/S Marine ecology","-7766","-7804","-7818","-7854","-2883","-6427","-3821","-7886","-3659","-4219","-7958","-2917","-7944","-7935","-7930","-7954","-4216","-7955","-7942","-7957","-7953","-7959"],"trade_status":["Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Export","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import"],"shpcountry":["Vesperanda","Marebak","Alverossia","Osterivaria","Puerto Sol","Lumaland","Puerto Sol","Kondanovia","Puerto Sol","Puerto Sol","Rio Isla","Vesperanda","Helixia","Quornova","Nalakond","Oceanus","Rio Isla","Thessalandia","Oceanus","Marebak","Vesperanda","Lumaland","Yggdrasonia","Merigrad","Oceanus","Nalakond","Faraluna","Oceanus","Kondanovia","Jiraputra","Helixia","Rio Isla","Osterivaria","Sol y Oceana","Gavanovia","Puerto Sol","Puerto Sol","Oceanus","Utoporiana","Alverossia","Oceanus","Coralada","Rio Isla","Vesperand's Bay","Marebak","Marebak","Sol y Oceana","Marebak","Alverossia","Mawazam","Rio Isla","Alverossia","Puerto del Mar","Icarnia","Vesperanda","Marebak","Marebak","Gavanovia","Oceanus","Utoporiana","Oceanus","Arreciviento","Rio Isla","Riodelsol","Kondanovia","Isla Dorada","Marebak","Oceanus","Rio Isla","Sol y Oceana","Kondanovia","Rio Isla","Oceanus","Oceanus","Coral Solis","Lumindoria","Isliandor","Korvelonia","Coralmarica","Rio Isla","Nalaloria","Marebak","Kondanovia","Oceanus","Nalaloria","Alverossia","Oceanus","Marebak","Oceanus","Utoporiana","Polarisdom","Oceanus","Solovarossa","Riodelsol","Isla Solmar","Marebak","Gavanovia","Calabrand","Oceanus","Kondanovia","Sirenareef","Marebak","Sol y Oceana","Alverossia","Coralada","Alverossia","Osterivella",null,"Rio Isla","Marebak",null,"Lumindoria","Riodelsol","Quornova","Lumindoria","Coral Solis","Kondarama","Isliandor","Puerto Sol","Vesperanda","Oceanus","Oceanus","Oceanus","Coralmarica","Kilivaria","Alverossia","Alverossia","Utoporiana","Isliandor","Patacoral","Azurionix","Isliandor","Isliandor","Utoporiana","Isliandor","Galduzim","Oceanus","Marebak","Marebak","Marebak","Oceanus","Qalbushire","Oceanus","Marebak","Marebak","Nalakond","Utoporiana","Marebak","Rio Isla","Icarnia",null,"Sol y Oceana","Rio Isla","Playa Solis","Zawalinda","Marebak","Icarnia","Rio Isla","Kondanovia","Vesperanda","Sol y Oceana","Lumindoria","Lumaland","Oceanus","Osterivaria","Gavanovia","Marebak","Sol y Oceana","Oceanus","Patacoral","Isliandor","Oceanus","Kondarama","Marebak","Islavaria","Marebak","Oceanus","Coralmarica",null,"Marebak","Vesperanda","Utoporiana","Sol y Oceana","Oceanus","Puerto Sol","Mawandia","Coralmarica",null,"Lumindoria","Marebak","Sol y Oceana","Talandria","Rio Isla","Oceanus","Coralmarica","Coralmarica",null,"Isla Solmar","Kondanovia",null,"Coralada","Arreciviento","Oceanus","Marebak",null,"Marebak","Oceanus","Vesperanda","Kethilim","Solovarossa","Marebak","Coralmarica",null,null,"Arreciviento","Kondarama","Coralmarica","Sol y Oceana",null,"Estophoria","Marebak",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"rcvcountry":["Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Coralmarica","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Sol y Oceana","Oceanus","Jiraputra","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Coralmarica","Icarnia","Marebak","Oceanus","Oceanus","Oceanus","Talandria","Oceanus","Oceanus","Oceanus","Marebak","Marebak","Orvietonix","Oceanus","Coralmarica","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,"Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Coralada","Oceanus","Coralmarica","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,"Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,"Oceanus","Oceanus","Oceanus","Icarnia","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Riodelsol","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,null,"Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,"Oceanus","Utoparadia","Oceanus","Utoporiana","Oceanus","Oceanus","Oceanus","Oceanus","Sol y Oceana","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Sol y Oceana","Oceanus","Oceanus","Nyxonix","Oceanus","Kondarama","Oceanus","Islavaria","Oceanus","Oceanus","Islavaria","Oceanus","Oceanus","Oceanus","Oceanus","Mawandia","Oceanus","Sol y Oceana","Oceanus","Coralmarica","Oceanus","Oceanus","Oceanus","Oceanus","Talandria","Oceanus","Coralmarica","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Luminkind","Oceanus","Oceanus","Isla Solmar","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Sol y Oceana","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,"Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus"],"degree_centrality":[2,21,4,1,4,2,8,1,10,1,3,4,2,3,1,1,1,2,1,6,2,1,1,1,1,2,1,1,1,2,1,13,1,1,1,2,1,1,1,1,8,1,4,3,1,2,3,1,1,1,15,1,3,2,1,2,1,1,1,18,2,1,1,1,2,1,1,1,9,1,1,1,1,2,1,1,1,1,1,3,1,1,1,2,2,1,9,1,3,10,1,7,1,1,3,7,1,1,6,20,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,2,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,2,1,1,1,1,1,1,1,1,3,2,1,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,3,1,1,1,2,1,1,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"shape":["dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot"],"shadow":[true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],"title":["Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export","Export","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import","Import"],"size":[20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20],"borderWidth":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"color.background":["#FFFFBF",null,null,"#FC8D59",null,"#FFFFBF",null,"#FC8D59",null,"#FC8D59","#91BFDB",null,"#FFFFBF","#91BFDB","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59",null,"#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59",null,"#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59",null,"#FC8D59",null,"#91BFDB","#FC8D59","#FFFFBF","#91BFDB","#FC8D59","#FC8D59","#FC8D59",null,"#FC8D59","#91BFDB","#FFFFBF","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59",null,"#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59",null,"#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#91BFDB","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FFFFBF","#FC8D59",null,"#FC8D59","#91BFDB",null,"#FC8D59",null,"#FC8D59","#FC8D59","#91BFDB",null,"#FC8D59","#FC8D59",null,null,"#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FFFFBF","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#91BFDB","#FFFFBF","#FC8D59","#91BFDB","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59",null,"#91BFDB","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#91BFDB","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FFFFBF","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59","#FC8D59"],"color.border":["grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey","grey"],"x":[-0.0556475613314528,0.141155402065288,0.393609056169512,0.465633740772522,0.38119061596641,-0.555902859549272,-0.224793666924294,-0.331821867449402,-0.207310387283712,-0.423216518630201,0.824020661677917,-0.0822945910050445,0.383164507474298,-0.107047045754063,-0.0513230821439589,-0.452830912932866,0.333945625491989,-0.228532452586049,0.871894688722234,0.466630532927418,-0.46598559316477,0.17367056515624,-0.463577032799194,-0.946452804043183,0.814707305892047,0.146894053417546,-0.222942712047974,-0.405998108660551,0.185766687656913,-0.93477443151448,-0.628801155176107,-0.0720309702126283,-0.0816204604112671,0.139375240340312,0.241705437824859,-0.0954241695411761,-0.675563497218195,-0.674127186554658,0.932722630354313,0.861247368754307,-0.336808931769781,0.685350560652502,-0.490021509686133,-0.527815412541901,-0.288997961820569,0.30750877879027,-0.524588459847689,-0.837809463800519,0.868671806777945,-0.0931890857622977,-0.306281852017457,-0.282463488473557,-0.33160348646945,0.780164370399293,0.174386328431871,0.162389153999036,-0.586380660139483,0.820804642484048,0.72748307152134,-0.15434773823045,-0.158142499297661,0.138627136977497,-0.66470835696956,-0.431137872865454,-0.677900230032997,0.035463560285556,0.472416379238914,0.639759294411694,-0.478824331671461,-0.0258964322754225,-0.570726511849398,-0.300791913551939,0.980787924506903,-0.498410463354536,0.0700668364003256,-0.324452291504087,0.197527123912299,-0.636705404308859,-0.183742253859193,0.392787551752442,-0.392990414914293,-0.84916366932504,0.360125270180564,-0.131819579155993,-0.797509050687432,0.281794967108272,0.727108037804232,0.345694005244324,0.449953722209484,-0.351251450636661,0.115053429628857,0.26765001909104,0.926303785845213,-0.963153671187632,-0.501317669756981,0.661270090041448,0.748633942522578,-0.404293102883291,0.0909054763463653,0.157747163526045,-0.637914226501639,0.0908092456115339,-0.139286581303883,-0.59813781278344,-0.921501293540872,0.610277820387255,-0.468138917990442,1,-0.251838899861351,-0.255437099402319,-0.615456604857885,-0.965771075027648,0.555070974403348,0.224514078449391,-0.265971234004811,-0.359817588105625,-0.349390657367709,0.676443040854367,-0.185733278256901,-0.908862091063118,-0.264532437450405,0.292272659768251,-0.3971372077279,-0.305725686438035,0.724821216532895,-0.745932591336104,0.420867887330488,-0.534364660726329,-0.082877283377135,-0.355997548608587,-0.562616264588796,0.43352231134817,0.810204032797548,0.688835166702043,-0.989844064627016,-0.105778166014169,0.242447913350455,0.264864152657713,-0.312232280631332,0.931329188026849,0.401832531843733,0.504848578899521,0.212388500760186,0.260843596741536,0.196405546301708,-0.334269286973776,0.821814338840456,-0.0373013239857588,-0.00529083813262854,0.277824974484741,0.0616052455435765,-0.601005551409555,-0.122435122434742,-0.440651750365299,-0.132027867109729,-0.00767824610640977,-0.75628621471638,-0.0154614301844094,0.982097442207872,0.301585394090146,-0.786998522795085,-0.219670805515971,0.597656740880921,0.756930954866246,-0.0227934113890258,0.958097563091675,0.127239918999993,0.56370692666395,0.287335431841874,0.356669726133493,-0.48043814304234,0.0382063391649408,0.164794526638869,-0.0668348078036572,-0.0514500204881068,0.627307219153048,0.625978646549588,0.237733498218336,0.173981234104323,0.947533027664487,0.462654472044498,-0.779350672691299,-0.233435568843935,0.508695254272772,0.105151975890939,-0.65710736059466,-0.214672461941801,-0.395514422420112,-0.826689440038882,0.47895533372311,0.742436013613319,-0.514923365215839,-0.722590068386158,0.523897587516058,-0.0768098988063243,-0.275237358779944,-0.438635441603319,-0.393329898025587,-0.26622012437069,-0.438154765954884,-0.218854075652026,0.800914864846015,0.266036233414354,0.594004155376267,0.529693562145852,0.843627461411591,-1,0.66482798115539,-0.14334795394409,0.788293280491796,-0.996410381908923,-0.943180164433356,0.322246674608249,0.294888294658372,-0.984709244122495,0.426506997846759,0.613028710247723,-0.392578624371826,-0.374805435231721,0.546524262541049,0.119348931975204,-0.136557573965117,-0.841481993455782,-0.178475255121756,0.502156933948267,0.146932143515351,0.424681655631427,-0.539644124478218,0.392015175425583,-0.387340357230663,-0.634545059657753,-0.198470951453055,0.311477284784258,0.0972441520574834,0.371969019105582,0.0974738512922095,0.313808503698786,-0.630337404344866,0.245059392218097,0.409175856794964,0.231927453581405,0.271588641088767,-0.140157713454166],"y":[0.666305943103099,0.0689074468663824,0.125230513890354,-0.229459747720551,0.4740462171955,0.587445341859096,0.191652092563228,-0.927819308858808,0.272943381930293,0.0251568493908378,0.0750803448520931,0.242404693384657,-0.415965968017493,0.156665308530105,-0.207021312417332,-0.407337075603338,-0.382687190468958,-0.329526093218832,0.507181730678677,0.345468487094703,-0.149567429991783,0.521407163321119,0.539057424563203,-0.350365687175533,-0.474221877683284,0.670078124639769,-0.156191291454718,0.858334784341249,0.622122508690305,-0.127480214203794,-0.18356609928475,0.411110994147307,0.591150278447302,-0.0636490415217049,0.625907896879782,-0.0728105080980535,0.641729605641925,-0.0748772388582317,-0.166521592304357,0.299229123228367,0.923538112085761,0.580492618500833,0.0927493921672495,-0.00604986449142086,-0.160452199625849,0.053285821008406,0.13162008172821,-0.540055602947687,-0.0173567780386638,0.51001200364451,0.0375181082278129,-0.218470984118446,-0.309718091952601,0.260619539190347,-0.813388135732001,-0.747942947744755,-0.804061787869183,-0.225851016712719,0.507987010447909,-0.0806778908128617,-0.970787899402629,-0.305869597659581,0.19079340450531,0.944086701356816,0.356611991941817,0.321986258663069,0.616117859396386,-0.510277873141025,0.28145070980344,0.579186644407476,-0.264677621492874,-0.0436831055757122,0.277082624567588,-0.094176689134067,-1,0.175381048568628,-0.0455549726731216,0.0205331376662812,-0.267651214780788,-0.0323142828564692,0.0883632281177875,-0.442701569249961,-0.197808001270809,-0.341194823263106,-0.48795854199689,-0.405060839436047,-0.541368204863505,-0.746398484203887,0.0839963106258883,0.480473131391779,-0.38144413797617,0.224623471259287,-0.358789065563341,0.283016313568984,0.169543629964459,0.180521002774608,0.184631992615654,0.595835883969699,-0.202934387524906,0.425736212472116,0.278303911241082,-0.00603175054342031,0.610463803525296,0.320760887080692,0.430550765168974,0.792763629763827,0.880735799766979,0.0252943166809154,-0.752235572287739,-0.813883660990557,0.381736699360916,-0.288749556301112,-0.0681880963831302,0.374791040981144,-0.483989692044924,0.641417755276566,0.340000793744925,-0.619614470264217,0.394576253063769,-0.18739934835425,0.956346414508507,0.103474154059861,-0.746862559143519,0.85934451898198,-0.650974346856469,-0.676878930475291,0.903334957905143,-0.642076287777386,-0.258435445696283,0.241226717903916,0.396202126113899,0.251851310999138,-0.28750938965983,-0.453519474870074,-0.0922635559019191,-0.940503190079778,-0.939402329385385,-0.0930346494911385,0.396430836567775,0.0542237824257086,-0.87420957238623,-0.189107203895798,0.112821051839844,0.966582830921965,0.982079333268638,1,-0.541711676646825,0.816703575621028,0.247851965075971,0.275975496455089,-0.363842242749784,-0.619805055464261,-0.498993016072224,-0.034942785524237,-0.777683930698302,-0.919924400547207,-0.614859262377046,-0.719168943567164,-0.13415059210507,-0.69985027640289,0.413232026679529,-0.948806866782965,0.0282629416398525,-0.440922497715358,0.512785154265666,0.348318329742538,-0.977379467571076,-0.81732335032258,-0.246572555895602,-0.106963770529657,0.600300012342701,-0.874276339852035,0.812339245695787,-0.758713725148392,-0.144060576709422,-0.582836171006603,0.477727569891804,0.00460952802358072,-0.347133460692072,-0.29674888109024,-0.695109186987713,-0.35654872241903,-0.240225500109344,0.56075790060099,-0.718598144381875,0.0722223142513836,0.910647862555084,-0.101957610470207,-0.309375979757188,0.874528931667257,0.0890235581360277,0.520061074677045,0.125171057301111,-0.709740522916726,0.0804592735048024,0.261016856057622,-0.796020277181751,-0.907799898789199,0.367342857781374,0.64597564721805,0.988911811328176,0.173307200320233,-0.881302342935725,0.405306944166442,-0.117287546289086,0.56974384923134,-0.0296877728865109,0.753679478082508,-0.175864085564294,-0.6092942274563,0.145644253288249,0.357085690560759,0.491419282678186,0.595644067095278,0.0827032618882864,-0.525768070245186,0.345999622867681,-0.448921723988123,-0.0441332781771177,0.111154236834062,0.142741824856589,-0.239988479982734,0.119374548400585,0.491890289787098,-0.834707360315454,0.587212956137244,0.199378834468009,-0.845210629168882,0.293020377355191,-0.682376262990069,-0.553001291946487,0.55284741179199,0.54620908179252,0.486014634700672,-0.929456808291775,0.566617486925313,0.408323813641828,-0.688069178772237,0.50988160143528,-0.336574267421507,0.571381404898793,0.445705454605427,0.552422772118907]},"edges":{"from":["1024","1024","1024","1024","1024","1024","1024","1024","1024","1024","106","10703","1094","1094","1094","1094","1094","1094","1094","11571","11571","1241","1241","1241","1241","1241","1241","1241","1283","1283","1283","1283","1283","1283","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1292","1310","13118","14263","1427","14950","1520","1561","1622","1665","17170","17728","1880","190","190","1928","1928","1930","1930","206","206","206","206","206","206","206","206","206","206","206","206","206","210","2128","219","2268","230","250","255","255","255","255","255","255","255","2762","2762","2765","2769","2769","277","277","277","277","2866","291","291","2956","302","307","3078","326","326","326","326","326","326","326","326","326","326","326","326","326","326","326","3278","3281","3281","3281","3404","3404","3493","3493","3493","3574","376","376","3989","40","407","4135","431","4437","4442","449","449","449","449","449","449","449","449","449","449","449","449","449","449","449","449","449","449","4531","4664","4664","4664","4664","4664","4757","4757","4757","482","482","4840","4849","4852","4852","4921","4921","4921","4937","510","5121","5266","562","564","571","571","571","571","571","571","571","571","571","5824","590","6475","6735","6735","6738","677","693","6995","7021","7021","721","782","782","782","8061","835","8680","9004","9404","964","964","964","964","964","964","964","964","9648","971","984","984"],"to":["1259","147","1653","1857","25","44","4803","52","6634","8136","339","12281","138","18","2297","23782","24273","52","9","1189","1366","1244","138","341","51","6574","8290","984","1033","215","3440","484","5028","9","12038","12095","138","141","1587","169","184","211","22","23016","26","26664","26706","26785","26837","27265","27458","27460","44","9","9","84","138","9802","339","1518","151","108","44","18","9","255","1859","2588","18","9","25470","7186","1337","19346","207","26563","27715","321","4372","44","52","587","8","9","95","9","3831","25","26","278","341","1445","177","2044","3098","517","6148","8287","848","9","44","1510","51","26","278","6013","725","26768","18","9","9","899","51","3023","1195","139","16934","215","26","278","298","3602","44","49","602","6314","677","783","9","8","1857","558","9","22","9","2174","26382","27011","874","363","5860","234","7470","23951","524","2374","669","688","103","10410","108","172","18199","2186","26","286","332","339","44","4915","52","5714","745","874","9","95","22032","107","27455","84","9","912","21","2914","9","2672","4214","3759","169","3745","3918","138","269","435","9","1195","1099","6462","22","964","1195","1303","1342","1527","2292","26","298","44","524","22","139","2141","18898","298","5137","193","26","95","26","44","9","1568","9","9401","44","899","2738","138","133","10423","162","1700","2111","2427","3201","4360","4919","2588","4053","4227","9"],"weight":[2,8,5,26,2,15,10,3,48,18,6,3,26,2,6,4,3,12,4,3,5,4,13,5,16,3,3,19,5,3,2,2,3,3,1169,164,2,39,7,201,32,14,2,4,15,186,5,16,2,2,5,4,30,76,4,2,3,2,4,8,5,3,16,6,5,4,2,4,2,2,3,2,4,31,1361,2,2,2089,13,39,14,56,14,104,11,5,4,2,8,2,2,83,3,3,2,3,2,3,2,2,3,4,2,50,5,19,24,2,2,2,4,2,2,2,6,3,12,8,599,43,12,3,4,16,7,25,8,29,14,2,60,33,8,7,3,34,2,2,6,2,11,2,2,2,4,4,2,2,9,10,2,2,26,2,35,7,82,28,77,63,41,10,44,17,33,389,4,2,2,2,14,5,2,5,10,28,2,2,11,2,2,3,2,4,2,2,4,2,2,2,5,4,2,72,449,7,2,4,6,3,2,2,3,6,2,2,2,3,70,7,19,3,5,4,10,2,2,2,2,3,2,4,4,3,2,2,7,4,3,4,2],"hscode":["870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323","870323"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"smooth":false,"arrows":"to"},"physics":{"stabilization":false},"layout":{"randomSeed":123},"interaction":{"dragNodes":false,"dragView":true,"navigationButtons":true,"zoomView":true,"zoomSpeed":1}},"groups":null,"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":true,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false,"variable":"degree_centrality","main":"Select by degree_centrality","values":[1,2,3,4,5,6,7,8,9,10,13,15,18,20,21]},"main":{"text":"Trade flow in 2032\n           <br>for hscode 870323<br>","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;"},"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"iconsRedraw":true,"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Observations:</strong></p>
<ul>
<li>In comparison to hscode 361070, there are more key opinion leaders and sub-leaders in this network. They are heavily connected to one another, with more interaction between companies with large connections.</li>
<li>At the bottom right of the network graph, there are two distinct <code>hub and spoke</code> network which belongs to <code>Estrella del Mar Seafarer</code> and <code>Chhattisgarh Marine ecology A/S Delivery</code>. There is a central node who is directly connected to all other nodes <em>(spokes)</em> with a high degree of centrality. It receives from one company but disseminates goods to seven/eight companies.</li>
</ul>
</section>
<section id="examining-chapter-30-hscode" class="level3">
<h3 class="anchored" data-anchor-id="examining-chapter-30-hscode">5.3 Examining Chapter 30 Hscode</h3>
<p>Among the 17 hscode identified in the treemap above, we noticed that there are two codes which belongs to Chapter 30. In terms of volume, <code>306170</code> and <code>304620</code> are ranked first and sixth respectively. Therefore, we would like to match with the set of predicted knowledge graph links from FishEye to determine if we would get any insight.</p>
<p>Interestingly, this chapter belongs to the category of Fish.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extract hscode that starts with 30</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>start_code <span class="ot">&lt;-</span> <span class="fu">str_sub</span>(combined_edges_cleaned<span class="sc">$</span>hscode, <span class="at">start =</span> <span class="dv">1</span>, <span class="at">end =</span> <span class="dv">2</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co"># filter for hs code that starts with 30 </span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>combined_edges_cleaned_30 <span class="ot">&lt;-</span> combined_edges_cleaned <span class="sc">%&gt;%</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(start_code <span class="sc">==</span> <span class="st">"30"</span>)</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="co"># create df for total count of hscode</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>combined_edges_cleaned_hscount <span class="ot">&lt;-</span> combined_edges_cleaned_30 <span class="sc">%&gt;%</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(generated_by) <span class="sc">%&gt;%</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">hscount =</span> <span class="fu">n_distinct</span>(hscode)) <span class="sc">%&gt;%</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(hscount))</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a><span class="co">#create df for total weightage by each fish type and hs code </span></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>combined_edges_cleaned_30 <span class="ot">&lt;-</span> combined_edges_cleaned_30 <span class="sc">%&gt;%</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(generated_by, hscode) <span class="sc">%&gt;%</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">weight =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(weight))</span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a><span class="co"># combined both df through left join </span></span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>combined_edges_cleaned_30hscount <span class="ot">&lt;-</span> <span class="fu">left_join</span>(combined_edges_cleaned_30,</span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>                                              combined_edges_cleaned_hscount,</span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>                                              <span class="at">by =</span> <span class="st">"generated_by"</span>)</span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a><span class="co">#treemap saved under '30hscount' object </span></span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a>hscount30 <span class="ot">&lt;-</span> <span class="fu">treemap</span>(combined_edges_cleaned_30hscount,</span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">index=</span><span class="fu">c</span>(<span class="st">"generated_by"</span>,<span class="st">"hscode"</span>),</span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">vSize=</span><span class="st">"weight"</span>,</span>
<span id="cb25-29"><a href="#cb25-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">vColor=</span><span class="st">"hscount"</span>,</span>
<span id="cb25-30"><a href="#cb25-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">type =</span><span class="st">"value"</span>,</span>
<span id="cb25-31"><a href="#cb25-31" aria-hidden="true" tabindex="-1"></a>        <span class="at">algorithm =</span> <span class="st">"pivotSize"</span>,</span>
<span id="cb25-32"><a href="#cb25-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">sortID =</span> <span class="st">"weight"</span>,</span>
<span id="cb25-33"><a href="#cb25-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">palette=</span><span class="st">"Blues"</span>,</span>
<span id="cb25-34"><a href="#cb25-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">border.lwds =</span> <span class="st">"white"</span></span>
<span id="cb25-35"><a href="#cb25-35" aria-hidden="true" tabindex="-1"></a>        )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">d3tree</span>(hscount30, <span class="at">rootname =</span> <span class="st">"Distribution based on generated program"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="d3tree html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-22259723fd7d8c3adc7e" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-22259723fd7d8c3adc7e">{"x":{"data":{"name":"Distribution based on generated program","id":1,"size":null,"children":[{"name":"carp","color":"#08306B","h":0.380341926424354,"id":2,"size":16,"stdErr":16,"vColor":81,"vColorValue":81,"vSize":16,"w":0.0789257235148627,"x0":0.123321442991973,"y0":0.619658073575646,"children":[{"name":"300490","color":"#1664AB","h":0.0831997964053274,"id":3,"size":1,"stdErr":1,"vColor":9,"vColorValue":9,"vSize":1,"w":0.0225502067185322,"x0":0.123321442991973,"y0":0.916800203594673},{"name":"300590","color":"#1664AB","h":0.0831997964053274,"id":4,"size":1,"stdErr":1,"vColor":9,"vColorValue":9,"vSize":1,"w":0.0225502067185322,"x0":0.123321442991973,"y0":0.833600407189345},{"name":"30311","color":"#1664AB","h":0.066559837124262,"id":5,"size":1,"stdErr":1,"vColor":9,"vColorValue":9,"vSize":1,"w":0.0281877583981652,"x0":0.145871649710505,"y0":0.933440162875738},{"name":"30323","color":"#1664AB","h":0.066559837124262,"id":6,"size":1,"stdErr":1,"vColor":9,"vColorValue":9,"vSize":1,"w":0.0281877583981652,"x0":0.17405940810867,"y0":0.933440162875738},{"name":"30475","color":"#1664AB","h":0.0475427408030442,"id":7,"size":2,"stdErr":2,"vColor":9,"vColorValue":9,"vSize":2,"w":0.0789257235148627,"x0":0.123321442991973,"y0":0.786057666386301},{"name":"30489","color":"#1664AB","h":0.0499198778431965,"id":8,"size":1,"stdErr":1,"vColor":9,"vColorValue":9,"vSize":1,"w":0.0375836778642203,"x0":0.145871649710505,"y0":0.883520285032542},{"name":"30492","color":"#1664AB","h":0.0499198778431965,"id":9,"size":1,"stdErr":1,"vColor":9,"vColorValue":9,"vSize":1,"w":0.0375836778642203,"x0":0.145871649710505,"y0":0.833600407189345},{"name":"30563","color":"#1664AB","h":0.0998397556863929,"id":10,"size":1,"stdErr":1,"vColor":9,"vColorValue":9,"vSize":1,"w":0.0187918389321102,"x0":0.183455327574725,"y0":0.833600407189345},{"name":"30617","color":"#1664AB","h":0.166399592810655,"id":11,"size":7,"stdErr":7,"vColor":9,"vColorValue":9,"vSize":7,"w":0.0789257235148627,"x0":0.123321442991973,"y0":0.619658073575646}]},{"name":"catfish","color":"#08306B","h":0.584427838164251,"id":12,"size":32,"stdErr":32,"vColor":225,"vColorValue":225,"vSize":32,"w":0.102728719495536,"x0":0.202247166506836,"y0":0.415572161835749,"children":[{"name":"300590","color":"#08306B","h":0.109580219655797,"id":13,"size":2,"stdErr":2,"vColor":15,"vColorValue":15,"vSize":2,"w":0.0342429064985118,"x0":0.202247166506836,"y0":0.726049450860507},{"name":"30329","color":"#08306B","h":0.0821851647418478,"id":14,"size":1,"stdErr":1,"vColor":15,"vColorValue":15,"vSize":1,"w":0.0228286043323412,"x0":0.202247166506836,"y0":0.917814835258152},{"name":"30331","color":"#08306B","h":0.0821851647418478,"id":15,"size":1,"stdErr":1,"vColor":15,"vColorValue":15,"vSize":1,"w":0.0228286043323412,"x0":0.202247166506836,"y0":0.835629670516304},{"name":"30366","color":"#08306B","h":0.0821851647418478,"id":16,"size":1,"stdErr":1,"vColor":15,"vColorValue":15,"vSize":1,"w":0.0228286043323412,"x0":0.225075770839177,"y0":0.917814835258152},{"name":"30389","color":"#08306B","h":0.0547901098278985,"id":17,"size":3,"stdErr":3,"vColor":15,"vColorValue":15,"vSize":3,"w":0.102728719495536,"x0":0.202247166506836,"y0":0.671259341032609},{"name":"30391","color":"#08306B","h":0.0821851647418479,"id":18,"size":1,"stdErr":1,"vColor":15,"vColorValue":15,"vSize":1,"w":0.0228286043323412,"x0":0.225075770839177,"y0":0.835629670516304},{"name":"30461","color":"#08306B","h":0.109580219655797,"id":19,"size":2,"stdErr":2,"vColor":15,"vColorValue":15,"vSize":2,"w":0.0342429064985118,"x0":0.236490073005347,"y0":0.726049450860507},{"name":"30462","color":"#08306B","h":0.0657481317934783,"id":20,"size":1,"stdErr":1,"vColor":15,"vColorValue":15,"vSize":1,"w":0.0285357554154265,"x0":0.247904375171518,"y0":0.934251868206522},{"name":"30471","color":"#08306B","h":0.0730534797705313,"id":21,"size":4,"stdErr":4,"vColor":15,"vColorValue":15,"vSize":4,"w":0.102728719495536,"x0":0.202247166506836,"y0":0.598205861262077},{"name":"30475","color":"#08306B","h":0.0657481317934783,"id":22,"size":1,"stdErr":1,"vColor":15,"vColorValue":15,"vSize":1,"w":0.0285357554154265,"x0":0.276440130586944,"y0":0.934251868206522},{"name":"30481","color":"#08306B","h":0.109580219655797,"id":23,"size":2,"stdErr":2,"vColor":15,"vColorValue":15,"vSize":2,"w":0.0342429064985118,"x0":0.270732979503859,"y0":0.726049450860507},{"name":"30617","color":"#08306B","h":0.182633699426329,"id":24,"size":10,"stdErr":10,"vColor":15,"vColorValue":15,"vSize":10,"w":0.102728719495536,"x0":0.202247166506836,"y0":0.415572161835749},{"name":"30619","color":"#08306B","h":0.0493110988451087,"id":25,"size":1,"stdErr":1,"vColor":15,"vColorValue":15,"vSize":1,"w":0.0380476738872354,"x0":0.247904375171518,"y0":0.884940769361413},{"name":"30749","color":"#08306B","h":0.0493110988451087,"id":26,"size":1,"stdErr":1,"vColor":15,"vColorValue":15,"vSize":1,"w":0.0380476738872354,"x0":0.247904375171518,"y0":0.835629670516304},{"name":"30752","color":"#08306B","h":0.0986221976902174,"id":27,"size":1,"stdErr":1,"vColor":15,"vColorValue":15,"vSize":1,"w":0.0190238369436177,"x0":0.285952049058753,"y0":0.835629670516304}]},{"name":"chub_mackerel","color":"#08306B","h":0.203011775362319,"id":28,"size":33,"stdErr":33,"vColor":144,"vColorValue":144,"vSize":33,"w":0.304975886002371,"x0":0,"y0":0.21256038647343,"children":[{"name":"30312","color":"#084A92","h":0.101505887681159,"id":29,"size":2,"stdErr":2,"vColor":12,"vColorValue":12,"vSize":2,"w":0.0369667740608935,"x0":0.00924169351522336,"y0":0.314066274154589},{"name":"30323","color":"#084A92","h":0.203011775362319,"id":30,"size":6,"stdErr":6,"vColor":12,"vColorValue":12,"vSize":6,"w":0.0554501610913402,"x0":0.184833870304467,"y0":0.21256038647343},{"name":"30355","color":"#084A92","h":0.101505887681159,"id":31,"size":2,"stdErr":2,"vColor":12,"vColorValue":12,"vSize":2,"w":0.0369667740608935,"x0":0.00924169351522336,"y0":0.21256038647343},{"name":"30366","color":"#084A92","h":0.101505887681159,"id":32,"size":2,"stdErr":2,"vColor":12,"vColorValue":12,"vSize":2,"w":0.0369667740608935,"x0":0.0462084675761168,"y0":0.314066274154589},{"name":"30389","color":"#084A92","h":0.101505887681159,"id":33,"size":2,"stdErr":2,"vColor":12,"vColorValue":12,"vSize":2,"w":0.0369667740608935,"x0":0.0462084675761168,"y0":0.21256038647343},{"name":"30462","color":"#084A92","h":0.101505887681159,"id":34,"size":2,"stdErr":2,"vColor":12,"vColorValue":12,"vSize":2,"w":0.0369667740608935,"x0":0.0831752416370103,"y0":0.314066274154589},{"name":"30481","color":"#084A92","h":0.101505887681159,"id":35,"size":2,"stdErr":2,"vColor":12,"vColorValue":12,"vSize":2,"w":0.0369667740608935,"x0":0.120142015697904,"y0":0.314066274154589},{"name":"30487","color":"#084A92","h":0.203011775362319,"id":36,"size":1,"stdErr":1,"vColor":12,"vColorValue":12,"vSize":1,"w":0.00924169351522336,"x0":0,"y0":0.21256038647343},{"name":"30614","color":"#084A92","h":0.101505887681159,"id":37,"size":2,"stdErr":2,"vColor":12,"vColorValue":12,"vSize":2,"w":0.0369667740608935,"x0":0.0831752416370103,"y0":0.21256038647343},{"name":"30617","color":"#084A92","h":0.203011775362319,"id":38,"size":7,"stdErr":7,"vColor":12,"vColorValue":12,"vSize":7,"w":0.0646918546065636,"x0":0.240284031395807,"y0":0.21256038647343},{"name":"30729","color":"#084A92","h":0.101505887681159,"id":39,"size":2,"stdErr":2,"vColor":12,"vColorValue":12,"vSize":2,"w":0.0369667740608935,"x0":0.120142015697904,"y0":0.21256038647343},{"name":"30749","color":"#084A92","h":0.203011775362319,"id":40,"size":3,"stdErr":3,"vColor":12,"vColorValue":12,"vSize":3,"w":0.0277250805456701,"x0":0.157108789758797,"y0":0.21256038647343}]},{"name":"cod2","color":"#1664AB","h":1,"id":41,"size":193,"stdErr":193,"vColor":9,"vColorValue":9,"vSize":193,"w":0.362101313320826,"x0":0.637898686679174,"y0":0,"children":[{"name":"30363","color":"#4A97C9","h":0.544041450777202,"id":42,"size":105,"stdErr":105,"vColor":3,"vColorValue":3,"vSize":105,"w":0.362101313320826,"x0":0.637898686679174,"y0":0},{"name":"30461","color":"#4A97C9","h":0.455958549222798,"id":43,"size":52,"stdErr":52,"vColor":3,"vColorValue":3,"vSize":52,"w":0.213968957871397,"x0":0.786031042128603,"y0":0.544041450777202},{"name":"30729","color":"#4A97C9","h":0.455958549222798,"id":44,"size":36,"stdErr":36,"vColor":3,"vColorValue":3,"vSize":36,"w":0.148132355449429,"x0":0.637898686679174,"y0":0.544041450777202}]},{"name":"herring","color":"#08306B","h":0.167350447626716,"id":45,"size":11,"stdErr":11,"vColor":64,"vColorValue":64,"vSize":11,"w":0.123321442991973,"x0":0,"y0":0.832649552373284,"children":[{"name":"300490","color":"#1F6EB3","h":0.0557834825422386,"id":46,"size":1,"stdErr":1,"vColor":8,"vColorValue":8,"vSize":1,"w":0.0336331208159926,"x0":0,"y0":0.944216517457761},{"name":"30311","color":"#1F6EB3","h":0.0557834825422386,"id":47,"size":1,"stdErr":1,"vColor":8,"vColorValue":8,"vSize":1,"w":0.0336331208159926,"x0":0.0336331208159926,"y0":0.944216517457761},{"name":"30461","color":"#1F6EB3","h":0.167350447626716,"id":48,"size":2,"stdErr":2,"vColor":8,"vColorValue":8,"vSize":2,"w":0.0224220805439951,"x0":0.0672662416319852,"y0":0.832649552373284},{"name":"30471","color":"#1F6EB3","h":0.0557834825422386,"id":49,"size":1,"stdErr":1,"vColor":8,"vColorValue":8,"vSize":1,"w":0.0336331208159926,"x0":0,"y0":0.888433034915523},{"name":"30481","color":"#1F6EB3","h":0.0557834825422386,"id":50,"size":1,"stdErr":1,"vColor":8,"vColorValue":8,"vSize":1,"w":0.0336331208159926,"x0":0,"y0":0.832649552373284},{"name":"30614","color":"#1F6EB3","h":0.0557834825422386,"id":51,"size":1,"stdErr":1,"vColor":8,"vColorValue":8,"vSize":1,"w":0.0336331208159926,"x0":0.0336331208159926,"y0":0.888433034915523},{"name":"30617","color":"#1F6EB3","h":0.167350447626716,"id":52,"size":3,"stdErr":3,"vColor":8,"vColorValue":8,"vSize":3,"w":0.0336331208159926,"x0":0.0896883221759803,"y0":0.832649552373284},{"name":"30749","color":"#1F6EB3","h":0.0557834825422386,"id":53,"size":1,"stdErr":1,"vColor":8,"vColorValue":8,"vSize":1,"w":0.0336331208159926,"x0":0.0336331208159926,"y0":0.832649552373284}]},{"name":"lichen","color":"#61A7D2","h":0.78743961352657,"id":54,"size":35,"stdErr":35,"vColor":1,"vColorValue":1,"vSize":35,"w":0.0833918438287733,"x0":0.304975886002371,"y0":0.21256038647343,"children":[{"name":"300510","color":"#61A7D2","h":0.78743961352657,"id":55,"size":35,"stdErr":35,"vColor":1,"vColorValue":1,"vSize":35,"w":0.0833918438287733,"x0":0.304975886002371,"y0":0.21256038647343}]},{"name":"mackerel","color":"#08306B","h":0.204085911739897,"id":56,"size":22,"stdErr":22,"vColor":225,"vColorValue":225,"vSize":22,"w":0.202247166506836,"x0":0,"y0":0.415572161835749,"children":[{"name":"30311","color":"#08306B","h":0.0680286372466324,"id":57,"size":1,"stdErr":1,"vColor":15,"vColorValue":15,"vSize":1,"w":0.0275791590691139,"x0":0,"y0":0.551629436329014},{"name":"30312","color":"#08306B","h":0.0680286372466324,"id":58,"size":1,"stdErr":1,"vColor":15,"vColorValue":15,"vSize":1,"w":0.0275791590691139,"x0":0,"y0":0.483600799082381},{"name":"30323","color":"#08306B","h":0.0680286372466324,"id":59,"size":1,"stdErr":1,"vColor":15,"vColorValue":15,"vSize":1,"w":0.0275791590691139,"x0":0,"y0":0.415572161835749},{"name":"30461","color":"#08306B","h":0.102042955869949,"id":60,"size":2,"stdErr":2,"vColor":15,"vColorValue":15,"vSize":2,"w":0.0367722120921519,"x0":0.0919305302303798,"y0":0.517615117705697},{"name":"30472","color":"#08306B","h":0.0583102604971135,"id":61,"size":1,"stdErr":1,"vColor":15,"vColorValue":15,"vSize":1,"w":0.0321756855806329,"x0":0.0275791590691139,"y0":0.561347813078533},{"name":"30475","color":"#08306B","h":0.0583102604971135,"id":62,"size":1,"stdErr":1,"vColor":15,"vColorValue":15,"vSize":1,"w":0.0321756855806329,"x0":0.0597548446497469,"y0":0.561347813078533},{"name":"30481","color":"#08306B","h":0.0728878256213919,"id":63,"size":1,"stdErr":1,"vColor":15,"vColorValue":15,"vSize":1,"w":0.0257405484645063,"x0":0.0275791590691139,"y0":0.488459987457141},{"name":"30489","color":"#08306B","h":0.102042955869949,"id":64,"size":2,"stdErr":2,"vColor":15,"vColorValue":15,"vSize":2,"w":0.0367722120921519,"x0":0.0919305302303798,"y0":0.415572161835749},{"name":"30499","color":"#08306B","h":0.0728878256213919,"id":65,"size":1,"stdErr":1,"vColor":15,"vColorValue":15,"vSize":1,"w":0.0257405484645063,"x0":0.0275791590691139,"y0":0.415572161835749},{"name":"30615","color":"#08306B","h":0.0485918837475946,"id":66,"size":1,"stdErr":1,"vColor":15,"vColorValue":15,"vSize":1,"w":0.0386108226967595,"x0":0.0533197075336203,"y0":0.512755929330938},{"name":"30617","color":"#08306B","h":0.204085911739897,"id":67,"size":4,"stdErr":4,"vColor":15,"vColorValue":15,"vSize":4,"w":0.0367722120921519,"x0":0.165474954414684,"y0":0.415572161835749},{"name":"30729","color":"#08306B","h":0.102042955869949,"id":68,"size":2,"stdErr":2,"vColor":15,"vColorValue":15,"vSize":2,"w":0.0367722120921519,"x0":0.128702742322532,"y0":0.517615117705697},{"name":"30732","color":"#08306B","h":0.102042955869949,"id":69,"size":2,"stdErr":2,"vColor":15,"vColorValue":15,"vSize":2,"w":0.0367722120921519,"x0":0.128702742322532,"y0":0.415572161835749},{"name":"30749","color":"#08306B","h":0.0485918837475946,"id":70,"size":1,"stdErr":1,"vColor":15,"vColorValue":15,"vSize":1,"w":0.0386108226967595,"x0":0.0533197075336203,"y0":0.464164045583343},{"name":"30759","color":"#08306B","h":0.0485918837475946,"id":71,"size":1,"stdErr":1,"vColor":15,"vColorValue":15,"vSize":1,"w":0.0386108226967595,"x0":0.0533197075336203,"y0":0.415572161835749}]},{"name":"pollock","color":"#08306B","h":0.212991478797638,"id":72,"size":14,"stdErr":14,"vColor":100,"vColorValue":100,"vSize":14,"w":0.123321442991973,"x0":0,"y0":0.619658073575646,"children":[{"name":"30311","color":"#105CA5","h":0.0709971595992127,"id":73,"size":1,"stdErr":1,"vColor":10,"vColorValue":10,"vSize":1,"w":0.0264260234982799,"x0":0,"y0":0.761652392774071},{"name":"30323","color":"#105CA5","h":0.0709971595992127,"id":74,"size":1,"stdErr":1,"vColor":10,"vColorValue":10,"vSize":1,"w":0.0264260234982799,"x0":0.0264260234982799,"y0":0.761652392774071},{"name":"30461","color":"#105CA5","h":0.106495739398819,"id":75,"size":2,"stdErr":2,"vColor":10,"vColorValue":10,"vSize":2,"w":0.0352346979977065,"x0":0.0528520469965598,"y0":0.726153812974465},{"name":"30472","color":"#105CA5","h":0.0709971595992128,"id":76,"size":1,"stdErr":1,"vColor":10,"vColorValue":10,"vSize":1,"w":0.0264260234982799,"x0":0,"y0":0.690655233174859},{"name":"30475","color":"#105CA5","h":0.0709971595992128,"id":77,"size":1,"stdErr":1,"vColor":10,"vColorValue":10,"vSize":1,"w":0.0264260234982799,"x0":0.0264260234982799,"y0":0.690655233174859},{"name":"30489","color":"#105CA5","h":0.106495739398819,"id":78,"size":2,"stdErr":2,"vColor":10,"vColorValue":10,"vSize":2,"w":0.0352346979977065,"x0":0.0528520469965598,"y0":0.619658073575646},{"name":"30499","color":"#105CA5","h":0.0709971595992128,"id":79,"size":1,"stdErr":1,"vColor":10,"vColorValue":10,"vSize":1,"w":0.0264260234982799,"x0":0,"y0":0.619658073575646},{"name":"30615","color":"#105CA5","h":0.0709971595992128,"id":80,"size":1,"stdErr":1,"vColor":10,"vColorValue":10,"vSize":1,"w":0.0264260234982799,"x0":0.0264260234982799,"y0":0.619658073575646},{"name":"30617","color":"#105CA5","h":0.106495739398819,"id":81,"size":2,"stdErr":2,"vColor":10,"vColorValue":10,"vSize":2,"w":0.0352346979977065,"x0":0.0880867449942663,"y0":0.726153812974465},{"name":"30729","color":"#105CA5","h":0.106495739398819,"id":82,"size":2,"stdErr":2,"vColor":10,"vColorValue":10,"vSize":2,"w":0.0352346979977065,"x0":0.0880867449942663,"y0":0.619658073575646}]},{"name":"salmon","color":"#4090C5","h":1,"id":83,"size":80,"stdErr":80,"vColor":4,"vColorValue":4,"vSize":80,"w":0.150093808630394,"x0":0.48780487804878,"y0":0,"children":[{"name":"30614","color":"#57A0CE","h":0.6375,"id":84,"size":51,"stdErr":51,"vColor":2,"vColorValue":2,"vSize":51,"w":0.150093808630394,"x0":0.48780487804878,"y0":0},{"name":"30619","color":"#57A0CE","h":0.3625,"id":85,"size":29,"stdErr":29,"vColor":2,"vColorValue":2,"vSize":29,"w":0.150093808630394,"x0":0.48780487804878,"y0":0.6375}]},{"name":"salmon_wgl","color":"#08306B","h":0.21256038647343,"id":86,"size":44,"stdErr":44,"vColor":49,"vColorValue":49,"vSize":44,"w":0.388367729831144,"x0":0,"y0":0,"children":[{"name":"300510","color":"#2676B7","h":0.21256038647343,"id":87,"size":32,"stdErr":32,"vColor":7,"vColorValue":7,"vSize":32,"w":0.282449258059014,"x0":0.10591847177213,"y0":0},{"name":"30323","color":"#2676B7","h":0.0531400966183575,"id":88,"size":1,"stdErr":1,"vColor":7,"vColorValue":7,"vSize":1,"w":0.0353061572573768,"x0":0,"y0":0.159420289855072},{"name":"30461","color":"#2676B7","h":0.0531400966183575,"id":89,"size":1,"stdErr":1,"vColor":7,"vColorValue":7,"vSize":1,"w":0.0353061572573768,"x0":0,"y0":0.106280193236715},{"name":"30462","color":"#2676B7","h":0.0531400966183575,"id":90,"size":1,"stdErr":1,"vColor":7,"vColorValue":7,"vSize":1,"w":0.0353061572573768,"x0":0,"y0":0.0531400966183575},{"name":"30475","color":"#2676B7","h":0.106280193236715,"id":91,"size":4,"stdErr":4,"vColor":7,"vColorValue":7,"vSize":4,"w":0.0706123145147535,"x0":0.0353061572573768,"y0":0.106280193236715},{"name":"30616","color":"#2676B7","h":0.106280193236715,"id":92,"size":4,"stdErr":4,"vColor":7,"vColorValue":7,"vSize":4,"w":0.0706123145147535,"x0":0.0353061572573768,"y0":0},{"name":"30722","color":"#2676B7","h":0.0531400966183575,"id":93,"size":1,"stdErr":1,"vColor":7,"vColorValue":7,"vSize":1,"w":0.0353061572573768,"x0":0,"y0":0}]},{"name":"tuna","color":"#08306B","h":1,"id":94,"size":53,"stdErr":53,"vColor":36,"vColorValue":36,"vSize":53,"w":0.0994371482176361,"x0":0.388367729831144,"y0":0,"children":[{"name":"30479","color":"#2E7EBB","h":0.188679245283019,"id":95,"size":10,"stdErr":10,"vColor":6,"vColorValue":6,"vSize":10,"w":0.0994371482176361,"x0":0.388367729831144,"y0":0.377358490566038},{"name":"30563","color":"#2E7EBB","h":0.377358490566038,"id":96,"size":20,"stdErr":20,"vColor":6,"vColorValue":6,"vSize":20,"w":0.0994371482176361,"x0":0.388367729831144,"y0":0},{"name":"30732","color":"#2E7EBB","h":0.226415094339623,"id":97,"size":6,"stdErr":6,"vColor":6,"vColorValue":6,"vSize":6,"w":0.049718574108818,"x0":0.388367729831144,"y0":0.69811320754717},{"name":"30739","color":"#2E7EBB","h":0.0754716981132075,"id":98,"size":4,"stdErr":4,"vColor":6,"vColorValue":6,"vSize":4,"w":0.0994371482176361,"x0":0.388367729831144,"y0":0.924528301886792},{"name":"30743","color":"#2E7EBB","h":0.132075471698113,"id":99,"size":7,"stdErr":7,"vColor":6,"vColorValue":6,"vSize":7,"w":0.0994371482176361,"x0":0.388367729831144,"y0":0.566037735849057},{"name":"30749","color":"#2E7EBB","h":0.226415094339623,"id":100,"size":6,"stdErr":6,"vColor":6,"vColorValue":6,"vSize":6,"w":0.049718574108818,"x0":0.438086303939962,"y0":0.69811320754717}]}]},"meta":{"type":"value","vSize":"weight","vColor":"hscount","stdErr":"weight","algorithm":"pivotSize","vpCoorX":[0.0164041994750656,0.983595800524934],"vpCoorY":[0.143070866141732,0.925262467191601],"aspRatio":2.47302988104626,"range":[0,14],"mapping":[null,null,null],"draw":true},"options":{"id":"id","celltext":"name","valueField":"size"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Observations:</strong></p>
<ul>
<li>From the predicted knowledge graph links, Cod2 program has the highest amount of transaction counts followed by salmon.</li>
<li>There are multiple hscode tagged to each fish types. However, this is an exception to Lichen, which only have 1 hscode - 300510. Salmon and cod2 have a lower count, while mackerel and catfish have 15 different hs code as identified in the differences in gradient.</li>
<li>Upon closer inspection, It has been observed that there are various hscode that are not comprehensive. The sub-header is missing. e.g.&nbsp;hscode in salmon and cod2 contain five digits whereas lichen has six digits hscode.</li>
</ul>
<section id="structure-of-hscode" class="level4">
<h4 class="anchored" data-anchor-id="structure-of-hscode">5.3.1 Structure of Hscode</h4>
<p>Noting that the Hscode in the bundles are not comprehensive, we would like to examine the list of companies who have incomplete hscode. We retrieved the top 20 with more than 10 transactions and uses an <code>ifelse</code> function to include <code>Unknown</code> to rcvcountry with <code>N/A</code>. Thereafter, <code>rename()</code> is used to change <u>rcvcountry to group</u> for color coding.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co">#filter for companies with 5 digits hscode </span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>combined_edges_cleaned_30hscount_new <span class="ot">&lt;-</span> combined_edges_cleaned_30hscount <span class="sc">%&gt;%</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">nchar</span>(hscode) <span class="sc">==</span> <span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="co">#filter the main edges file with the filtered 5 digits hscode</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>combined_edges_cleaned_filtered <span class="ot">&lt;-</span> combined_edges_cleaned <span class="sc">%&gt;%</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hscode <span class="sc">%in%</span> combined_edges_cleaned_30hscount_new<span class="sc">$</span>hscode) <span class="sc">%&gt;%</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a><span class="co"># combined both df through left join </span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>combined_edges_cleaned_newedges <span class="ot">&lt;-</span> <span class="fu">left_join</span>(combined_edges_cleaned_filtered,</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>                          combined_edges_cleaned_30hscount_new,<span class="at">by =</span> <span class="st">"hscode"</span>)</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a><span class="co"># aggregate and retrieve top 20 rows with &gt;9 transactions </span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>combined_edges_cleaned_newedgestt <span class="ot">&lt;-</span> combined_edges_cleaned_newedges <span class="sc">%&gt;%</span></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source,target,hscode) <span class="sc">%&gt;%</span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">weight =</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source<span class="sc">!=</span>target) <span class="sc">%&gt;%</span></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(weight <span class="sc">&gt;</span><span class="dv">9</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(weight)) <span class="sc">%&gt;%</span></span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a><span class="co"># filter out the nodes in newedges </span></span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a>combined_nodes_filtered <span class="ot">&lt;-</span> combined_nodes <span class="sc">%&gt;%</span></span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">label =</span>id) <span class="sc">%&gt;%</span></span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(label <span class="sc">%in%</span> combined_edges_cleaned_newedgestt<span class="sc">$</span>source <span class="sc">|</span></span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a>           label <span class="sc">%in%</span> combined_edges_cleaned_newedgestt<span class="sc">$</span>target ) <span class="sc">%&gt;%</span></span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb27-32"><a href="#cb27-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-33"><a href="#cb27-33" aria-hidden="true" tabindex="-1"></a><span class="co">#left join to get id of the nodes </span></span>
<span id="cb27-34"><a href="#cb27-34" aria-hidden="true" tabindex="-1"></a>combined_nodes_filtered_addid <span class="ot">&lt;-</span> combined_nodes_filtered <span class="sc">%&gt;%</span></span>
<span id="cb27-35"><a href="#cb27-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(label <span class="sc">%in%</span> MC2_id_list_vis<span class="sc">$</span>label) <span class="sc">%&gt;%</span></span>
<span id="cb27-36"><a href="#cb27-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(MC2_id_list_vis,<span class="at">by=</span><span class="st">"label"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-37"><a href="#cb27-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(id,label) <span class="sc">%&gt;%</span></span>
<span id="cb27-38"><a href="#cb27-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">group =</span> rcvcountry) <span class="sc">%&gt;%</span></span>
<span id="cb27-39"><a href="#cb27-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb27-40"><a href="#cb27-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-41"><a href="#cb27-41" aria-hidden="true" tabindex="-1"></a><span class="co">#add unknown to N/A in rcvcountry </span></span>
<span id="cb27-42"><a href="#cb27-42" aria-hidden="true" tabindex="-1"></a>combined_nodes_filtered_addid<span class="sc">$</span>group<span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(combined_nodes_filtered_addid<span class="sc">$</span>group), <span class="st">"Unknown"</span>, combined_nodes_filtered_addid<span class="sc">$</span>group)</span>
<span id="cb27-43"><a href="#cb27-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-44"><a href="#cb27-44" aria-hidden="true" tabindex="-1"></a><span class="co">#append by matching exporters to the importers (list of unknown)</span></span>
<span id="cb27-45"><a href="#cb27-45" aria-hidden="true" tabindex="-1"></a>combined_edges_cleaned_newedges_test <span class="ot">&lt;-</span> combined_edges_cleaned_newedges <span class="sc">%&gt;%</span></span>
<span id="cb27-46"><a href="#cb27-46" aria-hidden="true" tabindex="-1"></a> <span class="fu">left_join</span>(combined_nodes_filtered_addid, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"source"</span> <span class="ot">=</span> <span class="st">"label"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb27-47"><a href="#cb27-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">from =</span> id) <span class="sc">%&gt;%</span></span>
<span id="cb27-48"><a href="#cb27-48" aria-hidden="true" tabindex="-1"></a> <span class="fu">left_join</span>(combined_nodes_filtered_addid, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"target"</span> <span class="ot">=</span> <span class="st">"label"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb27-49"><a href="#cb27-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">to =</span> id) <span class="sc">%&gt;%</span></span>
<span id="cb27-50"><a href="#cb27-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (<span class="sc">!</span><span class="fu">is.na</span>(to)) <span class="sc">%&gt;%</span></span>
<span id="cb27-51"><a href="#cb27-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(from,to) <span class="sc">%&gt;%</span></span>
<span id="cb27-52"><a href="#cb27-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">weight =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb27-53"><a href="#cb27-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (weight <span class="sc">&gt;</span><span class="dv">9</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-54"><a href="#cb27-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb27-55"><a href="#cb27-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-56"><a href="#cb27-56" aria-hidden="true" tabindex="-1"></a><span class="co">#output for dataframe using knitr:: kable</span></span>
<span id="cb27-57"><a href="#cb27-57" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(combined_nodes_filtered, <span class="st">"simple"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">abel</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Caracola del Sol Services</td>
</tr>
<tr class="even">
<td style="text-align: left;">Mar del Este CJSC</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Pao gan LC Freight</td>
</tr>
<tr class="even">
<td style="text-align: left;">hǎi dǎn Corporation Wharf</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Tsha wamba S.A. de C.V.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Saltwater Solitude N.V. International</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Black Sea Tuna Sagl</td>
</tr>
<tr class="even">
<td style="text-align: left;">Pao gan SE Seal</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Sea Breeze Corporation Marine sanctuary</td>
</tr>
<tr class="even">
<td style="text-align: left;">Selous Game Reserve S.A. de C.V.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">-2</td>
</tr>
<tr class="even">
<td style="text-align: left;">Aqua Azul LC International</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Arunachal Pradesh s Brine</td>
</tr>
<tr class="even">
<td style="text-align: left;">Belgian Cod BV Solutions</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Wave Watchers Ltd.&nbsp;Liability Co</td>
</tr>
<tr class="even">
<td style="text-align: left;">Manipur Market Corporation Cargo</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Náutica del Sol Corporation</td>
</tr>
<tr class="even">
<td style="text-align: left;">Matthew Oyj Marine sanctuary</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1 Ltd.&nbsp;Liability Co Cargo</td>
</tr>
<tr class="even">
<td style="text-align: left;">2 Limited Liability Company</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Arunachal Pradesh s Plc</td>
</tr>
<tr class="even">
<td style="text-align: left;">Kariba Dam Ges.m.b.H. Delivery</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Oceanic Opportunities CJSC Marine</td>
</tr>
<tr class="even">
<td style="text-align: left;">Norwegian Haddock GmbH &amp; Co.&nbsp;KG</td>
</tr>
<tr class="odd">
<td style="text-align: left;">-53</td>
</tr>
<tr class="even">
<td style="text-align: left;">Saltwater Surf Club Ltd.&nbsp;Liability Co Transport</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Belgian Scallop Harbor ОАО Freight</td>
</tr>
<tr class="even">
<td style="text-align: left;">David Limited Liability Company Worldwide</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Logistics Ltd.&nbsp;Liability Co</td>
</tr>
<tr class="even">
<td style="text-align: left;">Greek Octopus Ltd.&nbsp;Corporation</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Ancla de Oro Kga Import</td>
</tr>
<tr class="even">
<td style="text-align: left;">Samaka Chart ОАО Delivery</td>
</tr>
<tr class="odd">
<td style="text-align: left;">xiǎo xiā S.p.A. Deep-sea</td>
</tr>
<tr class="even">
<td style="text-align: left;">Faroe Islands Halibut Sea S.p.A. Distribution</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Irish Sea Salt spray</td>
</tr>
<tr class="even">
<td style="text-align: left;">Joseph Limited Liability Company</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>Observations:</strong></p>
<ul>
<li>Among the 36 companies identified with inaccurate hscode, we found out that two identified companies - <code>Mar del Este CJSC</code> and <code>hǎi dǎn Corporation Wharf</code> are included the list.</li>
</ul>
<p>Henceforth, we will plot a network graph to look into the interaction of the company and their receiving country.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(combined_nodes_filtered_addid, combined_edges_cleaned_newedges_test, <span class="at">main =</span><span class="st">"Companies with Inaccurate hs code </span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="st">           &lt;br&gt;and &gt;10 transactions &lt;br&gt;"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout_with_fr"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">visOptions</span>(<span class="at">highlightNearest =</span> <span class="cn">TRUE</span>,</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>,</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">selectedBy =</span> <span class="st">"group"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLegend</span>() <span class="sc">%&gt;%</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>) <span class="sc">%&gt;%</span> <span class="co">#indicate direction </span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span>(<span class="at">randomSeed =</span> <span class="dv">123</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLegend</span>() <span class="sc">%&gt;%</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addFontAwesome</span>(<span class="at">name =</span> <span class="st">"font-awesome"</span>) <span class="sc">%&gt;%</span> <span class="co">#add icon to network </span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visGroups</span>(<span class="at">groupname =</span> <span class="st">"Coralmarica"</span>, <span class="at">shape =</span> <span class="st">"icon"</span>, </span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">icon=</span> <span class="fu">list</span>(<span class="at">code =</span><span class="st">"f21a"</span>, <span class="at">color =</span> <span class="st">"#EBCC2A"</span> )) <span class="sc">%&gt;%</span> </span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visGroups</span>(<span class="at">groupname =</span> <span class="st">"Unknown"</span>, <span class="at">shape =</span> <span class="st">"icon"</span>, </span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">icon=</span> <span class="fu">list</span>(<span class="at">code =</span><span class="st">"f21a"</span>, <span class="at">color =</span> <span class="st">"#F21A00"</span> )) <span class="sc">%&gt;%</span> </span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visGroups</span>(<span class="at">groupname =</span> <span class="st">"Kuzalanda"</span>, <span class="at">shape =</span> <span class="st">"icon"</span>, </span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">icon=</span> <span class="fu">list</span>(<span class="at">code =</span><span class="st">"f21a"</span>, <span class="at">color =</span> <span class="st">"#606060"</span> )) <span class="sc">%&gt;%</span> </span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visGroups</span>(<span class="at">groupname =</span> <span class="st">"Merigrad"</span>, <span class="at">shape =</span> <span class="st">"icon"</span>, </span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>            <span class="at">icon=</span> <span class="fu">list</span>(<span class="at">code =</span><span class="st">"f21a"</span>, <span class="at">color =</span> <span class="st">"#00887d"</span> )) <span class="sc">%&gt;%</span> </span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">visGroups</span>(<span class="at">groupname =</span> <span class="st">"Oceanus"</span>, <span class="at">shape =</span> <span class="st">"icon"</span>, </span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>            <span class="at">icon=</span> <span class="fu">list</span>(<span class="at">code =</span><span class="st">"f21a"</span>, <span class="at">color =</span> <span class="st">"#3B9AB2"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visInteraction</span>(<span class="at">dragNodes =</span> <span class="cn">FALSE</span>, <span class="at">dragView =</span> <span class="cn">TRUE</span>, </span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a>                 <span class="at">zoomView =</span> <span class="cn">TRUE</span>, <span class="at">navigationButtons =</span> <span class="cn">TRUE</span>) <span class="co">#freeze network</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-154f03a073ad5d242bf3" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-154f03a073ad5d242bf3">{"x":{"nodes":{"id":["44","19","272","9","4939","9830","140","53","112","37","4668","1350","97","3783","1255","910","318","1602","2249","676","3896","3679","2090","3529","18338","26902","2050","6526","5356","2950","284","4976","4895","66","638","12918"],"label":["Caracola del Sol Services","Mar del Este CJSC","Pao gan LC Freight ","hǎi dǎn Corporation Wharf","Tsha wamba S.A. de C.V.","Saltwater Solitude N.V. International","Black Sea Tuna Sagl","Pao gan SE Seal","Sea Breeze Corporation Marine sanctuary","Selous Game Reserve  S.A. de C.V.","-2","Aqua Azul LC International","Arunachal Pradesh s Brine","Belgian Cod BV Solutions","Wave Watchers Ltd. Liability Co","Manipur  Market Corporation Cargo","Náutica del Sol Corporation","Matthew Oyj Marine sanctuary","1 Ltd. Liability Co Cargo","2 Limited Liability Company","Arunachal Pradesh s Plc","Kariba Dam   Ges.m.b.H. Delivery","Oceanic Opportunities CJSC Marine","Norwegian Haddock GmbH & Co. KG","-53","Saltwater Surf Club Ltd. Liability Co Transport","Belgian Scallop Harbor ОАО Freight ","David Limited Liability Company Worldwide","Logistics Ltd. Liability Co","Greek Octopus Ltd. Corporation","Ancla de Oro Kga Import","Samaka Chart ОАО Delivery","xiǎo xiā S.p.A. Deep-sea","Faroe Islands Halibut Sea S.p.A. Distribution","Irish Sea  Salt spray","Joseph Limited Liability Company"],"trade_status":["Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export","Export","Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Export"],"shpcountry":["Puerto Sol","Merigrad","-22004","Marebak","Faraluna","Polarisdom","Nalakond","Alverossia","Coralada","Isliandor","Helixia","Arreciviento","Nalakond","Coralmarica","Merigrad","Vesperanda","Mawazam","Marebak","Mawandia","Marebak","Osterivaria","Puerto del Mar","Mawandia","Alverossia","Lumindoria","Marebak","Marebak","Marebak","Oceanus","Isliandor","Vesperanda","Nalakond","Islavaria","Baziuzim","Marebak","Vesperanda"],"group":["Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Coralmarica","Merigrad","Oceanus","Oceanus","Unknown","Unknown","Oceanus","Oceanus","Oceanus","Coralmarica","Oceanus","Unknown","Unknown","Unknown","Kuzalanda","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Unknown"],"x":[0.94114821551683,-0.397726587643228,0.802913115169678,0.151230437338044,0.104363472572395,-0.088029421630028,-0.990516593179623,-0.0120537905508921,-0.74676760185695,0.418396377773872,0.571148857653079,0.711705231561268,0.553524835780518,-0.191090106710446,-0.567569485112125,-0.911074617989727,-0.879342990664977,-1,-0.112457505936526,-0.24967222553156,-0.744044664858709,0.317830099281931,0.283778076807146,-0.499249028644561,-0.591114006169979,0.149306239455265,0.544012149271196,-0.304982829915355,0.0605497734334808,-0.431286073562069,-0.552543605291753,0.755222691188347,0.8998201946941,0.721290773933979,1,0.190552793117212],"y":[-0.240450901646607,0.846487267945836,-0.536400976203163,0.814314224596996,-0.32930375313181,-0.324457997467557,0.112864594943293,-0.895565142573986,-0.523111026790232,-0.699074355697915,-0.225491404335727,0.71249370660217,0.798696248014664,0.184690279769861,0.759073925557339,-0.450014726086754,0.52923810148582,-0.0710893348279724,-0.733368693070354,0.973870741905756,0.406914927335159,0.295951674453953,0.107478552788335,-0.210064544889682,-0.0453571240358938,-1,-0.839006719103299,0.339364114102742,0.640708013327147,-0.909349323270959,-0.777934431870318,-0.331658174206083,0.297915638314081,0.362361825008958,0.138525045768817,1]},"edges":{"from":["1255","12918","1350","1602","2050","2249","26902","2950","3529","3679","3896","4895","4895","4939","4976","4976","4976","5356","6526","676","910"],"to":["19","9","97","140","37","53","53","284","18338","2090","318","638","66","9830","272","44","4668","9","3783","19","112"],"weight":[12,30,12,15,24,12,312,10,105,144,18,10,12,42,51,102,58,12,25,35,24]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"smooth":false,"arrows":"to"},"physics":{"stabilization":false},"layout":{"randomSeed":123},"groups":{"Coralmarica":{"shape":"icon","icon":{"code":"f21a","color":"#EBCC2A"}},"Unknown":{"shape":"icon","icon":{"code":"f21a","color":"#F21A00"}},"Kuzalanda":{"shape":"icon","icon":{"code":"f21a","color":"#606060"}},"Merigrad":{"shape":"icon","icon":{"code":"f21a","color":"#00887d"}},"useDefaultGroups":true,"Oceanus":{"shape":"icon","icon":{"code":"f21a","color":"#3B9AB2"}}},"interaction":{"dragNodes":false,"dragView":true,"navigationButtons":true,"zoomView":true,"zoomSpeed":1}},"groups":["Oceanus","Coralmarica","Merigrad","Unknown","Kuzalanda"],"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":true,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false,"variable":"group","main":"Select by group","values":["Coralmarica","Kuzalanda","Merigrad","Oceanus","Unknown"]},"main":{"text":"Companies with Inaccurate hs code \n           <br>and >10 transactions <br>","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;"},"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"legend":{"width":0.2,"useGroups":true,"position":"left","ncol":1,"stepX":100,"stepY":100,"zoom":true},"iconsRedraw":true,"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Observations:</strong></p>
<ul>
<li><p>Majority of the receiving companies are associated with Oceanus with a minority receiving from companies with no association.</p></li>
<li><p>There are no distinct cluster. Meanwhile, the two companies that we identified are importers who receives goods from two sources. However, there are no significant findings from the companies with incomplete Hscode and we would like to further determine if there are any incomplete Hscode in the main edges data frame.</p></li>
</ul>
</section>
<section id="incomplete-hscode-in-edges" class="level4">
<h4 class="anchored" data-anchor-id="incomplete-hscode-in-edges">5.3.2 Incomplete Hscode in Edges</h4>
<p>From the code chunk below, we did a quick check on the hscode in <code>MC2_challenge_edges</code>. We found out that all our transactions in the knowledge graph contains six digits hscode. As such, we will eliminate bundles with inaccurate hscode.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co">#filter for companies with 5 digits hscode</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>MC2_challenge_edges_check <span class="ot">&lt;-</span> MC2_challenge_edges <span class="sc">%&gt;%</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">nchar</span>(hscode) <span class="sc">==</span> <span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(MC2_challenge_edges_check)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</section>
<section id="accuracy-of-hscode" class="level4">
<h4 class="anchored" data-anchor-id="accuracy-of-hscode">5.3.3 Accuracy of Hscode</h4>
<p>Noting that <u>chapter 30</u> hscode does not include <code>Shark</code>, we will examine the accuracy of hscode by looking at the completion of the hscode in the following steps:</p>
<ul>
<li><p><code>Filter()</code> for companies with 5 digits hscode, 6 digits hscode separately</p></li>
<li><p>Aggregate the two data frame by the program (generated_by) using <code>group_by()</code> and count the occurrence using <code>summarize()</code></p></li>
<li><p>Create new columns to add the hscode status</p>
<p><em>(Complete for hscode with 6 digits, Incomplete for hscode with 5 digits)</em></p></li>
<li><p>Combined both data frame through <code>rbind</code> since there is an exact match in the number of columns</p></li>
<li><p>Plot the interactive stacked bar chart with <code>plot_ly()</code> in descending order</p></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co">#filter for companies with 6 digits hscode </span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>combined_edges_cleaned6 <span class="ot">&lt;-</span> combined_edges_cleaned <span class="sc">%&gt;%</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">nchar</span>(hscode) <span class="sc">==</span> <span class="dv">6</span>) <span class="sc">%&gt;%</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="co">#filter for companies  with 5 digits hscode</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>combined_edges_cleaned5 <span class="ot">&lt;-</span> combined_edges_cleaned <span class="sc">%&gt;%</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">nchar</span>(hscode) <span class="sc">==</span> <span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="co">#aggregate for program with 5digits hscode </span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>count5 <span class="ot">&lt;-</span> combined_edges_cleaned5 <span class="sc">%&gt;%</span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(generated_by) <span class="sc">%&gt;%</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span> ()</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a><span class="co">#aggregrate for program with 6 digits hscode </span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>count6 <span class="ot">&lt;-</span> combined_edges_cleaned6 <span class="sc">%&gt;%</span></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(generated_by) <span class="sc">%&gt;%</span></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span> ()</span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a><span class="co">#create new column to add hscode status </span></span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>count5<span class="sc">$</span>type <span class="ot">&lt;-</span> <span class="st">"Incomplete"</span></span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>count6<span class="sc">$</span>type <span class="ot">&lt;-</span> <span class="st">"Complete"</span></span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a><span class="co">#combined both df with rbind </span></span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a>combined_df <span class="ot">&lt;-</span> <span class="fu">rbind</span>(count5,count6)</span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an interactive stacked bar plot</span></span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_ly</span>(combined_df, <span class="at">x =</span> <span class="sc">~</span>generated_by, </span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="sc">~</span>count, <span class="at">color =</span> <span class="sc">~</span>type, <span class="at">type =</span> <span class="st">"bar"</span>) <span class="sc">|&gt;</span></span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">'Generated Program'</span>,</span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a>                      <span class="at">categoryorder =</span> <span class="st">"total descending"</span>),</span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a>         <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">'Count'</span>), </span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a>         <span class="at">title =</span> <span class="st">'Completion of Hscode by structure'</span>, </span>
<span id="cb31-37"><a href="#cb31-37" aria-hidden="true" tabindex="-1"></a>         <span class="at">barmode =</span> <span class="st">'stack'</span>)   <span class="co">#create stacked barchart</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-4266be5430585dddfd08" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-4266be5430585dddfd08">{"x":{"visdat":{"55154e179edd":["function () ","plotlyVisDat"]},"cur_data":"55154e179edd","attrs":{"55154e179edd":{"x":{},"y":{},"color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"Generated Program","categoryorder":"total descending","type":"category","categoryarray":["carp","catfish","chub_mackerel","cod2","herring","lichen","mackerel","pollock","salmon","salmon_wgl","shark","tuna"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"Count"},"title":"Completion of Hscode by structure","barmode":"stack","hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["carp","catfish","chub_mackerel","herring","lichen","mackerel","pollock","salmon","salmon_wgl","shark","tuna"],"y":[141,231,275,133,184,168,140,52,191,256,249],"type":"bar","name":"Complete","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["carp","catfish","chub_mackerel","cod2","herring","mackerel","pollock","salmon","salmon_wgl","tuna"],"y":[24,46,45,193,21,30,20,80,25,65],"type":"bar","name":"Incomplete","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Observations:</strong></p>
<ul>
<li>There is a high completion rate for most program tools with the exception of <code>Cod2</code> with Incomplete data throughout. It is deem as unreliable as everything is incomplete. On the flip side, data retrieved from <code>Lichen</code> and <code>Shark</code> have the highest accuracies. Thus, we concluded that <code>Lichen</code> and <code>Shark</code> are the reliable sets which will aid in the completion of the graph.</li>
</ul>
</section>
</section>
</section>
<section id="companies-with-unknown-trade-status" class="level1">
<h1>6. Companies with Unknown Trade Status</h1>
<p>As seen in the Section 2.1 Metadata , the shpcountry and rcvcountry refers to the country that the company are most often associated with. Therefore, a newly founded company might have an unknown status. This might be applicable for those who want to avoid detection and start up a new company under a different name.</p>
<p>Henceforth, we would to examine the group with unknown trade status. The code has been revised previously in section 3.5 when we are creating the Trade Status Column. The code chunks below filters for <code>unknown</code> in <code>trade_status</code> in the receiver end and filter for <code>Exporters</code> before doing a <code>left_join</code>.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co">#create df to filter list of unknown parties </span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>unknownMC2_nodes <span class="ot">&lt;-</span> MC2_id_list_vis <span class="sc">%&gt;%</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(trade_status <span class="sc">==</span> <span class="st">"Unknown"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="co">#create df to filter list of exporters who solely do export or both </span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>MC2_exporters <span class="ot">&lt;-</span> MC2_id_list_vis <span class="sc">%&gt;%</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(trade_status <span class="sc">==</span> <span class="st">"Export"</span> <span class="sc">|</span> trade_status <span class="sc">==</span> <span class="st">"Import &amp; Export"</span>)</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a><span class="co">#append by matching exporters to the importers (list of unknown)</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>unknownMC2 <span class="ot">&lt;-</span> MC2_challenge_edges <span class="sc">%&gt;%</span></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(MC2_exporters, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"sourcelabel"</span> <span class="ot">=</span> <span class="st">"label"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">from =</span> id) <span class="sc">%&gt;%</span></span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(unknownMC2_nodes, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"targetlabel"</span> <span class="ot">=</span> <span class="st">"label"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">to =</span> id) <span class="sc">%&gt;%</span></span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (<span class="sc">!</span><span class="fu">is.na</span>(to)) <span class="sc">%&gt;%</span></span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(from,to) <span class="sc">%&gt;%</span></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">weight =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (weight <span class="sc">&gt;</span><span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a><span class="co">#filter and aggregate for the nodes </span></span>
<span id="cb32-23"><a href="#cb32-23" aria-hidden="true" tabindex="-1"></a>unknownMC2_revnodes <span class="ot">&lt;-</span> MC2_id_list_vis <span class="sc">%&gt;%</span></span>
<span id="cb32-24"><a href="#cb32-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(id <span class="sc">%in%</span> unknownMC2<span class="sc">$</span>from <span class="sc">|</span> id <span class="sc">%in%</span> unknownMC2<span class="sc">$</span>to) <span class="sc">%&gt;%</span></span>
<span id="cb32-25"><a href="#cb32-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb32-26"><a href="#cb32-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-27"><a href="#cb32-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">group =</span> trade_status)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Similarly, <code>visNetwork</code> is used to plot the plot the interactive network graph with the <code>Fruchterman and Reingold</code> layout. We includes <code>addFontAwesome()</code> function to modify the color through <code>visGroups</code>. Custom navigation have been included with the feature to zoom and view, drag and view.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co">#create network diagram for exporters</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(unknownMC2_revnodes, unknownMC2, </span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">main =</span> <span class="st">"Exporters who ship to &lt;br&gt; Unknown Origin&lt;br&gt;"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout_with_fr"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visOptions</span>(<span class="at">highlightNearest =</span> <span class="cn">TRUE</span>,</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span> (<span class="at">randomSeed =</span> <span class="dv">123</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>) <span class="sc">%&gt;%</span> <span class="co">#indicate direction </span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addFontAwesome</span>(<span class="at">name =</span> <span class="st">"font-awesome"</span>) <span class="sc">%&gt;%</span> <span class="co">#add icon to network </span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>  <span class="co">#fill color and shape</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visGroups</span>(<span class="at">groupname =</span> <span class="st">"Unknown"</span>, <span class="at">shape =</span> <span class="st">"icon"</span>, </span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">icon=</span> <span class="fu">list</span>(<span class="at">code =</span><span class="st">"f21a"</span>, <span class="at">color =</span> <span class="st">"#E1AF00"</span> )) <span class="sc">%&gt;%</span> </span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visGroups</span>(<span class="at">groupname =</span> <span class="st">"Import &amp; Export"</span>, <span class="at">shape =</span> <span class="st">"icon"</span>, </span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">icon=</span> <span class="fu">list</span>(<span class="at">code =</span><span class="st">"f21a"</span>, <span class="at">color =</span> <span class="st">"#3B9AB2"</span> )) <span class="sc">%&gt;%</span> </span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLegend</span>() <span class="sc">%&gt;%</span></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visInteraction</span>(<span class="at">dragNodes =</span> <span class="cn">FALSE</span>, <span class="at">dragView =</span> <span class="cn">TRUE</span>, </span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>                 <span class="at">zoomView =</span> <span class="cn">TRUE</span>, <span class="at">navigationButtons =</span> <span class="cn">TRUE</span>) <span class="co">#freeze network</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-c6342acd0686576ad940" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-c6342acd0686576ad940">{"x":{"nodes":{"id":["1","2","9","19","20","24","26","37","49","61","63","67","68","69","70","89","90","91","93","95","99","122","124","131","138","143","149","158","171"],"label":["AquaDelight Inc and Son's","BaringoAmerica Marine Ges.m.b.H.","hǎi dǎn Corporation Wharf","Mar del Este CJSC","8.Marine United AG","SeaBass &  SE Tanker","Sailors and Surfers Incorporated Enterprises","Selous Game Reserve  S.A. de C.V.","Saltwater Supreme ОАО Forwading","ArawakFish Cargo Ges.m.b.H.","Punjab s Marine conservation","Kong zhong diao yu  A/S","Dry CreekWorldLogistics Ltd. Liability Co","-1515","Arunachal Pradesh s SRL","HomabayMarine Carriers N.V.","Selkie Ltd. Liability Co","lú yú GmbH & Co. KG","KambalaSea Freight  Inc","Coral Cove BV Delivery","Maacama Ocean Worldwide LLC","OranjestadCreek Express Sagl","-214","SamakaDredgeTransport OJSC","Fisherman's Best Marine conservation","SavanetaCreek Solutions NV","SouthSeafood Express Corp","StichtingMarine Shipping Company","SumacAmerica Transport GmbH & Co. KG"],"group":["Import & Export","Unknown","Import & Export","Import & Export","Unknown","Import & Export","Import & Export","Import & Export","Import & Export","Unknown","Import & Export","Import & Export","Unknown","Import & Export","Import & Export","Unknown","Import & Export","Import & Export","Unknown","Import & Export","Unknown","Unknown","Import & Export","Unknown","Import & Export","Unknown","Unknown","Unknown","Unknown"],"x":[-0.483295459835231,-0.330852920780145,-0.0773877320410032,0.450289762803468,0.506361212767706,-0.02752673264829,0.513216305379315,-0.684465202795862,-1,0.19029576694318,0.417489834909624,-0.867091305904527,-0.804942153473432,-0.739779479720032,-0.579264478034198,0.128069060408649,0.38635828586032,0.0528470983765625,0.995748452586261,0.859229866345462,-0.248559994657142,-0.153197029928277,-0.171709400167853,0.382018418354301,0.898770414672894,0.245857698386736,-0.424445148290684,1,0.78582083453087],"y":[0.891418753550604,0.751118452018161,-0.507440753230642,0.383539781119491,0.139798656302495,1,-0.133934305479686,-0.569690090549984,0.0521934512110935,0.978753306878359,0.982864586379875,0.479466224886809,0.227009255499999,-0.0252121680885126,0.358185344733279,-0.763972966567904,-0.827879662089826,-1,-0.391987761618264,-0.567624378804316,-0.743488996076969,-0.208157036031414,0.0537905201498574,0.593550196799707,0.60940138045986,-0.330398916401051,-0.525679072800151,0.411368125911469,-0.0843691659122957]},"edges":{"from":["1","124","138","19","19","24","26","26","26","37","49","63","67","69","70","9","9","9","9","9","90","91","95"],"to":["2","122","158","131","20","61","143","171","20","149","68","61","68","68","68","122","143","149","89","99","89","89","93"],"weight":[2,2,2,2,2,2,2,2,2,2,4,2,4,4,4,3,2,2,2,2,2,2,2]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"smooth":false,"arrows":"to"},"physics":{"stabilization":false},"layout":{"randomSeed":123},"groups":{"Unknown":{"shape":"icon","icon":{"code":"f21a","color":"#E1AF00"}},"useDefaultGroups":true,"Import & Export":{"shape":"icon","icon":{"code":"f21a","color":"#3B9AB2"}}},"interaction":{"dragNodes":false,"dragView":true,"navigationButtons":true,"zoomView":true,"zoomSpeed":1}},"groups":["Import & Export","Unknown"],"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":{"text":"Exporters who ship to <br> Unknown Origin<br>","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;"},"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"iconsRedraw":true,"legend":{"width":0.2,"useGroups":true,"position":"left","ncol":1,"stepX":100,"stepY":100,"zoom":true},"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Based on the network above, two companies are identified to ship to three or more receivers with unknown origin. Further monitoring might be required for the group of receivers/importers below until they have a trade status.</p>
<table class="table">
<colgroup>
<col style="width: 54%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>Shipper</th>
<th>Receiver</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>hǎi dǎn Corporation Wharf</td>
<td><p>SouthSeafood Express Corp</p>
<p>Maacama Ocean Worldwide LLC</p>
<p>OranjestadCreek Express Sagl</p>
<p>SavanetaCreek Solutions NV</p>
<p>HomabayMarine Carriers N.V.</p></td>
</tr>
<tr class="even">
<td>Sailors and Surfers Incorporated Enterprises</td>
<td><p>SavanetaCreek Solutions NV</p>
<p>SumacAmerica Transport GmbH &amp; Co.&nbsp;KG</p>
<p>8.Marine United AG</p></td>
</tr>
</tbody>
</table>
</section>
<section id="companies-with-duplicated-entries" class="level1">
<h1>7. Companies with Duplicated Entries</h1>
<p>Although we have included the duplicated entries in our exercise, we would like to find out more about the companies with high duplicate counts. Thus, we filtered to the top 10 transactions by using <code>top_n()</code>.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co">#detect duplicate rows and aggregate it </span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>MC2_dup_rows <span class="ot">&lt;-</span> MC2_challenge_edges[<span class="fu">duplicated</span>(MC2_challenge_edges),] <span class="sc">%&gt;%</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">from =</span> source) <span class="sc">%&gt;%</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">to =</span> target) <span class="sc">%&gt;%</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(from,to) <span class="sc">%&gt;%</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">weight =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (weight <span class="sc">&gt;</span><span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a><span class="co">#filter top 10 transactions by weight</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>MC2_dup_top10 <span class="ot">&lt;-</span> MC2_dup_rows <span class="sc">%&gt;%</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">10</span>,weight)</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a><span class="co">#create df with corresponding nodes </span></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>MC2_dup_nodes <span class="ot">&lt;-</span> MC2_id_list_vis <span class="sc">%&gt;%</span></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(id <span class="sc">%in%</span> MC2_dup_top10<span class="sc">$</span>from <span class="sc">|</span> id <span class="sc">%in%</span> MC2_dup_top10<span class="sc">$</span>to) <span class="sc">%&gt;%</span></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">group =</span> trade_status)</span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a><span class="co">#create network diagram for exporters</span></span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(MC2_dup_nodes, MC2_dup_top10, </span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a>           <span class="at">main =</span> <span class="st">"Top 10 duplicated transactions"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-24"><a href="#cb34-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout_with_fr"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-25"><a href="#cb34-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visOptions</span>(<span class="at">highlightNearest =</span> <span class="cn">TRUE</span>,</span>
<span id="cb34-26"><a href="#cb34-26" aria-hidden="true" tabindex="-1"></a>             <span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-27"><a href="#cb34-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span>(<span class="at">randomSeed =</span> <span class="dv">123</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb34-28"><a href="#cb34-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>) <span class="sc">%&gt;%</span> <span class="co">#indicate direction </span></span>
<span id="cb34-29"><a href="#cb34-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addFontAwesome</span>(<span class="at">name =</span> <span class="st">"font-awesome"</span>) <span class="sc">%&gt;%</span> <span class="co">#add icon to network </span></span>
<span id="cb34-30"><a href="#cb34-30" aria-hidden="true" tabindex="-1"></a>  <span class="co">#fill color and shape</span></span>
<span id="cb34-31"><a href="#cb34-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLegend</span>() <span class="sc">%&gt;%</span></span>
<span id="cb34-32"><a href="#cb34-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visGroups</span>(<span class="at">groupname =</span> <span class="st">"Import"</span>, <span class="at">shape =</span> <span class="st">"icon"</span>, </span>
<span id="cb34-33"><a href="#cb34-33" aria-hidden="true" tabindex="-1"></a>            <span class="at">icon=</span> <span class="fu">list</span>(<span class="at">code =</span><span class="st">"f21a"</span>, <span class="at">color =</span> <span class="st">"#E1AF00"</span> )) <span class="sc">%&gt;%</span> </span>
<span id="cb34-34"><a href="#cb34-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visGroups</span>(<span class="at">groupname =</span> <span class="st">"Import &amp; Export"</span>, <span class="at">shape =</span> <span class="st">"icon"</span>, </span>
<span id="cb34-35"><a href="#cb34-35" aria-hidden="true" tabindex="-1"></a>            <span class="at">icon=</span> <span class="fu">list</span>(<span class="at">code =</span><span class="st">"f21a"</span>, <span class="at">color =</span> <span class="st">"#3B9AB2"</span> )) <span class="sc">%&gt;%</span> </span>
<span id="cb34-36"><a href="#cb34-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visInteraction</span>(<span class="at">dragNodes =</span> <span class="cn">FALSE</span>, <span class="at">dragView =</span> <span class="cn">TRUE</span>, </span>
<span id="cb34-37"><a href="#cb34-37" aria-hidden="true" tabindex="-1"></a>                 <span class="at">zoomView =</span> <span class="cn">TRUE</span>, <span class="at">navigationButtons =</span> <span class="cn">TRUE</span>) <span class="co">#freeze network</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-8f0b502ef417a2199255" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-8f0b502ef417a2199255">{"x":{"nodes":{"id":["6","49","59","77","82","95","141","255","379","449","895","1281","1283","2065","14880"],"label":["French Crab S.p.A. Worldwide","Saltwater Supreme ОАО Forwading","Oceanic Explorers Sashimi Inc Solutions","Himachal Pradesh   Plc International","Playa de la Luna Incorporated","Coral Cove BV Delivery","Belgian Shrimps Ocean Corp Holdings","Chhattisgarh   Marine ecology A/S Delivery","Marine Masterminds Dry dock","Icelandic Cod Pier ОАО Transport","Isla del Tesoro GmbH & Co. KG Chart","Isla del Mar Marine Oyj Transit","Caracola del Este Corporation Express","-2119","Himachal Pradesh   S.A. de C.V. America"],"group":["Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import & Export","Import","Import & Export"],"x":[-0.784140423622321,-0.509331229852341,-0.15865904620129,0.8615955483072,0.165643533449043,-0.88579211622989,-1,0.421759699107653,-0.174410194072613,-0.68826959208375,0.754742024114393,1,0.00126724276054846,0.158294693062282,0.934042353330581],"y":[0.468866652852047,0.722440281514622,-1,-0.497192771517342,1,-0.435938512982036,0.201311283553662,-0.930006940242548,0.901779335084466,-0.682231037349185,0.683859911444793,-0.214635782860567,-0.261997351222596,0.022772643398582,0.425501273588436]},"edges":{"from":["1281","1283","14880","255","379","379","449","59","6","6"],"to":["77","2065","895","255","49","82","95","59","141","49"],"weight":[5174,2277,3048,2652,20406,4502,1540,3041,9929,9272]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"smooth":false,"arrows":"to"},"physics":{"stabilization":false},"layout":{"randomSeed":123},"groups":{"Import":{"shape":"icon","icon":{"code":"f21a","color":"#E1AF00"}},"useDefaultGroups":true,"Import & Export":{"shape":"icon","icon":{"code":"f21a","color":"#3B9AB2"}}},"interaction":{"dragNodes":false,"dragView":true,"navigationButtons":true,"zoomView":true,"zoomSpeed":1}},"groups":["Import & Export","Import"],"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":{"text":"Top 10 duplicated transactions","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;"},"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"iconsRedraw":true,"legend":{"width":0.2,"useGroups":true,"position":"left","ncol":1,"stepX":100,"stepY":100,"zoom":true},"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Observations:</strong></p>
<ul>
<li>Companies with duplicated transactions tends to work with exclusivity . They do not have multiple interconnections and they operates on both ends of the trade, apart from <code>-2119</code> who is an importer. In depth analysis might be needed to identify individual companies.</li>
</ul>
</section>
<section id="conclusion" class="level1">
<h1>8. Conclusion:</h1>
<p>Thus far, the detection of illegal fishing has been a challenging issues. There are many attributes that could lead to illegal, unreported, and unregulated (IUU) fishing. In our exercise, we observed the following:</p>
<ul>
<li>Abnormality in transaction counts in time period. Transactions decreases over the years and peak around 2028-2030. By seasonality, March seems to be a period with low transactions. From the network graph, we identified that there it is highly saturated by some companies.</li>
<li>Hscode with highest transactions counts does not have the highest median weight. hs code <code>306170</code> ranked 1st in terms of volume and it belongs to the Chapter 30 family along with <code>304620</code>.</li>
<li>Further analysis of Chapter 30 revealed that the bundles created are not accurate. Most reliable sets goes to <code>Lichen</code> and <code>Shark</code> which have 100% accuracy in terms of hscode.</li>
<li>Monitoring required for companies with unknown trade status as there are companies who supplies to a group of unknown companies. Likewise, further analysis might be required to examine the patterns of companies with high duplicate counts.</li>
</ul>
</section>
<section id="references" class="level1">
<h1>References:</h1>
<p>Delignette-Muller, M. L., &amp; Dutang, C. (2020). visNetwork: Network Visualization using ‘vis.js’ Library. Retrieved May 28, 2023, from <a href="https://cran.r-project.org/web/packages/visNetwork/vignettes/Introduction-to-visNetwork.html"><strong>https://cran.r-project.org/web/packages/visNetwork/vignettes/Introduction-to-visNetwork.html</strong></a></p>
<p>Nagraj, R. (n.d.). Network Visualization in R with visNetwork. Retrieved May 28, 2023, from <a href="https://www.nagraj.net/notes/visnetwork/"><strong>https://www.nagraj.net/notes/visnetwork/</strong></a></p>
<p>R Graph Gallery. (n.d.). RColorBrewer Palettes. Retrieved May 28, 2023, from <a href="https://r-graph-gallery.com/38-rcolorbrewers-palettes.html"><strong>https://r-graph-gallery.com/38-rcolorbrewers-palettes.html</strong></a></p>
<p>Tran, J. (2021). Network Visualization in R - Centrality Measurement. Retrieved May 28, 2023, from <a href="https://jtr13.github.io/cc21fall2/network-visualization-in-r.html#centrality-measurement"><strong>https://jtr13.github.io/cc21fall2/network-visualization-in-r.html#centrality-measurement</strong></a></p>
<p>Tran, J. (2021). Network Visualization in R. Retrieved May 28, 2023, from <a href="https://jtr13.github.io/cc21fall2/network-visualization-in-r.html"><strong>https://jtr13.github.io/cc21fall2/network-visualization-in-r.html</strong></a></p>
<p>VAST Challenge (2023). VAST Challenge 2023 - Mini-Challenge 2: Fishy Business. Retrieved May 22 , 2023, from <a href="https://vast-challenge.github.io/2023/MC2.html"><strong>https://vast-challenge.github.io/2023/MC2.html</strong></a></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../Take-Home_Ex/Take_Home_Ex01/Take-Home_Ex01.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Take Home Exercise 1</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../Take-Home_Ex/Take_Home_Ex03/Take-Home_Ex03.html" class="pagination-link">
        <span class="nav-page-text">Take Home Exercise 3</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>