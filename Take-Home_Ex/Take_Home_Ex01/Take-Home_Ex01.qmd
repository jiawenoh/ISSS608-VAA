---
title: "Take Home Exercise 1"
subtitle: " Visual Analytics of the demographic and financial characteristics of residents in City of Engagement"
author: "Oh Jia Wen"
date: "TBC"
date-modified: "TBC"
execute: 
  warning: false
---

# 1. OVERVIEW

City of Engagement, with a total population of 50,000, is a small city located at Country of Nowhere. The city serves as a service centre of an agriculture region surrounding the city. The main agriculture of the region is fruit farms and vineyards. The local council of the city is in the process of preparing the Local Plan 2023. A sample survey of 1000 representative residents had been conducted to collect data related to their household demographic and spending patterns, among other things. The city aims to use the data to assist with their major community revitalization efforts, including how to allocate a very large city renewal grant they have recently received. 

## 1.1 The Task

In this take-home exercise, you are required to apply the concepts and methods you had learned in Lesson 1-4 to reveal the demographic and financial characteristics of the city of Engagement, using appropriate **static and interactive statistical graphics** methods. 

# 2. Data Source

# 3. Data Preparation

## 3.1 Install R-packages

Using p_load() of pacman package to load the required libraries

```{r}
pacman::p_load(ggiraph, plotly, patchwork, DT, tidyverse) 
```

## 3.2 Import Data

```{r}
participants <- read_csv("data/Participants.csv")
financial_journal <- read_csv("data/FinancialJournal.csv")
```
## 3.2.1 Data Table 

Participants
```{r}
head(participants)
```

Financial Journal
```{r}
head(financial_journal)
```

## 3.3 Data Wrangling 

As seen from the two data tables, there are inaccurate data types. 
Code with mutate from dplyr to reformat participantID from dbl to chr.

```{r}
#change data type of participantID from dbl to char 
participants %>%
  mutate(participantId = as.character(participantId))
financial_journal %>%
  mutate(participantId = as.character(participantId))

#change data type of EducationID from nominal to ordinal 
participants$educationLevel_factor <- factor(participants$educationLevel, order = TRUE, 
                                    levels = c("Low", "Graduate", "Bachelors","HighSchool0orCollege"))
```



Check for missing values 
```{r}
#Check for missing values
any(is.na(participants))
```

# 4. Demographics Insights

```{r}
participants$tooltip <- c(paste0(     
  "ID = ", participants$participantId,         
  "\n Household Size = ", participants$householdSize)) 

p <- ggplot(data=participants, 
       aes(x = householdSize)) +
     geom_bar()
p
```

# 5. Financial Health Insights

